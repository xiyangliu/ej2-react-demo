(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t,i){"use strict";var n=0;function r(e,t){var i=t;return i.unshift(void 0),new(Function.prototype.bind.apply(e,i))}function o(e,t){for(var i=t,n=e.replace(/\[/g,".").replace(/\]/g,"").split("."),r=0;r<n.length&&!d(i);r++)i=i[n[r]];return i}function a(e,t,i){var n,r,o=e.replace(/\[/g,".").replace(/\]/g,"").split("."),a=i||{},s=a,c=o.length;for(n=0;n<c;n++)r=o[n],n+1===c?s[r]=void 0===t?{}:t:h(s[r])&&(s[r]={}),s=s[r];return a}function s(e){return!h(e)&&e.constructor==={}.constructor}function c(e,t){if(!h(t))for(var i=e,n=t,r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];h(i.deepMerge)||-1===i.deepMerge.indexOf(a)||!s(n[a])&&!Array.isArray(n[a])?i[a]=n[a]:l(i[a],i[a],n[a],!0)}}function l(e,t,i,n){var r=e||{},o=arguments.length;n&&(o-=1);for(var a=function(e){if(!c[e])return"continue";var t=c[e];Object.keys(t).forEach(function(e){var i,o=r[e],a=t[e];n&&(s(a)||Array.isArray(a))?s(a)?(i=o||{},r[e]=l({},i,a,n)):(i=o||[],r[e]=l([],i,a,n)):r[e]=a})},c=arguments,h=1;h<o;h++)a(h);return r}function h(e){return void 0===e||null===e}function d(e){return"undefined"===typeof e}function p(e){return e+"_"+n++}function u(e,t){return e===t||!(e===document||!e)&&u(e.parentNode,t)}function f(e){try{throw new Error(e)}catch(t){throw t.message+"\n"+t.stack}}function g(e){var t=e+"";return"auto"===t||-1!==t.indexOf("%")||-1!==t.indexOf("px")?t:t+"px"}var m=/^(.*?):[ \t]*([^\r\n]*)$/gm,y="GET",v=function(){function e(e,t,i,n){this.mode=!0,this.emitError=!0,this.options={},"string"===typeof e?(this.url=e,this.type=t?t.toUpperCase():y,this.mode=!!h(i)||i):"object"===typeof e&&(this.options=e,c(this,this.options)),this.type=this.type?this.type.toUpperCase():y,this.contentType=void 0!==this.contentType?this.contentType:n}return e.prototype.send=function(e){var t=this;this.data=h(e)?this.data:e;var i={cancel:!1,httpRequest:null};return new Promise(function(e,n){t.httpRequest=new XMLHttpRequest,t.httpRequest.onreadystatechange=function(){t.stateChange(e,n)},h(t.onLoad)||(t.httpRequest.onload=t.onLoad),h(t.onProgress)||(t.httpRequest.onprogress=t.onProgress),h(t.onAbort)||(t.httpRequest.onabort=t.onAbort),h(t.onError)||(t.httpRequest.onerror=t.onError),h(t.onUploadProgress)||(t.httpRequest.upload.onprogress=t.onUploadProgress),t.httpRequest.open(t.type,t.url,t.mode),h(t.data)||null===t.contentType||t.httpRequest.setRequestHeader("Content-Type",t.contentType||"application/json; charset=utf-8"),t.beforeSend&&(i.httpRequest=t.httpRequest,t.beforeSend(i)),i.cancel||t.httpRequest.send(h(t.data)?null:t.data)})},e.prototype.successHandler=function(e){return this.onSuccess&&this.onSuccess(e,this),e},e.prototype.failureHandler=function(e){return this.onFailure&&this.onFailure(this.httpRequest),e},e.prototype.stateChange=function(e,t){var i=this.httpRequest.responseText;if(this.dataType&&"json"===this.dataType.toLowerCase())if(""===i)i=void 0;else try{i=JSON.parse(i)}catch(n){}4===this.httpRequest.readyState&&(this.httpRequest.status>=200&&this.httpRequest.status<=299||304===this.httpRequest.status?e(this.successHandler(i)):this.emitError?t(new Error(this.failureHandler(this.httpRequest.statusText))):e())},e.prototype.getResponseHeader=function(e){var t,i;t={};for(var n=m.exec(this.httpRequest.getAllResponseHeaders());n;)t[n[1].toLowerCase()]=n[2],n=m.exec(this.httpRequest.getAllResponseHeaders());return h(i=t[e.toLowerCase()])?null:i},e}(),b=function(){function e(){}return e.addOrGetEventData=function(e){return"__eventList"in e?e.__eventList.events:(e.__eventList={},e.__eventList.events=[])},e.add=function(t,i,n,r,o){var a,s=e.addOrGetEventData(t);a=o?function(e,t){var i;return function(){var n=this,r=arguments;clearTimeout(i),i=setTimeout(function(){return i=null,e.apply(n,r)},t)}}(n,o):n,r&&(a=a.bind(r));for(var c=i.split(" "),l=0;l<c.length;l++)s.push({name:c[l],listener:n,debounce:a}),t.addEventListener(c[l],a);return a},e.remove=function(t,i,n){for(var r=e.addOrGetEventData(t),o=i.split(" "),a=function(e){var i,a=-1;r&&0!==r.length&&r.some(function(t,r){return t.name===o[e]&&t.listener===n&&(a=r,i=t.debounce,!0)}),-1!==a&&r.splice(a,1),i&&t.removeEventListener(o[e],i)},s=0;s<o.length;s++)a(s)},e.clearEvents=function(t){var i,n;n=l([],n,i=e.addOrGetEventData(t));for(var r=0;r<n.length;r++)t.removeEventListener(n[r].name,n[r].debounce),i.shift()},e.trigger=function(t,i,n){for(var r=0,o=e.addOrGetEventData(t);r<o.length;r++){var a=o[r];a.name===i&&a.debounce.call(this,n)}},e}(),w=/^svg|^path|^g/;function O(e,t){var i=w.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return"undefined"===typeof t?i:(i.innerHTML=t.innerHTML?t.innerHTML:"",void 0!==t.className&&(i.className=t.className),void 0!==t.id&&(i.id=t.id),void 0!==t.styles&&i.setAttribute("style",t.styles),void 0!==t.attrs&&I(i,t.attrs),i)}function x(e,t){for(var i=S(t),n=0,r=e;n<r.length;n++)for(var o=r[n],a=0,s=i;a<s.length;a++){var c=s[a];o.classList.contains(c)||o.classList.add(c)}return e}function j(e,t){for(var i=S(t),n=0,r=e;n<r.length;n++){var o=r[n];if(""!==o.className)for(var a=0,s=i;a<s.length;a++){var c=s[a];o.classList.remove(c)}}return e}function S(e){var t=[];return"string"===typeof e?t.push(e):t=e,t}function P(e){var t=e;return""===t.style.visibility&&t.offsetWidth>0}function C(e,t,i){for(var n=document.createDocumentFragment(),r=0,o=e;r<o.length;r++){var a=o[r];n.appendChild(a)}return t.appendChild(n),i&&E(t),e}function E(e){e.querySelectorAll("script").forEach(function(e){var t=document.createElement("script");t.text=e.innerHTML,document.head.appendChild(t),T(t)})}function T(e){return e.parentNode.removeChild(e)}function k(e){var t=e.parentNode;b.clearEvents(e),t.removeChild(e)}function I(e,t){for(var i=e,n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];i.setAttribute(o,t[o])}return i}function A(e,t){return void 0===t&&(t=document),t.querySelector(e)}function M(e,t){return void 0===t&&(t=document),t.querySelectorAll(e)}function z(e,t){var i=e;if("function"===typeof i.closest)return i.closest(t);for(;i&&1===i.nodeType;){if(R(i,t))return i;i=i.parentNode}return null}function D(e,t){void 0!==t&&Object.keys(t).forEach(function(i){e.style[i]=t[i]})}function L(e,t,i){x([e],t),j([e],i)}function R(e,t){var i=e.matches||e.msMatchesSelector||e.webkitMatchesSelector;return i?i.call(e,t):-1!==[].indexOf.call(document.querySelectorAll(t),e)}var N=function(){function e(e){this.ranArray=[],this.boundedEvents={},h(e)||(this.context=e)}return e.prototype.on=function(e,t,i,n){if(!h(t)){var r=i||this.context;this.notExist(e)?this.boundedEvents[e]=[{handler:t,context:r}]:h(n)?this.isHandlerPresent(this.boundedEvents[e],t)||this.boundedEvents[e].push({handler:t,context:r}):-1===this.ranArray.indexOf(n)&&(this.ranArray.push(n),this.boundedEvents[e].push({handler:t,context:r,id:n}))}},e.prototype.off=function(e,t,i){if(!this.notExist(e)){var n=o(e,this.boundedEvents);if(t){for(var r=0;r<n.length;r++)if(i){if(n[r].id===i){n.splice(r,1);var a=this.ranArray.indexOf(i);-1!==a&&this.ranArray.splice(a,1);break}}else if(t===n[r].handler){n.splice(r,1);break}}else delete this.boundedEvents[e]}},e.prototype.notify=function(e,t){if(!this.notExist(e)){t&&(t.name=e);for(var i=0,n=o(e,this.boundedEvents).slice(0);i<n.length;i++){var r=n[i];r.handler.call(r.context,t)}}},e.prototype.destroy=function(){this.boundedEvents=this.context=void 0},e.prototype.notExist=function(e){return!1===this.boundedEvents.hasOwnProperty(e)},e.prototype.isHandlerPresent=function(e,t){for(var i=0,n=e;i<n.length;i++){if(n[i].handler===t)return!0}return!1},e}(),H=new RegExp("]"),_=function(){function e(e,t){this.isProtectedOnChange=!0,this.properties={},this.changedProperties={},this.oldProperties={},this.refreshing=!1,this.finalUpdate=function(){},this.childChangedProperties={},this.modelObserver=new N(this),d(t)||(this.element="string"===typeof t?document.querySelector(t):t,h(this.element)||(this.isProtectedOnChange=!1,this.addInstance())),d(e)||this.setProperties(e,!0),this.isDestroyed=!1}return e.prototype.setProperties=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!!t,c(this,e),!0!==t&&(c(this.changedProperties,e),this.dataBind()),this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.isProtectedOnChange=i},e.callChildDataBind=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];if(t[r]instanceof Array)for(var o=0,a=t[r];o<a.length;o++){var s=a[o];void 0!==s.dataBind&&s.dataBind()}else t[r].dataBind()}},e.prototype.clearChanges=function(){this.finalUpdate(),this.changedProperties={},this.oldProperties={},this.childChangedProperties={}},e.prototype.dataBind=function(){if(e.callChildDataBind(this.childChangedProperties,this),Object.getOwnPropertyNames(this.changedProperties).length){var t=this.isProtectedOnChange,i=this.changedProperties,n=this.oldProperties;this.clearChanges(),this.isProtectedOnChange=!0,this.onPropertyChanged(i,n),this.isProtectedOnChange=t}},e.prototype.saveChanges=function(e,t,i){this.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.finalUpdate(),this.finalUpdate=function(e){var t,i=new Uint16Array(5);(window.msCrypto||window.crypto).getRandomValues(i);var n="ej2"+function(e){for(var t="",i=0;i<5;i++)t+=(i?",":"")+e[i];return t}(i),r=function(i){i.source===window&&"string"===typeof i.data&&i.data.length<=32&&i.data===n&&(e(),t())};return window.addEventListener("message",r,!1),window.postMessage(n,"*"),t=function(){window.removeEventListener("message",r),e=r=n=void 0}}(this.dataBind.bind(this)))},e.prototype.addEventListener=function(e,t){this.modelObserver.on(e,t)},e.prototype.removeEventListener=function(e,t){this.modelObserver.off(e,t)},e.prototype.trigger=function(e,t){if(!0!==this.isDestroyed){var i=this.isProtectedOnChange;if(this.isProtectedOnChange=!1,this.modelObserver.notify(e,t),H.test(e)){var n=o(e,this);n&&n.call(this,t)}this.isProtectedOnChange=i}},e.prototype.addInstance=function(){var e="e-"+this.getModuleName().toLowerCase();x([this.element],["e-lib",e]),h(this.element.ej2_instances)?a("ej2_instances",[this],this.element):this.element.ej2_instances.push(this)},e.prototype.destroy=function(){var e=this;this.element.ej2_instances=this.element.ej2_instances.filter(function(t){return t!==e}),j([this.element],["e-"+this.getModuleName()]),0===this.element.ej2_instances.length&&j([this.element],["e-lib"]),this.clearChanges(),this.modelObserver.destroy(),this.isDestroyed=!0},e}();var B=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i,W=/msie|trident/i,q=/Trident\/7\./,F=/(ipad|iphone|ipod touch)/i,U=/(ipad|iphone|ipod touch);.*os 7_\d|(ipad|iphone|ipod touch);.*os 8_\d/i,X=/android/i,Y=/trident|windows phone|edge/i,V=/(version)[ \/]([\w.]+)/i,G={OPERA:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,EDGE:/(edge)(?:.*version|)[ \/]([\w.]+)/i,CHROME:/(chrome|crios)[ \/]([\w.]+)/i,PANTHOMEJS:/(phantomjs)[ \/]([\w.]+)/i,SAFARI:/(safari)[ \/]([\w.]+)/i,WEBKIT:/(webkit)[ \/]([\w.]+)/i,MSIE:/(msie|trident) ([\w.]+)/i,MOZILLA:/(mozilla)(?:.*? rv:([\w.]+)|)/i};"undefined"!==typeof window&&(window.browserDetails=window.browserDetails||{});var Z=function(){function e(){}return e.extractBrowserDetail=function(){for(var t={culture:{}},i=[],n=0,r=Object.keys(G);n<r.length;n++){var o=r[n];if(i=e.userAgent.match(G[o])){if(t.name="opr"===i[1].toLowerCase()?"opera":i[1].toLowerCase(),t.name="crios"===i[1].toLowerCase()?"chrome":t.name,t.version=i[2],t.culture.name=t.culture.language=navigator.language,e.userAgent.match(q)){t.name="msie";break}var a=e.userAgent.match(V);"safari"===t.name&&a&&(t.version=a[2]);break}}return t},e.getEvent=function(t){var i={start:{isPointer:"pointerdown",isTouch:"touchstart",isDevice:"mousedown"},move:{isPointer:"pointermove",isTouch:"touchmove",isDevice:"mousemove"},end:{isPointer:"pointerup",isTouch:"touchend",isDevice:"mouseup"},cancel:{isPointer:"pointercancel",isTouch:"touchcancel",isDevice:"mouseleave"}};return e.isPointer?i[t].isPointer:e.isTouch?i[t].isTouch+(e.isDevice?"":" "+i[t].isDevice):i[t].isDevice},e.getTouchStartEvent=function(){return e.getEvent("start")},e.getTouchEndEvent=function(){return e.getEvent("end")},e.getTouchMoveEvent=function(){return e.getEvent("move")},e.getTouchCancelEvent=function(){return e.getEvent("cancel")},e.getValue=function(t,i){var n=window.browserDetails;return"undefined"===typeof n[t]?n[t]=i.test(e.userAgent):n[t]},Object.defineProperty(e,"userAgent",{get:function(){return e.uA},set:function(t){e.uA=t,window.browserDetails={}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"info",{get:function(){return d(window.browserDetails.info)?window.browserDetails.info=e.extractBrowserDetail():window.browserDetails.info},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIE",{get:function(){return e.getValue("isIE",W)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isTouch",{get:function(){return d(window.browserDetails.isTouch)?window.browserDetails.isTouch="ontouchstart"in window:window.browserDetails.isTouch},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isPointer",{get:function(){return d(window.browserDetails.isPointer)?window.browserDetails.isPointer="pointerEnabled"in window.navigator:window.browserDetails.isPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isMSPointer",{get:function(){return d(window.browserDetails.isMSPointer)?window.browserDetails.isMSPointer="msPointerEnabled"in window.navigator:window.browserDetails.isMSPointer},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isDevice",{get:function(){return e.getValue("isDevice",B)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos",{get:function(){return e.getValue("isIos",F)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isIos7",{get:function(){return e.getValue("isIos7",U)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isAndroid",{get:function(){return e.getValue("isAndroid",X)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebView",{get:function(){return d(window.browserDetails.isWebView)?(window.browserDetails.isWebView=!(d(window.cordova)&&d(window.PhoneGap)&&d(window.phonegap)&&"object"!==window.forge),window.browserDetails.isWebView):window.browserDetails.isWebView},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWindows",{get:function(){return e.getValue("isWindows",Y)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchStartEvent",{get:function(){return d(window.browserDetails.touchStartEvent)?window.browserDetails.touchStartEvent=e.getTouchStartEvent():window.browserDetails.touchStartEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchMoveEvent",{get:function(){return d(window.browserDetails.touchMoveEvent)?window.browserDetails.touchMoveEvent=e.getTouchMoveEvent():window.browserDetails.touchMoveEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchEndEvent",{get:function(){return d(window.browserDetails.touchEndEvent)?window.browserDetails.touchEndEvent=e.getTouchEndEvent():window.browserDetails.touchEndEvent},enumerable:!0,configurable:!0}),Object.defineProperty(e,"touchCancelEvent",{get:function(){return d(window.browserDetails.touchCancelEvent)?window.browserDetails.touchCancelEvent=e.getTouchCancelEvent():window.browserDetails.touchCancelEvent},enumerable:!0,configurable:!0}),e.uA="undefined"!==typeof navigator?navigator.userAgent:"",e}();function Q(e,t,i,n){return e.properties.hasOwnProperty(t)&&e.properties[t]instanceof n||(e.properties[t]=r(n,[e,t,i])),e.properties[t]}function K(e,t,i,n,o,a){for(var s=[],c=i.length,l=0;l<c;l++){var h=n;if(a&&(h=n(i[l],e)),o){var d=r(h,[e,t,{},!0]);d.setProperties(i[l],!0),s.push(d)}else s.push(r(h,[e,t,i[l],!0]))}return s}function $(e,t){return function(){return this.properties.hasOwnProperty(t)||(this.properties[t]=e),this.properties[t]}}function J(e,t){return function(i){if(this.properties[t]!==i){var n=this.properties.hasOwnProperty(t)?this.properties[t]:e;this.saveChanges(t,i,n),this.properties[t]=i}}}function ee(e,t,i){return function(){return Q(this,t,e,i)}}function te(e,t,i){return function(n){Q(this,t,e,i).setProperties(n)}}function ie(e,t,i){return function(){var n=i({});return this.properties.hasOwnProperty(t)?this.properties[t]:Q(this,t,e,n)}}function ne(e,t,i){return function(n){var r=i(n,this);Q(this,t,e,r).setProperties(n)}}function re(e,t,i){return function(){if(!this.properties.hasOwnProperty(t)){var n=K(this,t,e,i,!1);this.properties[t]=n}return this.properties[t]}}function oe(e,t,i){return function(n){var r=K(this,t,e,i,!1),o=K(this,t,n,i,!0);this.saveChanges(t,o,r),this.properties[t]=o}}function ae(e,t,i){return function(n){var r=this.properties.hasOwnProperty(t)?this.properties[t]:e,o=K(this,t,n,i,!0,!0);this.saveChanges(t,o,r),this.properties[t]=o}}function se(e,t,i){return function(){var n=i({});if(!this.properties.hasOwnProperty(t)){var r=K(this,t,e,n,!1);this.properties[t]=r}return this.properties[t]}}function ce(e){return function(t,i){var n={set:J(e,i),get:$(e,i),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),ge(t,i,"prop",e)}}function le(e,t){return function(i,n){var r={set:te(e,n,t),get:ee(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r),ge(i,n,"complexProp",e,t)}}function he(e){return function(t,i){var n={set:ne({},i,e),get:ie({},i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),ge(t,i,"complexProp",{},e)}}function de(e,t){return function(i,n){var r={set:oe(e,n,t),get:re(e,n,t),enumerable:!0,configurable:!0};Object.defineProperty(i,n,r),ge(i,n,"colProp",e,t)}}function pe(e){return function(t,i){var n={set:ae([],i,e),get:se([],i,e),enumerable:!0,configurable:!0};Object.defineProperty(t,i,n),ge(t,i,"colProp",{},e)}}function ue(){return function(e,t){var i={set:function(e){var i=this.properties[t];if(i!==e){var n=function e(t,i){if(!1===t.hasOwnProperty("parentObj"))return{context:t,prefix:i};var n=o("propName",t);return n&&(i=n+"-"+i),e(o("parentObj",t),i)}(this,t);!1===d(i)&&n.context.removeEventListener(n.prefix,i),n.context.addEventListener(n.prefix,e),this.properties[t]=e}},get:$(void 0,t),enumerable:!0,configurable:!0};Object.defineProperty(e,t,i),ge(e,t,"event")}}function fe(e){}function ge(e,t,i,n,r){d(e.propList)&&(e.propList={props:[],complexProps:[],colProps:[],events:[],propNames:[],complexPropNames:[],colPropNames:[],eventNames:[]}),e.propList[i+"s"].push({propertyName:t,defaultValue:n,type:r}),e.propList[i+"Names"].push(t)}var me=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ye=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},ve=function(e){function t(t){var i=e.call(this,t,void 0)||this;return i.easing={ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",easeIn:"cubic-bezier(0.420, 0.000, 1.000, 1.000)",easeOut:"cubic-bezier(0.000, 0.000, 0.580, 1.000)",easeInOut:"cubic-bezier(0.420, 0.000, 0.580, 1.000)",elasticInOut:"cubic-bezier(0.5,-0.58,0.38,1.81)",elasticIn:"cubic-bezier(0.17,0.67,0.59,1.81)",elasticOut:"cubic-bezier(0.7,-0.75,0.99,1.01)"},i}var i;return me(t,e),i=t,t.prototype.animate=function(e,t){t=t||{};var n=this.getModel(t);if("string"===typeof e)for(var r=0,o=Array.prototype.slice.call(M(e,document));r<o.length;r++){var a=o[r];n.element=a,i.delayAnimation(n)}else n.element=e,i.delayAnimation(n)},t.stop=function(e,t){e.style.animation="",e.removeAttribute("e-animate");var i=e.getAttribute("e-animation-id");if(i){var n=parseInt(i,10);cancelAnimationFrame(n),e.removeAttribute("e-animation-id")}t&&t.end&&t.end.call(this,t)},t.delayAnimation=function(e){e.delay?setTimeout(function(){i.applyAnimation(e)},e.delay):i.applyAnimation(e)},t.applyAnimation=function(e){var t=this;e.timeStamp=0;var i=0,n=0,r=0,o=e.duration;e.element.setAttribute("e-animate","true");!function a(s){try{if(s){r=0===r?s:r,e.timeStamp=s+e.timeStamp-r,r=s,!i&&e.begin&&e.begin.call(t,e),i+=1;var c=e.timeStamp/i;e.timeStamp<o&&e.timeStamp+c<o&&e.element.getAttribute("e-animate")?(e.element.style.animation=e.name+" "+e.duration+"ms "+e.timingFunction,e.progress&&e.progress.call(t,e),requestAnimationFrame(a)):(cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.element.removeAttribute("e-animate"),e.element.style.animation="",e.end&&e.end.call(t,e))}else performance.now(),n=requestAnimationFrame(a),e.element.setAttribute("e-animation-id",n.toString())}catch(l){cancelAnimationFrame(n),e.element.removeAttribute("e-animation-id"),e.fail&&e.fail.call(t,l)}}()},t.prototype.getModel=function(e){return{name:e.name||this.name,delay:e.delay||this.delay,duration:void 0!==e.duration?e.duration:this.duration,begin:e.begin||this.begin,end:e.end||this.end,fail:e.fail||this.fail,progress:e.progress||this.progress,timingFunction:this.easing[e.timingFunction]?this.easing[e.timingFunction]:e.timingFunction||this.easing[this.timingFunction]}},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"animation"},t.prototype.destroy=function(){},ye([ce("FadeIn")],t.prototype,"name",void 0),ye([ce(400)],t.prototype,"duration",void 0),ye([ce("ease")],t.prototype,"timingFunction",void 0),ye([ce(0)],t.prototype,"delay",void 0),ye([ue()],t.prototype,"progress",void 0),ye([ue()],t.prototype,"begin",void 0),ye([ue()],t.prototype,"end",void 0),ye([ue()],t.prototype,"fail",void 0),t=i=ye([fe],t)}(_);function be(e,t,i){var n=function(e){return{selector:e&&e.selector?e.selector:null,ignore:e&&e.ignore?e.ignore:null,rippleFlag:e&&e.rippleFlag,isCenterRipple:e&&e.isCenterRipple,duration:e&&e.duration?e.duration:350}}(t);return!1===n.rippleFlag||void 0===n.rippleFlag&&!Se?Function:(e.setAttribute("data-ripple","true"),b.add(e,"mousedown",we,{parent:e,rippleOptions:n}),b.add(e,"mouseup",Oe,{parent:e,rippleOptions:n,done:i}),b.add(e,"mouseleave",xe,{parent:e,rippleOptions:n}),Z.isPointer&&b.add(e,"transitionend",xe,{parent:e,rippleOptions:n}),function(){e.removeAttribute("data-ripple"),b.remove(e,"mousedown",we),b.remove(e,"mouseup",Oe),b.remove(e,"mouseleave",xe),b.remove(e,"transitionend",xe)})}function we(e){var t=e.target,i=this.rippleOptions.selector,n=i?z(t,i):t;if(!(!n||this.rippleOptions&&z(t,this.rippleOptions.ignore))){var r=n.getBoundingClientRect(),o=e.pageX-document.body.scrollLeft,a=e.pageY-(!document.body.scrollTop&&document.documentElement?document.documentElement.scrollTop:document.body.scrollTop),s=Math.max(Math.abs(o-r.left),Math.abs(o-r.right)),c=Math.max(Math.abs(a-r.top),Math.abs(a-r.bottom)),l=Math.sqrt(s*s+c*c),h=2*l+"px",d=o-r.left-l,p=a-r.top-l;this.rippleOptions&&this.rippleOptions.isCenterRipple&&(d=0,p=0,h="100%"),n.classList.add("e-ripple");var u=O("div",{className:"e-ripple-element",styles:"width: "+h+";height: "+h+";left: "+d+"px;top: "+p+"px;transition-duration: "+this.rippleOptions.duration.toString()+"ms;"});n.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)",n!==this.parent&&b.add(n,"mouseleave",xe,{parent:this.parent,rippleOptions:this.rippleOptions})}}function Oe(e){je(e,this)}function xe(e){je(e,this)}function je(e,t){var i=t.rippleOptions.duration,n=e.target,r=t.rippleOptions.selector,o=r?z(n,r):n;if(o&&(!o||-1!==o.className.indexOf("e-ripple"))){var a=M(".e-ripple-element",o),s=a[a.length-1];s&&(s.style.opacity="0.5"),t.parent!==o&&b.remove(o,"mouseleave",xe),setTimeout(function(){s&&s.parentNode&&s.parentNode.removeChild(s),o.getElementsByClassName("e-ripple-element").length||o.classList.remove("e-ripple"),t.done&&t.done(e)},i)}}var Se=!1;var Pe,Ce,Ee=function(){function e(e){this.loadedModules=[],this.parent=e}return e.prototype.inject=function(e,t){var i=e.length;if(0!==i){this.loadedModules.length&&this.clearUnusedModule(e);for(var n=0;n<i;n++)for(var o=e[n],s=0,c=t;s<c.length;s++){var l=c[s],h=o.member;if(l.prototype.getModuleName()===o.member&&!this.isModuleLoaded(h)){var d=r(l,o.args),p=this.getMemberName(h);o.isProperty?a(p,l,this.parent):a(p,d,this.parent);var u=o;u.member=p,this.loadedModules.push(u)}}}else this.clean()},e.prototype.clean=function(){for(var e=0,t=this.loadedModules;e<t.length;e++){var i=t[e];i.isProperty||o(i.member,this.parent).destroy()}this.loadedModules=[]},e.prototype.clearUnusedModule=function(e){for(var t,i,n=this,r=e.map(function(e){return n.getMemberName(e.member)}),a=0,s=this.loadedModules.filter(function(e){return-1===r.indexOf(e.member)});a<s.length;a++){var c=s[a];c.isProperty||o(c.member,this.parent).destroy(),this.loadedModules.splice(this.loadedModules.indexOf(c),1),t=this.parent,i=c.member,delete t[i]}},e.prototype.getMemberName=function(e){return e[0].toLowerCase()+e.substring(1)+"Module"},e.prototype.isModuleLoaded=function(e){for(var t=0,i=this.loadedModules;t<i.length;t++){if(i[t].member===this.getMemberName(e))return!0}return!1},e}(),Te=function(){function e(e,t,i,n){this.properties={},this.changedProperties={},this.childChangedProperties={},this.oldProperties={},this.finalUpdate=function(){},this.callChildDataBind=o("callChildDataBind",_),this.parentObj=e,this.controlParent=this.parentObj.controlParent||this.parentObj,this.propName=t,this.setProperties(i,!0),this.isParentArray=n}return e.prototype.updateChange=function(e,t){!0===e?this.parentObj.childChangedProperties[t]=e:delete this.parentObj.childChangedProperties[t],this.parentObj.updateChange&&this.parentObj.updateChange(e,this.parentObj.propName)},e.prototype.updateTimeOut=function(){if(this.parentObj.updateTimeOut)this.parentObj.finalUpdate(),this.parentObj.updateTimeOut();else{var e=setTimeout(this.parentObj.dataBind.bind(this.parentObj));this.finalUpdate=function(){clearTimeout(e)}}},e.prototype.clearChanges=function(){this.finalUpdate(),this.updateChange(!1,this.propName),this.oldProperties={},this.changedProperties={}},e.prototype.setProperties=function(e,t){!0===t?(c(this,e),this.updateChange(!1,this.propName),this.clearChanges()):c(this,e)},e.prototype.dataBind=function(){if(this.callChildDataBind(this.childChangedProperties,this),this.isParentArray){var e=this.parentObj[this.propName].indexOf(this);Object.keys(this.changedProperties).length&&(a(this.propName+"."+e,this.changedProperties,this.parentObj.changedProperties),a(this.propName+"."+e,this.oldProperties,this.parentObj.oldProperties))}else this.parentObj.changedProperties[this.propName]=this.changedProperties,this.parentObj.oldProperties[this.propName]=this.oldProperties;this.clearChanges()},e.prototype.saveChanges=function(e,t,i){this.controlParent.isProtectedOnChange||(this.oldProperties[e]=i,this.changedProperties[e]=t,this.updateChange(!0,this.propName),this.finalUpdate(),this.updateTimeOut())},e}(),ke={latn:{_digits:"0123456789",_type:"numeric"}},Ie={decimal:".",group:",",percentSign:"%",plusSign:"+",minusSign:"-",infinity:"\u221e",nan:"NaN",exponential:"E"},Ae=[0,1,2,3,4,5,6,7,8,9],Me=function(){function e(){}return e.getMainObject=function(e,t){return o("main."+t,e)},e.getNumberingSystem=function(e){return o("supplemental.numberingSystems",e)||this.numberingSystems},e.reverseObject=function(e,t){for(var i={},n=0,r=t||Object.keys(e);n<r.length;n++){var o=r[n];i.hasOwnProperty(e[o])||(i[e[o]]=o)}return i},e.getSymbolRegex=function(e){var t=e.map(function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}).join("|");return new RegExp(t,"g")},e.getSymbolMatch=function(e){for(var t={},i=0,n=Object.keys(Ie);i<n.length;i++){var r=n[i];t[e[r]]=Ie[r]}return t},e.constructRegex=function(e){for(var t=e.length,i="",n=0;n<t;n++)i+=n!==t-1?e[n]+"|":e[n];return i},e.convertValueParts=function(e,t,i){return e.replace(t,function(e){return i[e]})},e.getDefaultNumberingSystem=function(e){var t={};return t.obj=o("numbers",e),t.nSystem=o("defaultNumberingSystem",t.obj),t},e.getCurrentNumericOptions=function(e,t,i){var n={},r=this.getDefaultNumberingSystem(e);if(!d(r.nSystem)){var a=o(r.nSystem+"._digits",t);d(a)||(n.numericPair=this.reverseObject(a,Ae),n.numberParseRegex=new RegExp(this.constructRegex(a),"g"),n.numericRegex="["+a[0]+"-"+a[9]+"]",i&&(n.numericRegex=a[0]+"-"+a[9],n.symbolNumberSystem=o("symbols-numberSystem-"+r.nSystem,r.obj),n.symbolMatch=this.getSymbolMatch(n.symbolNumberSystem),n.numberSystem=r.nSystem))}return n},e.getNumberMapper=function(e,t,i){var n={mapper:{}},r=this.getDefaultNumberingSystem(e);if(!d(r.nSystem)){n.numberSystem=r.nSystem,n.numberSymbols=o("symbols-numberSystem-"+r.nSystem,r.obj),n.timeSeparator=o("timeSeparator",n.numberSymbols);var a=o(r.nSystem+"._digits",t);if(!d(a))for(var s=0,c=Ae;s<c.length;s++){var l=c[s];n.mapper[l]=a[l]}}return n},e.nPair="numericPair",e.nRegex="numericRegex",e.numberingSystems=ke,e}(),ze={ms:"minimumSignificantDigits",ls:"maximumSignificantDigits",mf:"minimumFractionDigits",lf:"maximumFractionDigits"},De=["infinity","nan","group","decimal","exponential"],Le=function(){function e(){}return e.numberFormatter=function(e,t,i){var n,r=this,o=l({},t),a={},s={},c=Pe.getDependables(i,e,"",!0);s.numberMapper=Me.getNumberMapper(c.parserObject,Me.getNumberingSystem(i),!0),s.currencySymbol=Pe.getCurrencySymbol(c.numericObject,o.currency||$e),s.percentSymbol=s.numberMapper.numberSymbols.percentSign,s.minusSymbol=s.numberMapper.numberSymbols.minusSign;var h=s.numberMapper.numberSymbols;if(t.format&&!Pe.formatRegex.test(t.format))a=Pe.customFormat(t.format,s,c.numericObject);else{l(o,Pe.getProperNumericSkeleton(t.format||"N")),o.isCurrency="currency"===o.type,o.isPercent="percent"===o.type,n=Pe.getSymbolPattern(o.type,s.numberMapper.numberSystem,c.numericObject,o.isAccount),o.groupOne=this.checkValueRange(o.maximumSignificantDigits,o.minimumSignificantDigits,!0),this.checkValueRange(o.maximumFractionDigits,o.minimumFractionDigits,!1,!0),d(o.fractionDigits)||(o.minimumFractionDigits=o.maximumFractionDigits=o.fractionDigits),d(o.useGrouping)&&(o.useGrouping=!0),o.isCurrency&&(n=n.replace(/\u00A4/g,Pe.defaultCurrency));var p=n.split(";");if(a.nData=Pe.getFormatData(p[1]||"-"+p[0],!0,s.currencySymbol),a.pData=Pe.getFormatData(p[0],!1,s.currencySymbol),o.useGrouping&&(o.groupSeparator=h[De[2]],o.groupData=this.getGroupingDetails(p[0])),d(o.minimumFractionDigits)&&(o.minimumFractionDigits=a.nData.minimumFraction),d(o.maximumFractionDigits)){var u=a.nData.maximumFraction;o.maximumFractionDigits=d(u)&&o.isPercent?0:u}var f=o.minimumFractionDigits,g=o.maximumFractionDigits;d(f)||d(g)||f>g&&(o.maximumFractionDigits=f)}return l(a.nData,o),l(a.pData,o),function(e){return isNaN(e)?h[De[1]]:isFinite(e)?r.intNumberFormatter(e,a,s):h[De[0]]}},e.getGroupingDetails=function(e){var t={},i=e.match(Pe.negativeDataRegex);if(i&&i[4]){var n=i[4],r=n.lastIndexOf(",");if(-1!==r){var o=n.split(".")[0];t.primary=o.length-r-1;var a=n.lastIndexOf(",",r-1);-1!==a&&(t.secondary=r-1-a)}}return t},e.checkValueRange=function(e,t,i,n){var r=n?"f":"s",o=0,a=ze["l"+r],s=ze["m"+r];if(d(e)||(this.checkRange(e,a,n),o++),d(t)||(this.checkRange(t,s,n),o++),2===o){if(!(e<t))return!0;f(s+"specified must be less than the"+a)}else i&&1===o&&f("Both"+s+"and"+s+"must be present");return!1},e.checkRange=function(e,t,i){var n=i?[0,20]:[1,21];(e<n[0]||e>n[1])&&f(t+"value must be within the range"+n[0]+"to"+n[1])},e.intNumberFormatter=function(e,t,i){var n;if(!d(t.nData.type)){e<0?(e*=-1,n=t.nData):n=0===e&&t.zeroData||t.pData;var r="";return n.isPercent&&(e*=100),n.groupOne?r=this.processSignificantDigits(e,n.minimumSignificantDigits,n.maximumSignificantDigits):(r=this.processFraction(e,n.minimumFractionDigits,n.maximumFractionDigits),n.minimumIntegerDigits&&(r=this.processMinimumIntegers(r,n.minimumIntegerDigits))),"scientific"===n.type&&(r=(r=e.toExponential(n.maximumFractionDigits)).replace("e",i.numberMapper.numberSymbols[De[4]])),r=r.replace(".",i.numberMapper.numberSymbols[De[3]]),n.useGrouping&&(r=this.groupNumbers(r,n.groupData.primary,n.groupSeparator||",",i.numberMapper.numberSymbols[De[3]]||".",n.groupData.secondary)),r=Me.convertValueParts(r,Pe.latnParseRegex,i.numberMapper.mapper),"N/A"===n.nlead?n.nlead:n.nlead+r+n.nend}},e.processSignificantDigits=function(e,t,i){var n=e+"";return n.length<t?e.toPrecision(t):+(n=e.toPrecision(i))+""},e.groupNumbers=function(e,t,i,n,r){for(var o=!h(r)&&0!==r,a=e.split(n),s=a[0],c=s.length,l="";c>t;)l=s.slice(c-t,c)+(l.length?i+l:""),c-=t,o&&(t=r,o=!1);return a[0]=s.slice(0,c)+(l.length?i:"")+l,a.join(n)},e.processFraction=function(e,t,i){var n=(e+"").split(".")[1],r=n?n.length:0;if(t&&r<t){var o="";if(0!==r){o+=e;for(var a=0;a<t-r;a++)o+="0";return o}return o=e.toFixed(t),e.toFixed(t)}return!h(i)&&(r>i||0===i)?e.toFixed(i):e+""},e.processMinimumIntegers=function(e,t){var i=e.split("."),n=i[0],r=n.length;if(r<t){for(var o=0;o<t-r;o++)n="0"+n;i[0]=n}return i.join(".")},e}();!function(e){e.negativeDataRegex=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.customRegex=/^(('[^']+'|''|[^*#@0,.])*)(\*.)?((([0#,]*[0,]*[0#]*)(\.[0#]*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,e.latnParseRegex=/0|1|2|3|4|5|6|7|8|9/g;var t=/[0-9]/g;e.defaultCurrency="$";var i=["infinity","nan","group","decimal"],n=/G|M|L|H|c|'| a|yy|y|EEEE|E/g,r={G:"",M:"m",L:"m",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"},a="sun";e.islamicRegex=/^islamic/;var s={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};e.formatRegex=/(^[ncpae]{1})([0-1]?[0-9]|20)?$/i,e.currencyFormatRegex=/(^[ca]{1})([0-1]?[0-9]|20)?$/i,e.curWithoutNumberRegex=/(c|a)$/gi;var c={$:"isCurrency","%":"isPercent","-":"isNegative",0:"nlead",1:"nend"};function p(t,i,n,r){var a,s=n||"date";if(-1!==e.basicPatterns.indexOf(t)){if(a=o(s+"Formats."+t,i),"dateTime"===s){var c=o("dateFormats."+t,i),l=o("timeFormats."+t,i);a=a.replace("{1}",c).replace("{0}",l)}}else a=o("dateTimeFormats.availableFormats."+t,i);return d(a)&&"yMd"===t&&(a="M/d/y"),a}function u(t,i,n,r){var a={},s=n||"gregorian";return a.parserObject=Me.getMainObject(t,i)||e.defaultObject,r?a.numericObject=o("numbers",a.parserObject):a.dateObject=o("dates.calendars."+s,a.parserObject),a}function f(e,t,i,n){return o(e+"Formats-numberSystem-"+t+(n?".accounting":".standard"),i)||(n?o(e+"Formats-numberSystem-"+t+".standard",i):"")}function g(t){var i=t.match(e.formatRegex),n={},r=i[1].toUpperCase();return n.isAccount="A"===r,n.type=e.patternMatcher[r],t.length>1&&(n.fractionDigits=parseInt(i[2],10)),n}function m(i,n,r,o){var a=o?{}:{nlead:"",nend:""},s=i.match(e.customRegex);if(s){o||(a.nlead=y(s[1],r),a.nend=y(s[10],r),a.groupPattern=s[4]);var c=s[7];if(c&&n){var l=c.match(t);h(l)?a.minimumFraction=0:a.minimumFraction=l.length,a.maximumFraction=c.length-1}}return a}function y(t,i){return t?t.replace(e.defaultCurrency,i):""}function v(e,t){return o("currencies."+t+".symbol",e)||"$"}function b(t,n,r){var o={type:"decimal",minimumFractionDigits:0,maximumFractionDigits:0},a=t.match(e.customRegex);(h(a)||""===a[5]&&"N/A"!==t)&&(o.type=void 0),o.nlead=a[1],o.nend=a[10];var s=a[6];o.useGrouping=-1!==s.indexOf(","),s=s.replace(/,/g,"");var c=a[7];if(-1!==s.indexOf("0")&&(o.minimumIntegerDigits=s.length-s.indexOf("0")),h(c)||(o.minimumFractionDigits=c.lastIndexOf("0"),o.maximumFractionDigits=c.lastIndexOf("#"),-1===o.minimumFractionDigits&&(o.minimumFractionDigits=0),(-1===o.maximumFractionDigits||o.maximumFractionDigits<o.minimumFractionDigits)&&(o.maximumFractionDigits=o.minimumFractionDigits)),h(n)?l(o,w([o.nlead,o.nend],"%","%")):(l(o,w([o.nlead,o.nend],"$",n.currencySymbol)),o.isCurrency||l(o,w([o.nlead,o.nend],"%",n.percentSymbol))),!h(r)){var d=f(o.type,n.numberMapper.numberSystem,r,!1);o.useGrouping&&(o.groupSeparator=n.numberMapper.numberSymbols[i[2]],o.groupData=Le.getGroupingDetails(d.split(";")[0])),o.nlead=o.nlead.replace(/\'/g,""),o.nend=o.nend.replace(/\'/g,"")}return o}function w(e,t,i){for(var n={nlead:e[0],nend:e[1]},r=0;r<2;r++){var o=e[r],a=o.indexOf(t);if(-1!==a&&(a<o.indexOf("'")||a>o.lastIndexOf("'"))){n[c[r]]=o.substr(0,a)+i+o.substr(a+1),n[c[t]]=!0,n.type=n.isCurrency?"currency":"percent";break}}return n}e.dateParseRegex=/([a-z])\1*|'([^']|'')+'|''|./gi,e.basicPatterns=["short","medium","long","full"],e.defaultObject={dates:{calendars:{gregorian:{months:{"stand-alone":{abbreviated:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},narrow:{1:"J",2:"F",3:"M",4:"A",5:"M",6:"J",7:"J",8:"A",9:"S",10:"O",11:"N",12:"D"},wide:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"Before Christ","0-alt-variant":"Before Common Era",1:"Anno Domini","1-alt-variant":"Common Era"},eraAbbr:{0:"BC","0-alt-variant":"BCE",1:"AD","1-alt-variant":"CE"},eraNarrow:{0:"B","0-alt-variant":"BCE",1:"A","1-alt-variant":"CE"}},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y"}}},islamic:{months:{"stand-alone":{abbreviated:{1:"Muh.",2:"Saf.",3:"Rab. I",4:"Rab. II",5:"Jum. I",6:"Jum. II",7:"Raj.",8:"Sha.",9:"Ram.",10:"Shaw.",11:"Dhu\u02bbl-Q.",12:"Dhu\u02bbl-H."},narrow:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},wide:{1:"Muharram",2:"Safar",3:"Rabi\u02bb I",4:"Rabi\u02bb II",5:"Jumada I",6:"Jumada II",7:"Rajab",8:"Sha\u02bbban",9:"Ramadan",10:"Shawwal",11:"Dhu\u02bbl-Qi\u02bbdah",12:"Dhu\u02bbl-Hijjah"}}},days:{"stand-alone":{abbreviated:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},narrow:{sun:"S",mon:"M",tue:"T",wed:"W",thu:"T",fri:"F",sat:"S"},short:{sun:"Su",mon:"Mo",tue:"Tu",wed:"We",thu:"Th",fri:"Fr",sat:"Sa"},wide:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"}}},dayPeriods:{format:{wide:{am:"AM",pm:"PM"}}},eras:{eraNames:{0:"AH"},eraAbbr:{0:"AH"},eraNarrow:{0:"AH"}},dateFormats:{full:"EEEE, MMMM d, y G",long:"MMMM d, y G",medium:"MMM d, y G",short:"M/d/y GGGGG"},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{d:"d",E:"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss",y:"y G",yyyy:"y G",yyyyM:"M/y GGGGG",yyyyMd:"M/d/y GGGGG",yyyyMEd:"E, M/d/y GGGGG",yyyyMMM:"MMM y G",yyyyMMMd:"MMM d, y G",yyyyMMMEd:"E, MMM d, y G",yyyyMMMM:"MMMM y G",yyyyQQQ:"QQQ y G",yyyyQQQQ:"QQQQ y G"}}}},timeZoneNames:{hourFormat:"+HH:mm;-HH:mm",gmtFormat:"GMT{0}",gmtZeroFormat:"GMT"}},numbers:{currencies:{USD:{displayName:"US Dollar",symbol:"$","symbol-alt-narrow":"$"},EUR:{displayName:"Euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},GBP:{displayName:"British Pound","symbol-alt-narrow":"\xa3"}},defaultNumberingSystem:"latn",minimumGroupingDigits:"1","symbols-numberSystem-latn":{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},"decimalFormats-numberSystem-latn":{standard:"#,##0.###"},"percentFormats-numberSystem-latn":{standard:"#,##0%"},"currencyFormats-numberSystem-latn":{standard:"\xa4#,##0.00",accounting:"\xa4#,##0.00;(\xa4#,##0.00)"},"scientificFormats-numberSystem-latn":{standard:"#E0"}}},e.monthIndex={3:"abbreviated",4:"wide",5:"narrow",1:"abbreviated"},e.month="months",e.days="days",e.patternMatcher={C:"currency",P:"percent",N:"decimal",A:"currency",E:"scientific"},e.getResultantPattern=p,e.getDependables=u,e.getSymbolPattern=f,e.getProperNumericSkeleton=g,e.getFormatData=m,e.getCurrencySymbol=v,e.customFormat=function(e,t,i){for(var n={},r=e.split(";"),o=["pData","nData","zeroData"],a=0;a<r.length;a++)n[o[a]]=b(r[a],t,i);return h(n.nData)&&(n.nData=l({},n.pData),n.nData.nlead=h(t)?"-"+n.nData.nlead:t.minusSymbol+n.nData.nlead),n},e.isCurrencyPercent=w,e.getDateSeparator=function(e){var t=(o("dateFormats.short",e)||"").match(/[d\u200fM\u200f]([^d\u200fM])[d\u200fM\u200f]/i);return t?t[1]:"/"},e.getActualDateTimeFormat=function(e,t,i,a){var s=u(i,e,t.calendar),c=t.format||p(t.skeleton,s.dateObject,t.type);if(a){if(-1!==(c=c.replace(n,function(e){return r[e]})).indexOf("z")){var l=c.match(/z/g).length,h=void 0,d={timeZone:{}};d.numMapper=Me.getNumberMapper(s.parserObject,Me.getNumberingSystem(i)),d.timeZone=o("dates.timeZoneNames",s.parserObject);var f=(new Date).getTimezoneOffset(),g=l<4?"+H;-H":d.timeZone.hourFormat;g=g.replace(/:/g,d.numMapper.timeSeparator),0===f?h=d.timeZone.gmtZeroFormat:(h=Be.getTimeZoneValue(f,g),h=d.timeZone.gmtFormat.replace(/\{0\}/,h)),c=c.replace(/[z]+/,'"'+h+'"')}c=c.replace(/ $/,"")}return c},e.getActualNumberFormat=function(t,i,n){var r,o,a=u(n,t,"",!0),s={custom:!0},c={},h=(i.format||"").match(e.currencyFormatRegex);if(h){var d={};d.numberMapper=Me.getNumberMapper(a.parserObject,Me.getNumberingSystem(n),!0);var p=v(a.numericObject,i.currency||$e),y=f("currency",d.numberMapper.numberSystem,a.numericObject,/a/i.test(i.format)),b=(y=y.replace(/\u00A4/g,p)).split(";");c.hasNegativePattern=b.length>1,c.nData=m(b[1]||"-"+b[0],!0,p),c.pData=m(b[0],!1,p),h[2]||i.minimumFractionDigits||i.maximumFractionDigits||(r=m(y.split(";")[0],!0,"",!0).minimumFraction)}if(e.formatRegex.test(i.format)||!i.format){if(l(s,g(i.format||"N")),s.custom=!1,o="###0",(s.fractionDigits||i.minimumFractionDigits||i.maximumFractionDigits||r)&&(s.fractionDigits&&(i.minimumFractionDigits=i.maximumFractionDigits=s.fractionDigits),o=function(e,t,i){e+=".";for(var n=0;n<t;n++)e+="0";if(t<i)for(var r=i-t,o=0;o<r;o++)e+="#";return e}(o,r||s.fractionDigits||i.minimumFractionDigits||0,i.maximumFractionDigits||0)),i.minimumIntegerDigits&&(o=function(e,t){for(var i=e.split("."),n="",r=0;r<t;r++)n+="0";return i[1]?n+"."+i[1]:n}(o,i.minimumIntegerDigits)),i.useGrouping&&(o=function(e){var t=e.split("."),i=t[0],n=3-i.length%3;e="";for(var r=(i=(n&&1===n?"#":2===n?"##":"")+i).length-1;r>0;r-=3)e=","+i[r-2]+i[r-1]+i[r]+e;return e=e.slice(1),t[1]?e+"."+t[1]:e}(o)),"currency"===s.type){var w=o;o=c.pData.nlead+w+c.pData.nend,c.hasNegativePattern&&(o+=";"+c.nData.nlead+w+c.nData.nend)}"percent"===s.type&&(o+=" %")}else o=i.format.replace(/\'/g,'"');return o},e.getWeekData=function(e,t){var i=a,n=o("supplemental.weekData.firstDay",t),r=e;return/en-/.test(r)&&(r=r.slice(3)),r=r.slice(0,2).toUpperCase()+r.substr(2),n&&(i=n[r]||a),s[i]}}(Pe||(Pe={})),function(e){var t=[28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990];e.getHijriDate=function(e){var i=e.getDate(),n=e.getMonth(),r=e.getFullYear(),o=n+1,a=r;o<3&&(a-=1,o+=12);var s=Math.floor(a/100),c=s-Math.floor(s/4)-2,l=Math.floor(365.25*(a+4716))+Math.floor(30.6001*(o+1))+i-c-1524,h=l+(c=(s=Math.floor((l-1867216.25)/36524.25))-Math.floor(s/4)+1)+1524,d=Math.floor((h-122.1)/365.25),p=Math.floor(365.25*d),u=Math.floor((h-p)/30.6001);i=h-p-Math.floor(30.6001*u),(n=Math.floor((h-p)/20.6001))>13&&(d+=1,n-=12),n-=1,r=d-4716;var f=l-24e5,g=l-1948084,m=Math.floor(g/10631);g-=10631*m;var y=Math.floor((g-.1335)/(10631/30)),v=30*m+y;g-=Math.floor(y*(10631/30)+.1335);var b=Math.floor((g+28.5001)/29.5);13===b&&(b=12);for(var w=g-Math.floor(29.5001*b-29),O=0;O<t.length&&!(t[O]>f);O++);var x=O+16260,j=Math.floor((x-1)/12),S=j+1,P=x-12*j,C=f-t[O-1]+1;return(C+"").length>2&&(C=w,P=b,S=v),{year:S,month:P,date:C}},e.toGregorian=function(e,i,n){var r=n+t[12*(e-1)+1+(i-1)-16260-1]-1+24e5,o=Math.floor(r+.5),a=Math.floor((o-1867216.25)/36524.25),s=1524+(a=o+1+a-Math.floor(a/4)),c=Math.floor((s-122.1)/365.25),l=Math.floor(365.25*c),h=Math.floor((s-l)/30.6001),d=s-l-Math.floor(30.6001*h),p=h-(h>13.5?13:1),u=c-(p>2.5?4716:4715);return u<=0&&p--,new Date(u+"/"+p+"/"+d)}}(Ce||(Ce={}));var Re=/\/MMMMM|MMMM|MMM|a|LLL|EEEEE|EEEE|E|K|cccc|ccc|G+|z+/gi,Ne=["sun","mon","tue","wed","thu","fri","sat"],He={m:"getMinutes",h:"getHours",H:"getHours",s:"getSeconds",d:"getDate"},_e={M:"month",d:"day",E:"weekday",c:"weekday",y:"year",m:"minute",h:"hour",H:"hour",s:"second",L:"month",a:"designator",z:"timeZone",Z:"timeZone",G:"era"},Be=function(){function e(){}return e.dateFormat=function(e,t,i){var n=this,r=Pe.getDependables(i,e,t.calendar),a={isIslamic:Pe.islamicRegex.test(t.calendar)},s=t.format||Pe.getResultantPattern(t.skeleton,r.dateObject,t.type);if(a.dateSeperator=Pe.getDateSeparator(r.dateObject),d(s))f("Format options or type given must be invalid");else{a.pattern=s,a.numMapper=Me.getNumberMapper(r.parserObject,Me.getNumberingSystem(i));for(var c=0,l=s.match(Re)||[];c<l.length;c++){var h=l[c],p=h.length,u=h[0];"K"===u&&(u="h");switch(u){case"E":case"c":a.weekday=r.dateObject[Pe.days]["stand-alone"][Pe.monthIndex[p]];break;case"M":case"L":a.month=r.dateObject[Pe.month]["stand-alone"][Pe.monthIndex[p]];break;case"a":a.designator=o("dayPeriods.format.wide",r.dateObject);break;case"G":var g=p<=3?"eraAbbr":4===p?"eraNames":"eraNarrow";a.era=o("eras."+g,r.dateObject);break;case"z":a.timeZone=o("dates.timeZoneNames",r.parserObject)}}}return function(e){return isNaN(e.getDate())?null:n.intDateFormatter(e,a)}},e.intDateFormatter=function(e,t){for(var i="",n=t.pattern.match(Pe.dateParseRegex),r=this.getCurrentDateValue(e,t.isIslamic),o=0,a=n;o<a.length;o++){var s=a[o],c=s.length,l=s[0];"K"===l&&(l="h");var d=void 0,p=void 0,u=void 0,f="";switch(l){case"M":case"L":d=r.month,c>2?i+=t.month[d]:p=!0;break;case"E":case"c":i+=t.weekday[Ne[e.getDay()]];break;case"H":case"h":case"m":case"s":case"d":p=!0,d="d"===l?r.date:e[He[l]](),"h"===l&&(d=d%12||12);break;case"y":u=!0,f+=r.year,2===c&&(f=f.substr(f.length-2));break;case"a":var g=e.getHours()<12?"am":"pm";i+=t.designator[g];break;case"G":var m=e.getFullYear()<0?0:1,y=t.era[m];h(y)&&(y=t.era[m?0:1]),i+=y||"";break;case"'":i+="''"===s?"'":s.replace(/\'/g,"");break;case"z":var v=e.getTimezoneOffset(),b=c<4?"+H;-H":t.timeZone.hourFormat;b=b.replace(/:/g,t.numMapper.timeSeparator),0===v?i+=t.timeZone.gmtZeroFormat:(u=!0,f=this.getTimeZoneValue(v,b)),f=t.timeZone.gmtFormat.replace(/\{0\}/,f);break;case":":i+=t.numMapper.numberSymbols.timeSeparator;break;case"/":i+=t.dateSeperator;break;default:i+=s}p&&(u=!0,f=this.checkTwodigitNumber(d,c)),u&&(i+=Me.convertValueParts(f,Pe.latnParseRegex,t.numMapper.mapper))}return i},e.getCurrentDateValue=function(e,t){return t?Ce.getHijriDate(e):{year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate()}},e.checkTwodigitNumber=function(e,t){var i=e+"";return 2===t&&2!==i.length?"0"+i:i},e.getTimeZoneValue=function(e,t){var i=this,n=t.split(";")[e>0?1:0],r=Math.abs(e);return n.replace(/HH?|mm/g,function(e){var t=e.length,n=-1!==e.indexOf("H");return i.checkTwodigitNumber(Math.floor(n?r/60:r%60),t)})},e}(),We=/^[0-9]*$/,qe={minute:"setMinutes",hour:"setHours",second:"setSeconds",day:"setDate",month:"setMonth"},Fe=function(){function e(){}return e.dateParser=function(e,t,i){var n,r=this,a=Pe.getDependables(i,e,t.calendar),s=Me.getCurrentNumericOptions(a.parserObject,Me.getNumberingSystem(i)),c={},l=t.format||Pe.getResultantPattern(t.skeleton,a.dateObject,t.type),p="";if(d(l))f("Format options or type given must be invalid");else{c={isIslamic:Pe.islamicRegex.test(t.calendar),pattern:l,evalposition:{}};for(var u=l.match(Pe.dateParseRegex)||[],g=u.length,m=0,y=0,v=!1,b=s.numericRegex,w=Me.getNumberMapper(a.parserObject,Me.getNumberingSystem(i)),O=0;O<g;O++){var x=u[O],j=x.length,S="K"===x[0]?"h":x[0],P=void 0,C=void 0,E=_e[S],T=2===j?"":"?";switch(v&&(m=y,v=!1),S){case"E":case"c":var k=Me.reverseObject(a.dateObject[Pe.days]["stand-alone"][Pe.monthIndex[j]]);p+="("+Object.keys(k).join("|")+")";break;case"M":case"L":case"d":case"m":case"s":case"h":case"H":C=!0,("M"===S||"L"===S)&&j>2?(c[E]=Me.reverseObject(a.dateObject.months["stand-alone"][Pe.monthIndex[j]]),p+="("+Object.keys(c[E]).join("|")+")"):(P=!0,p+="("+b+b+T+")"),"h"===S&&(c.hour12=!0);break;case"y":C=P=!0,p+=2===j?"("+b+b+")":"("+b+"{"+j+",})";break;case"a":C=!0,c[E]=Me.reverseObject(o("dayPeriods.format.wide",a.dateObject)),p+="("+Object.keys(c[E]).join("|")+")";break;case"G":C=!0;var I=j<=3?"eraAbbr":4===j?"eraNames":"eraNarrow";c[E]=Me.reverseObject(o("eras."+I,a.dateObject)),p+="("+Object.keys(c[E]).join("|")+"?)";break;case"z":C=0!==(new Date).getTimezoneOffset(),c[E]=o("dates.timeZoneNames",a.parserObject);var A=c[E],M=(n=j<4)?"+H;-H":A.hourFormat;M=M.replace(/:/g,w.timeSeparator),p+="("+this.parseTimeZoneRegx(M,A,b)+")?",v=!0,y=n?6:12;break;case"'":p+="("+x.replace(/\'/g,"")+")?";break;default:p+="([\\D])"}C&&(c.evalposition[E]={isNumber:P,pos:O+1+m,hourOnly:n}),O!==g-1||h(p)||(c.parserRegex=new RegExp("^"+p+"$"))}}return function(e){var t=r.internalDateParse(e,c,s);if(h(t)||!Object.keys(t).length)return null;if(c.isIslamic){var i={},n=t.year,o=t.day,a=t.month,l=n?n+"":"",d=2===l.length;n&&a&&o&&!d||(i=Ce.getHijriDate(new Date)),d&&(n=parseInt((i.year+"").slice(0,2)+l,10));var p=Ce.toGregorian(n||i.year,a||i.month,o||i.date);t.year=p.getFullYear(),t.month=p.getMonth()+1,t.day=p.getDate()}return r.getDateObject(t)}},e.getDateObject=function(e,t){var i=t||new Date;i.setMilliseconds(0);var n=e.year,r=e.designator,o=e.timeZone;if(!d(n)){if((n+"").length<=2)n+=100*Math.floor(i.getFullYear()/100);i.setFullYear(n)}for(var a=0,s=["hour","minute","second","month","day"];a<s.length;a++){var c=s[a],l=e[c];if(d(l)&&"day"===c&&i.setDate(1),!d(l))if("month"===c){if((l-=1)<0||l>11)return new Date("invalid");var h=i.getDate();i.setDate(1),i[qe[c]](l);var p=new Date(i.getFullYear(),l+1,0).getDate();i.setDate(h<p?h:p)}else{if("day"===c){var u=new Date(i.getFullYear(),i.getMonth()+1,0).getDate();if(l<1||l>u)return null}i[qe[c]](l)}}if(!d(r)){var f=i.getHours();"pm"===r?i.setHours(f+(12===f?0:12)):12===f&&i.setHours(0)}if(!d(o)){var g=o-i.getTimezoneOffset();0!==g&&i.setMinutes(i.getMinutes()+g)}return i},e.internalDateParse=function(e,t,i){var n=e.match(t.parserRegex),r={hour:0,minute:0,second:0};i.numericRegex;if(h(n))return null;for(var o=0,a=Object.keys(t.evalposition);o<a.length;o++){var s=a[o],c=t.evalposition[s],l=n[c.pos];if(c.isNumber)r[s]=this.internalNumberParser(l,i);else if("timeZone"!==s||d(l))r[s]=t[s][l];else{var p=c.pos,u=void 0,f=n[p+1],g=!d(f);c.hourOnly?u=60*this.getZoneValue(g,f,n[p+4],i):(u=60*this.getZoneValue(g,f,n[p+7],i),u+=this.getZoneValue(g,n[p+4],n[p+10],i)),h(u)||(r[s]=u)}}return t.hour12&&(r.hour12=!0),r},e.internalNumberParser=function(e,t){return e=Me.convertValueParts(e,t.numberParseRegex,t.numericPair),We.test(e)?+e:null},e.parseTimeZoneRegx=function(e,t,i){var n,r,o=t.gmtFormat,a="("+i+")("+i+")";return n=e.replace("+","\\+"),r=(n=-1!==e.indexOf("HH")?n.replace(/HH|mm/g,"("+a+")"):n.replace(/H|m/g,"("+a+"?)")).split(";").map(function(e){return o.replace("{0}",e)}),n=r.join("|")+"|"+t.gmtZeroFormat},e.getZoneValue=function(e,t,i,n){var r=e?t:i;if(!r)return 0;var o=this.internalNumberParser(r,n);return e?-o:o},e}(),Ue=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)([Ee][+-]?[0-9]+)?([^0-9]*)$/,Xe=/,/g,Ye=["minusSign","infinity"],Ve=function(){function e(){}return e.numberParser=function(e,t,i){var n,r=this,o=Pe.getDependables(i,e,"",!0),a={custom:!0};Pe.formatRegex.test(t.format)||!t.format?(l(a,Pe.getProperNumericSkeleton(t.format||"N")),a.custom=!1):l(a,Pe.customFormat(t.format,null,null)),n=Me.getCurrentNumericOptions(o.parserObject,Me.getNumberingSystem(i),!0),a.symbolRegex=Me.getSymbolRegex(Object.keys(n.symbolMatch)),a.infinity=n.symbolNumberSystem[Ye[1]];var s=Pe.getSymbolPattern(a.type,n.numberSystem,o.numericObject,a.isAccount);if(s){var c=(s=s.replace(/\u00A4/g,Pe.defaultCurrency)).split(";");a.nData=Pe.getFormatData(c[1]||"-"+c[0],!0,""),a.pData=Pe.getFormatData(c[0],!0,"")}return function(e){return r.getParsedNumber(e,a,n)}},e.getParsedNumber=function(e,t,i){var n,r,o,a,s,c;if(-1!==e.indexOf(t.infinity))return 1/0;e=Me.convertValueParts(e,t.symbolRegex,i.symbolMatch),0===(e=Me.convertValueParts(e,i.numberParseRegex,i.numericPair)).indexOf(".")&&(e="0"+e);var l=e.match(Ue);if(h(l))return NaN;a=l[1],o=l[2];var d=l[5];return s=l[6],r=(n=t.custom?a===t.nData.nlead&&s===t.nData.nend:-1!==a.indexOf(t.nData.nlead)&&-1!==s.indexOf(t.nData.nend))?t.nData.isPercent:t.pData.isPercent,o=o.replace(Xe,""),d&&(o+=d),c=+o,("percent"===t.type||r)&&(c/=100),(t.custom||t.fractionDigits)&&(c=parseFloat(c.toFixed(t.custom?n?t.nData.maximumFractionDigits:t.pData.maximumFractionDigits:t.fractionDigits))),n&&(c*=-1),c},e}(),Ge=new N,Ze=!1,Qe={},Ke="en-US",$e="USD";!function(){function e(e){e&&(this.culture=e)}e.prototype.getDateFormat=function(e){return Be.dateFormat(this.getCulture(),e||{type:"date",skeleton:"short"},Qe)},e.prototype.getNumberFormat=function(e){return e&&!e.currency&&(e.currency=$e),Le.numberFormatter(this.getCulture(),e||{},Qe)},e.prototype.getDateParser=function(e){return Fe.dateParser(this.getCulture(),e||{skeleton:"short",type:"date"},Qe)},e.prototype.getNumberParser=function(e){return Ve.numberParser(this.getCulture(),e||{format:"N"},Qe)},e.prototype.formatNumber=function(e,t){return this.getNumberFormat(t)(e)},e.prototype.formatDate=function(e,t){return this.getDateFormat(t)(e)},e.prototype.parseDate=function(e,t){return this.getDateParser(t)(e)},e.prototype.parseNumber=function(e,t){return this.getNumberParser(t)(e)},e.prototype.getDatePattern=function(e,t){return Pe.getActualDateTimeFormat(this.getCulture(),e,Qe,t)},e.prototype.getNumberPattern=function(e){return Pe.getActualNumberFormat(this.getCulture(),e,Qe)},e.prototype.getFirstDayOfWeek=function(){return Pe.getWeekData(this.getCulture(),Qe)},e.prototype.getCulture=function(){return this.culture||Ke}}();var Je,et=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tt=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},it=0,nt=0,rt=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.randomId=function(){if("undefined"!==typeof window){var e=new Uint16Array(5);return(window.msCrypto||window.crypto).getRandomValues(e)}}(),n.needsID=!1,n.createElement=O,h(n.enableRtl)&&n.setProperties({enableRtl:Ze},!0),h(n.locale)&&n.setProperties({locale:Ke},!0),n.moduleLoader=new Ee(n),n.localObserver=new N(n),Ge.on("notifyExternalChange",n.detectFunction,n,n.randomId),d(i)||n.appendTo(),n}return et(t,e),t.prototype.requiredModules=function(){return[]},t.prototype.destroy=function(){this.isDestroyed||(this.enablePersistence&&this.setPersistData(),this.localObserver.destroy(),this.refreshing||(j([this.element],["e-control"]),this.trigger("destroyed",{cancel:!1}),e.prototype.destroy.call(this),this.moduleLoader.clean(),Ge.off("notifyExternalChange",this.detectFunction,this.randomId)))},t.prototype.refresh=function(){this.refreshing=!0,this.moduleLoader.clean(),this.destroy(),this.clearChanges(),this.localObserver=new N(this),this.preRender(),this.injectModules(),this.render(),this.refreshing=!1},t.prototype.appendTo=function(t){if(h(t)||"string"!==typeof t?h(t)||(this.element=t):this.element=document.querySelector(t),!h(this.element)){var i="e-"+this.getModuleName().toLowerCase();x([this.element],["e-control",i]),this.isProtectedOnChange=!1,this.needsID&&!this.element.id&&(this.element.id=this.getUniqueID(this.getModuleName())),this.enablePersistence&&(this.mergePersistData(),window.addEventListener("unload",this.setPersistData.bind(this)));var n=o("ej2_instances",this.element);n&&-1!==n.indexOf(this)||e.prototype.addInstance.call(this),this.preRender(),this.injectModules(),this.render(),this.trigger("created")}},t.prototype.dataBind=function(){this.injectModules(),e.prototype.dataBind.call(this)},t.prototype.on=function(e,t,i){if("string"===typeof e)this.localObserver.on(e,t,i);else for(var n=0,r=e;n<r.length;n++){var o=r[n];this.localObserver.on(o.event,o.handler,o.context)}},t.prototype.off=function(e,t){if("string"===typeof e)this.localObserver.off(e,t);else for(var i=0,n=e;i<n.length;i++){var r=n[i];this.localObserver.off(r.event,r.handler)}},t.prototype.notify=function(e,t){!0!==this.isDestroyed&&this.localObserver.notify(e,t)},t.prototype.getInjectedModules=function(){return this.injectedModules},t.Inject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.prototype.injectedModules||(this.prototype.injectedModules=[]);for(var i=0;i<e.length;i++)-1===this.prototype.injectedModules.indexOf(e[i])&&this.prototype.injectedModules.push(e[i])},t.prototype.injectModules=function(){this.injectedModules&&this.injectedModules.length&&this.moduleLoader.inject(this.requiredModules(),this.injectedModules)},t.prototype.detectFunction=function(e){var t=Object.keys(e);t.length&&(this[t[0]]=e[t[0]])},t.prototype.mergePersistData=function(){var e=window.localStorage.getItem(this.getModuleName()+this.element.id);h(e)||""===e||this.setProperties(JSON.parse(e),!0)},t.prototype.setPersistData=function(){this.isDestroyed||window.localStorage.setItem(this.getModuleName()+this.element.id,this.getPersistData())},t.prototype.clearTemplate=function(e,t){},t.prototype.getUniqueID=function(e){return this.isHistoryChanged()&&(it=0),Je=this.pageID(location.href),nt=history.length,e+"_"+Je+"_"+it++},t.prototype.pageID=function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return Math.abs(t)},t.prototype.isHistoryChanged=function(){return Je!==this.pageID(location.href)||nt!==history.length},t.prototype.addOnPersist=function(e){for(var t=this,i={},n=0,r=e;n<r.length;n++){var s,c=r[n];d(s=o(c,this))||a(c,this.getActualProperties(s),i)}return JSON.stringify(i,function(e,i){return t.getActualProperties(i)})},t.prototype.getActualProperties=function(e){return e instanceof Te?o("properties",e):e},t.prototype.ignoreOnPersist=function(e){return JSON.stringify(this.iterateJsonProperties(this.properties,e))},t.prototype.iterateJsonProperties=function(e,t){for(var i={},n=function(n){if(-1===t.indexOf(n)){var o=e[n];if("object"!==typeof o||o instanceof Array)i[n]=o;else{var a=t.filter(function(e){return new RegExp(n+".").test(e)}).map(function(e){return e.replace(n+".","")});i[n]=r.iterateJsonProperties(r.getActualProperties(o),a)}}},r=this,o=0,a=Object.keys(e);o<a.length;o++){n(a[o])}return i},tt([ce(!1)],t.prototype,"enablePersistence",void 0),tt([ce()],t.prototype,"enableRtl",void 0),tt([ce()],t.prototype,"locale",void 0),t=tt([fe],t)}(_);"undefined"!==typeof window&&window.addEventListener("popstate",function(){it=0});var ot=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),at=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},st={left:0,top:0,bottom:0,right:0},ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ot(t,e),at([ce(0)],t.prototype,"left",void 0),at([ce(0)],t.prototype,"top",void 0),t}(Te),lt=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.dragLimit=i.getDefaultPosition(),r.borderWidth=i.getDefaultPosition(),r.padding=i.getDefaultPosition(),r.diffX=0,r.prevLeft=0,r.prevTop=0,r.dragProcessStarted=!1,r.tapHoldTimer=0,r.externalInitialize=!1,r.diffY=0,r.droppables={},r.bind(),r}var i;return ot(t,e),i=t,t.prototype.bind=function(){this.toggleEvents(),Z.isIE&&x([this.element],"e-block-touch"),this.droppables[this.scope]={}},t.getDefaultPosition=function(){return l({},st)},t.prototype.toggleEvents=function(e){var t;d(this.handle)||(t=A(this.handle,this.element));var i=this.enableTapHold&&Z.isDevice&&Z.isTouch?this.mobileInitialize:this.initialize;e?b.remove(t||this.element,Z.touchStartEvent,i):b.add(t||this.element,Z.touchStartEvent,i,this)},t.prototype.mobileInitialize=function(e){var t=this,i=e.currentTarget;this.tapHoldTimer=setTimeout(function(){t.externalInitialize=!0,t.removeTapholdTimer(),t.initialize(e,i)},this.tapHoldThreshold),b.add(document,Z.touchMoveEvent,this.removeTapholdTimer,this)},t.prototype.removeTapholdTimer=function(){clearTimeout(this.tapHoldTimer),b.remove(document,Z.touchMoveEvent,this.removeTapholdTimer)},t.prototype.getScrollableParent=function(e,t){return h(e)?null:e[{vertical:"scrollHeight",horizontal:"scrollWidth"}[t]]>e[{vertical:"clientHeight",horizontal:"clientWidth"}[t]]?e:this.getScrollableParent(e.parentNode,t)},t.prototype.initialize=function(e,t){if(this.target=e.currentTarget||t,this.dragProcessStarted=!1,!this.abort||h(z(e.target,this.abort))){this.preventDefault&&!d(e.changedTouches)&&e.preventDefault(),this.element.setAttribute("aria-grabbed","true");var i=this.getCoordinates(e);if(this.initialPosition={x:i.pageX,y:i.pageY},!this.clone){var n=this.element.getBoundingClientRect(),r=this.getScrollableParent(this.element.parentNode,"vertical"),o=this.getScrollableParent(this.element.parentNode,"horizontal"),a=o?o.scrollLeft:0,s=r?r.scrollTop:0;this.relativeXPosition=i.pageX-(n.left+a),this.relativeYPosition=i.pageY-(n.top+s)}this.externalInitialize?this.intDragStart(e):(b.add(document,Z.touchMoveEvent,this.intDragStart,this),b.add(document,Z.touchEndEvent,this.intDestroy,this)),this.toggleEvents(!0),document.body.classList.add("e-prevent-select"),this.externalInitialize=!1,b.trigger(document.documentElement,Z.touchStartEvent,e)}},t.prototype.intDragStart=function(e){this.removeTapholdTimer();var t=!d(e.changedTouches);if(!t||1===e.changedTouches.length){t&&e.preventDefault();var i,n=this.getCoordinates(e),r=getComputedStyle(this.element);this.margin={left:parseInt(r.marginLeft,10),top:parseInt(r.marginTop,10),right:parseInt(r.marginRight,10),bottom:parseInt(r.marginBottom,10)};var o=this.element;if(this.clone&&this.dragTarget){var a=z(e.target,this.dragTarget);h(a)||(o=a)}this.offset=this.calculateParentPosition(o),this.position=this.getMousePosition(e);var s=this.initialPosition.x-n.pageX,c=this.initialPosition.y-n.pageY;if(Math.sqrt(s*s+c*c)>=this.distance||this.externalInitialize){var l=this.getHelperElement(e);if(!l||h(l))return;var p=this.helperElement=l;if(this.parentClientRect=this.calculateParentPosition(p.offsetParent),this.dragStart){var u=this.getProperTargetElement(e);this.trigger("dragStart",{event:e,element:o,target:u})}this.dragArea?this.setDragArea():(this.dragLimit={left:0,right:0,bottom:0,top:0},this.borderWidth={top:0,left:0}),i={left:this.position.left-this.parentClientRect.left,top:this.position.top-this.parentClientRect.top},this.clone&&!this.enableTailMode&&(this.diffX=this.position.left-this.offset.left,this.diffY=this.position.top-this.offset.top);var f=this.getProcessedPositionValue({top:i.top-this.diffY+"px",left:i.left-this.diffX+"px"});D(p,this.getDragPosition({position:"absolute",left:f.left,top:f.top})),b.remove(document,Z.touchMoveEvent,this.intDragStart),b.remove(document,Z.touchEndEvent,this.intDestroy),P(p)?(b.add(document,Z.touchMoveEvent,this.intDrag,this),b.add(document,Z.touchEndEvent,this.intDragStop,this),this.setGlobalDroppables(!1,this.element,p)):(this.toggleEvents(),document.body.classList.remove("e-prevent-select"))}}},t.prototype.elementInViewport=function(e){for(this.top=e.offsetTop,this.left=e.offsetLeft,this.width=e.offsetWidth,this.height=e.offsetHeight;e.offsetParent;)e=e.offsetParent,this.top+=e.offsetTop,this.left+=e.offsetLeft;return this.top>=window.pageYOffset&&this.left>=window.pageXOffset&&this.top+this.height<=window.pageYOffset+window.innerHeight&&this.left+this.width<=window.pageXOffset+window.innerWidth},t.prototype.getProcessedPositionValue=function(e){return this.queryPositionInfo?this.queryPositionInfo(e):e},t.prototype.calculateParentPosition=function(e){if(h(e))return{left:0,top:0};var t=e.getBoundingClientRect(),i=getComputedStyle(e);return{left:t.left+window.pageXOffset-parseInt(i.marginLeft,10),top:t.top+window.pageYOffset-parseInt(i.marginTop,10)}},t.prototype.intDrag=function(e){if(d(e.changedTouches)||1===e.changedTouches.length){var t,i;this.position=this.getMousePosition(e);var n=this.getDocumentWidthHeight("Height");n<this.position.top&&(this.position.top=n);var r=this.getDocumentWidthHeight("Width");if(r<this.position.left&&(this.position.left=r),this.drag){var o=this.getProperTargetElement(e);this.trigger("drag",{event:e,element:this.element,target:o})}var a=this.checkTargetElement(e);a.target&&a.instance?(a.instance.dragData[this.scope]=this.droppables[this.scope],a.instance.intOver(e,a.target),this.hoverObject=a):this.hoverObject&&(this.hoverObject.instance.intOut(e,a.target),this.hoverObject.instance.dragData[this.scope]=null,this.hoverObject=null);var s=this.droppables[this.scope].helper;this.parentClientRect=this.calculateParentPosition(this.helperElement.offsetParent);var c=this.parentClientRect.left,l=this.parentClientRect.top,p=this.getCoordinates(e),u=p.pageX,f=p.pageY,g=this.position.left-this.diffX,m=this.position.top-this.diffY;if(this.dragArea){var y=getComputedStyle(s);if(this.pageX!==u||this.skipDistanceCheck){var v=s.offsetWidth+(parseFloat(y.marginLeft)+parseFloat(y.marginRight));t=this.dragLimit.left+window.pageXOffset>g?this.dragLimit.left:this.dragLimit.right+window.pageXOffset<g+v?this.dragLimit.right-v:g}if(this.pageY!==f||this.skipDistanceCheck){var b=s.offsetHeight+(parseFloat(y.marginTop)+parseFloat(y.marginBottom));i=this.dragLimit.top+window.pageYOffset>m?this.dragLimit.top:this.dragLimit.bottom+window.pageYOffset<m+b?this.dragLimit.bottom-b:m}}else t=g,i=m;var w=l+this.borderWidth.top,O=c+this.borderWidth.left;this.dragProcessStarted&&(h(i)&&(i=this.prevTop),h(t)&&(t=this.prevLeft));var x=this.getProcessedPositionValue({top:i-w+"px",left:t-O+"px"});D(s,this.getDragPosition(x)),!this.elementInViewport(s)&&this.enableAutoScroll&&this.helperElement.scrollIntoView(),this.dragProcessStarted=!0,this.prevLeft=t,this.prevTop=i,this.position.left=t,this.position.top=i,this.pageX=u,this.pageY=f}},t.prototype.getDragPosition=function(e){var t=l({},e);return this.axis&&("x"===this.axis?delete t.top:"y"===this.axis&&delete t.left),t},t.prototype.getDocumentWidthHeight=function(e){var t=document.body,i=document.documentElement;return Math.max(t["scroll"+e],i["scroll"+e],t["offset"+e],i["offset"+e],i["client"+e])},t.prototype.intDragStop=function(e){if(this.dragProcessStarted=!1,d(e.changedTouches)||1===e.changedTouches.length){if(-1!==["touchend","pointerup","mouseup"].indexOf(e.type)){if(this.dragStop){var t=this.getProperTargetElement(e);this.trigger("dragStop",{event:e,element:this.element,target:t,helper:this.helperElement})}this.intDestroy(e)}else this.element.setAttribute("aria-grabbed","false");var i=this.checkTargetElement(e);i.target&&i.instance&&(i.instance.dragStopCalled=!0,i.instance.dragData[this.scope]=this.droppables[this.scope],i.instance.intDrop(e,i.target)),this.setGlobalDroppables(!0),document.body.classList.remove("e-prevent-select")}},t.prototype.intDestroy=function(e){this.dragProcessStarted=!1,this.toggleEvents(),document.body.classList.remove("e-prevent-select"),this.element.setAttribute("aria-grabbed","false"),b.remove(document,Z.touchMoveEvent,this.intDragStart),b.remove(document,Z.touchEndEvent,this.intDragStop),b.remove(document,Z.touchEndEvent,this.intDestroy),b.remove(document,Z.touchMoveEvent,this.intDrag)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"draggable"},t.prototype.setDragArea=function(){var e,t,i,n=0,r=0;if(i="string"===typeof this.dragArea?A(this.dragArea):this.dragArea){var o=i.getBoundingClientRect();e=o.width?o.width:o.right-o.left,t=o.height?o.height:o.bottom-o.top;for(var a=["Top","Left","Bottom","Right"],s=getComputedStyle(i),c=0;c<a.length;c++){var l=a[c],h=s["border"+l+"Width"],d=s["padding"+l],p=l.toLowerCase();this.borderWidth[p]=isNaN(parseFloat(h))?0:parseFloat(h),this.padding[p]=isNaN(parseFloat(d))?0:parseFloat(d)}n=o.top,r=o.left,this.dragLimit.left=r+this.borderWidth.left+this.padding.left,this.dragLimit.top=n+this.borderWidth.top+this.padding.top,this.dragLimit.right=r+e-(this.borderWidth.right+this.padding.right),this.dragLimit.bottom=n+t-(this.borderWidth.bottom+this.padding.bottom)}},t.prototype.getProperTargetElement=function(e){var t,i=this.getCoordinates(e),n=this.helperElement.style.display||"";return u(e.target,this.helperElement)||-1!==e.type.indexOf("touch")?(this.helperElement.style.display="none",t=document.elementFromPoint(i.clientX,i.clientY),this.helperElement.style.display=n):t=e.target,t},t.prototype.getMousePosition=function(e){var t=this.getCoordinates(e),i=this.clone?t.pageX:t.pageX+window.pageXOffset-this.relativeXPosition,n=this.clone?t.pageY:t.pageY+window.pageYOffset-this.relativeYPosition;return{left:i-(this.margin.left+this.cursorAt.left),top:n-(this.margin.top+this.cursorAt.top)}},t.prototype.getCoordinates=function(e){return e.type.indexOf("touch")>-1?e.changedTouches[0]:e},t.prototype.getHelperElement=function(e){var t;return this.clone?this.helper?t=this.helper({sender:e,element:this.target}):(t=O("div",{className:"e-drag-helper e-block-touch",innerHTML:"Draggable"}),document.body.appendChild(t)):t=this.element,t},t.prototype.setGlobalDroppables=function(e,t,i){this.droppables[this.scope]=e?null:{draggable:t,helper:i,draggedElement:this.element}},t.prototype.checkTargetElement=function(e){var t=this.getProperTargetElement(e),i=this.getDropInstance(t);if(!i&&t&&!h(t.parentNode)){var n=z(t.parentNode,".e-droppable")||t.parentElement;n&&(i=this.getDropInstance(n))}return{target:t,instance:i}},t.prototype.getDropInstance=function(e){var t,i=e&&e.ej2_instances;if(i)for(var n=0,r=i;n<r.length;n++){var o=r[n];if("droppable"===o.getModuleName()){t=o;break}}return t},t.prototype.destroy=function(){this.toggleEvents(!0),e.prototype.destroy.call(this)},at([le({},ct)],t.prototype,"cursorAt",void 0),at([ce(!0)],t.prototype,"clone",void 0),at([ce()],t.prototype,"dragArea",void 0),at([ue()],t.prototype,"drag",void 0),at([ue()],t.prototype,"dragStart",void 0),at([ue()],t.prototype,"dragStop",void 0),at([ce(1)],t.prototype,"distance",void 0),at([ce()],t.prototype,"handle",void 0),at([ce()],t.prototype,"abort",void 0),at([ce()],t.prototype,"helper",void 0),at([ce("default")],t.prototype,"scope",void 0),at([ce("")],t.prototype,"dragTarget",void 0),at([ce()],t.prototype,"axis",void 0),at([ce()],t.prototype,"queryPositionInfo",void 0),at([ce(!1)],t.prototype,"enableTailMode",void 0),at([ce(!1)],t.prototype,"skipDistanceCheck",void 0),at([ce(!0)],t.prototype,"preventDefault",void 0),at([ce(!1)],t.prototype,"enableAutoScroll",void 0),at([ce(!1)],t.prototype,"enableTapHold",void 0),at([ce(750)],t.prototype,"tapHoldThreshold",void 0),t=i=at([fe],t)}(_),ht=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),dt=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},pt=function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.mouseOver=!1,n.dragData={},n.dragStopCalled=!1,n.bind(),n}return ht(t,e),t.prototype.bind=function(){this.wireEvents()},t.prototype.wireEvents=function(){b.add(this.element,Z.touchEndEvent,this.intDrop,this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.getModuleName=function(){return"droppable"},t.prototype.intOver=function(e,t){if(!this.mouseOver){var i=this.dragData[this.scope];this.trigger("over",{event:e,target:t,dragData:i}),this.mouseOver=!0}},t.prototype.intOut=function(e,t){this.mouseOver&&(this.trigger("out",{evt:e,target:t}),this.mouseOver=!1)},t.prototype.intDrop=function(e,t){if(this.dragStopCalled){this.dragStopCalled=!1;var i,n=!0,r=this.dragData[this.scope],o=!!r&&(r.helper&&P(r.helper));o&&(i=this.isDropArea(e,r.helper,t),this.accept&&(n=R(r.helper,this.accept))),o&&this.drop&&i.canDrop&&n&&this.trigger("drop",{event:e,target:i.target,droppedElement:r.helper,dragData:r}),this.mouseOver=!1}},t.prototype.isDropArea=function(e,t,i){var n={canDrop:!0,target:i||e.target},r="touchend"===e.type;if(r||n.target===t){t.style.display="none";var o=r?e.changedTouches[0]:e,a=document.elementFromPoint(o.clientX,o.clientY);n.canDrop=!1,n.canDrop=u(a,this.element),n.canDrop&&(n.target=a),t.style.display=""}return n},t.prototype.destroy=function(){b.remove(this.element,Z.touchEndEvent,this.intDrop),e.prototype.destroy.call(this)},dt([ce()],t.prototype,"accept",void 0),dt([ce("default")],t.prototype,"scope",void 0),dt([ue()],t.prototype,"drop",void 0),dt([ue()],t.prototype,"over",void 0),dt([ue()],t.prototype,"out",void 0),t=dt([fe],t)}(_),ut=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ft=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},gt={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,space:32,escape:27,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,semicolon:186,plus:187,comma:188,minus:189,dot:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},mt=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.keyPressHandler=function(e){for(var t=e.altKey,n=e.ctrlKey,o=e.shiftKey,a=e.which,s=0,c=Object.keys(r.keyConfigs);s<c.length;s++)for(var l=c[s],h=0,d=r.keyConfigs[l].split(",");h<d.length;h++){var p=d[h],u=i.getKeyConfigData(p.trim());t===u.altKey&&n===u.ctrlKey&&o===u.shiftKey&&a===u.keyCode&&(e.action=l,r.keyAction&&r.keyAction(e))}},r.bind(),r}var i;return ut(t,e),i=t,t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents()},t.prototype.getModuleName=function(){return"keyboard"},t.prototype.wireEvents=function(){this.element.addEventListener(this.eventName,this.keyPressHandler)},t.prototype.unwireEvents=function(){this.element.removeEventListener(this.eventName,this.keyPressHandler)},t.getKeyConfigData=function(e){if(e in this.configCache)return this.configCache[e];var t=e.toLowerCase().split("+"),n={altKey:-1!==t.indexOf("alt"),ctrlKey:-1!==t.indexOf("ctrl"),shiftKey:-1!==t.indexOf("shift"),keyCode:null};return t[t.length-1].length>1&&Number(t[t.length-1])?n.keyCode=Number(t[t.length-1]):n.keyCode=i.getKeyCode(t[t.length-1]),i.configCache[e]=n,n},t.getKeyCode=function(e){return gt[e]||e.toUpperCase().charCodeAt(0)},t.configCache={},ft([ce({})],t.prototype,"keyConfigs",void 0),ft([ce("keyup")],t.prototype,"eventName",void 0),ft([ue()],t.prototype,"keyAction",void 0),t=i=ft([fe],t)}(_),yt=function(){function e(e,t,i){this.controlName=e,this.localeStrings=t,this.setLocale(i||Ke)}return e.prototype.setLocale=function(t){var i=this.intGetControlConstant(e.locale,t);this.currentLocale=i||this.localeStrings},e.load=function(e){this.locale=l(this.locale,e,{},!0)},e.prototype.getConstant=function(e){return h(this.currentLocale[e])?this.localeStrings[e]||"":this.currentLocale[e]},e.prototype.intGetControlConstant=function(e,t){return e[t]?e[t][this.controlName]:null},e.locale={},e}(),vt=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),bt=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vt(t,e),bt([ce(50)],t.prototype,"swipeThresholdDistance",void 0),t}(Te),Ot=/(Up|Down)/,xt=function(e){function t(t,i){var n=e.call(this,i,t)||this;return n.touchAction=!0,n.tapCount=0,n.startEvent=function(e){if(!0===n.touchAction){var t=e.changedTouches?e.changedTouches[0]:e;void 0!==e.changedTouches&&(n.touchAction=!1),n.isTouchMoved=!1,n.movedDirection="",n.startPoint=n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY},n.startEventData=t,n.hScrollLocked=n.vScrollLocked=!1,n.tStampStart=Date.now(),n.timeOutTapHold=setTimeout(function(){n.tapHoldEvent(e)},n.tapHoldThreshold),b.add(n.element,Z.touchMoveEvent,n.moveEvent,n),b.add(n.element,Z.touchEndEvent,n.endEvent,n),b.add(n.element,Z.touchCancelEvent,n.cancelEvent,n)}},n.moveEvent=function(e){var t=e.changedTouches?e.changedTouches[0]:e;n.movedPoint=t,n.isTouchMoved=!(t.clientX===n.startPoint.clientX&&t.clientY===n.startPoint.clientY);var i={};n.isTouchMoved&&(clearTimeout(n.timeOutTapHold),n.calcScrollPoints(e),i=l(i,{},{startEvents:n.startEventData,originalEvent:e,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,scrollDirection:n.scrollDirection,velocity:n.getVelocity(t)}),n.trigger("scroll",i),n.lastMovedPoint={clientX:t.clientX,clientY:t.clientY})},n.cancelEvent=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap),n.tapCount=0,n.swipeFn(e),b.remove(n.element,Z.touchCancelEvent,n.cancelEvent)},n.endEvent=function(e){n.swipeFn(e),n.isTouchMoved||"function"===typeof n.tap&&(n.trigger("tap",{originalEvent:e,tapCount:++n.tapCount}),n.timeOutTap=setTimeout(function(){n.tapCount=0},n.tapThreshold)),n.modeclear()},n.swipeFn=function(e){clearTimeout(n.timeOutTapHold),clearTimeout(n.timeOutTap);var t=e;e.changedTouches&&(t=e.changedTouches[0]);var i=t.clientX-n.startPoint.clientX,r=t.clientY-n.startPoint.clientY;i=Math.floor(i<0?-1*i:i),r=Math.floor(r<0?-1*r:i),n.isTouchMoved=i>1||r>1,n.endPoint=t,n.calcPoints(e);var o={originalEvent:e,startEvents:n.startEventData,startX:n.startPoint.clientX,startY:n.startPoint.clientY,distanceX:n.distanceX,distanceY:n.distanceY,swipeDirection:n.movedDirection,velocity:n.getVelocity(t)};if(n.isTouchMoved){var a=void 0,s=n.swipeSettings.swipeThresholdDistance;a=l(a,n.defaultArgs,o);var c=!1,h=n.element,d=n.isScrollable(h),p=Ot.test(n.movedDirection);(s<n.distanceX&&!p||s<n.distanceY&&p)&&(c=!d||n.checkSwipe(h,p)),c&&n.trigger("swipe",a)}n.modeclear()},n.modeclear=function(){n.modeClear=setTimeout(function(){n.touchAction=!0},"function"!==typeof n.tap?0:20),n.lastTapTime=(new Date).getTime(),b.remove(n.element,Z.touchMoveEvent,n.moveEvent),b.remove(n.element,Z.touchEndEvent,n.endEvent),b.remove(n.element,Z.touchCancelEvent,n.cancelEvent)},n.bind(),n}return vt(t,e),t.prototype.onPropertyChanged=function(e,t){},t.prototype.bind=function(){this.wireEvents(),Z.isIE&&this.element.classList.add("e-block-touch")},t.prototype.destroy=function(){this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.wireEvents=function(){b.add(this.element,Z.touchStartEvent,this.startEvent,this)},t.prototype.unwireEvents=function(){b.remove(this.element,Z.touchStartEvent,this.startEvent)},t.prototype.getModuleName=function(){return"touch"},t.prototype.isScrollable=function(e){var t=getComputedStyle(e),i=t.overflow+t.overflowX+t.overflowY;return!!/(auto|scroll)/.test(i)},t.prototype.tapHoldEvent=function(e){var t;this.tapCount=0,this.touchAction=!0,b.remove(this.element,Z.touchMoveEvent,this.moveEvent),b.remove(this.element,Z.touchEndEvent,this.endEvent),t={originalEvent:e},this.trigger("tapHold",t),b.remove(this.element,Z.touchCancelEvent,this.cancelEvent)},t.prototype.calcPoints=function(e){var t=e.changedTouches?e.changedTouches[0]:e;this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.startPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.startPoint.clientY)),this.distanceX>this.distanceY?this.movedDirection=t.clientX>this.startPoint.clientX?"Right":"Left":this.movedDirection=t.clientY<this.startPoint.clientY?"Up":"Down"},t.prototype.calcScrollPoints=function(e){var t=e.changedTouches?e.changedTouches[0]:e;this.defaultArgs={originalEvent:e},this.distanceX=Math.abs(Math.abs(t.clientX)-Math.abs(this.lastMovedPoint.clientX)),this.distanceY=Math.abs(Math.abs(t.clientY)-Math.abs(this.lastMovedPoint.clientY)),(this.distanceX>this.distanceY||!0===this.hScrollLocked)&&!1===this.vScrollLocked?(this.scrollDirection=t.clientX>this.lastMovedPoint.clientX?"Right":"Left",this.hScrollLocked=!0):(this.scrollDirection=t.clientY<this.lastMovedPoint.clientY?"Up":"Down",this.vScrollLocked=!0)},t.prototype.getVelocity=function(e){var t=e.clientX,i=e.clientY,n=Date.now(),r=t-this.startPoint.clientX,o=i-this.startPoint.clientX,a=n-this.tStampStart;return Math.sqrt(r*r+o*o)/a},t.prototype.checkSwipe=function(e,t){var i=["scroll","offset"],n=t?["Height","Top"]:["Width","Left"];return e[i[0]+n[0]]<=e[i[1]+n[0]]||(0===e[i[0]+n[1]]||e[i[1]+n[0]]+e[i[0]+n[1]]>=e[i[0]+n[0]])},bt([ue()],t.prototype,"tap",void 0),bt([ue()],t.prototype,"tapHold",void 0),bt([ue()],t.prototype,"swipe",void 0),bt([ue()],t.prototype,"scroll",void 0),bt([ce(350)],t.prototype,"tapThreshold",void 0),bt([ce(750)],t.prototype,"tapHoldThreshold",void 0),bt([le({},wt)],t.prototype,"swipeSettings",void 0),t=bt([fe],t)}(_),jt=new RegExp("\\n|\\r|\\s\\s+","g"),St=new RegExp(/'|"/g),Pt=new RegExp("if ?\\("),Ct=new RegExp("else if ?\\("),Et=new RegExp("else"),Tt=new RegExp("for ?\\("),kt=new RegExp("(/if|/for)"),It=new RegExp("\\((.*)\\)",""),At=new RegExp("^[0-9]+$","g"),Mt=new RegExp("[\\w\"'.\\s+]+","g"),zt=new RegExp('"(.*?)"',"g"),Dt=new RegExp("\\${([^}]*)}","g");function Lt(e,t){var i=function(e,t,i){var n=0,r=[],o=e.match(/class="([^\"]+|)\s{2}/g),a="";o&&o.forEach(function(t){a=t.replace(/\s\s+/g," "),e=e.replace(t,a)});return e.replace(jt,"").replace(zt,"'$1'").replace(Dt,function(e,o,a,s){var c=o.match(It);if(c){var l=c[1];if(Ct.test(o))o='";} '+o.replace(c[1],l.replace(Mt,function(e){return Rt(e=e.trim(),!St.test(e)&&-1===r.indexOf(e),t,r)}))+'{ \n str = str + "';else if(Pt.test(o))o='"; '+o.replace(c[1],l.replace(Mt,function(e){return Rt(e=e.trim(),!St.test(e)&&-1===r.indexOf(e),t,r)}))+'{ \n str = str + "';else if(Tt.test(o)){var h=c[1].split(" of ");o='"; '+o.replace(c[1],function(e){return r.push(h[0]),r.push(h[0]+"Index"),"var i"+(n+=1)+"=0; i"+n+" < "+Rt(h[1],!0,t,r)+".length; i"+n+"++"})+"{ \n "+h[0]+"= "+Rt(h[1],!0,t,r)+"[i"+n+"]; \n var "+h[0]+"Index=i"+n+'; \n str = str + "'}else{var d=o.split("("),p=i&&i.hasOwnProperty(d[0])?"this.":"global";p=/\./.test(d[0])?"":p;var u=c[1].split(",");0===c[1].length||/data/.test(u[0])||/window./.test(u[0])||(c[1]="global"===p?t+"."+c[1]:c[1]),o='" + '+("global"===p?"":p)+o.replace(l,Rt(c[1].replace(/,( |)data.|,/gi,","+t+".").replace(/,( |)data.window/gi,",window"),"global"!==p,t,r))+'+"'}}else o=Et.test(o)?'"; '+o.replace(Et,'} else { \n str = str + "'):o.match(kt)?o.replace(kt,'"; \n } \n str = str + "'):'"+'+Rt(o.replace(/\,/gi,"+"+t+"."),-1===r.indexOf(o),t,r)+'+"';return o})}(e,"data",t);return new Function("data",'var str="'+i+'"; return str;').bind(t)}function Rt(e,t,i,n){return t&&!At.test(e)&&-1===n.indexOf(e.split(".")[0])?i+"."+e:e}var Nt=/^[\n\r.]+\<tr|^\<tr/,Ht=/^[\n\r.]+\<svg|^\<path|^\<g/;function _t(e,t){var i=qt.compile(e,t);return function(e,t,n){var r=i(e,t,n);return"string"===typeof r?Ht.test(r)?O("svg",{innerHTML:r}).childNodes:O(Nt.test(r)?"table":"div",{innerHTML:r}).childNodes:r}}function Bt(e){qt.compile=e.compile}function Wt(){return qt.compile}var qt={compile:(new(function(){function e(){}return e.prototype.compile=function(e,t){return void 0===t&&(t={}),Lt(e,t)},e}())).compile};i.d(t,"a",function(){return v}),i.d(t,"b",function(){return ve}),i.d(t,"J",function(){return be}),i.d(t,"c",function(){return Z}),i.d(t,"i",function(){return rt}),i.d(t,"d",function(){return Te}),i.d(t,"j",function(){return lt}),i.d(t,"k",function(){return pt}),i.d(t,"m",function(){return b}),i.d(t,"n",function(){return mt}),i.d(t,"o",function(){return yt}),i.d(t,"q",function(){return ce}),i.d(t,"g",function(){return le}),i.d(t,"h",function(){return he}),i.d(t,"e",function(){return de}),i.d(t,"f",function(){return pe}),i.d(t,"l",function(){return ue}),i.d(t,"p",function(){return fe}),i.d(t,"r",function(){return xt}),i.d(t,"x",function(){return _t}),i.d(t,"N",function(){return Bt}),i.d(t,"C",function(){return Wt}),i.d(t,"E",function(){return o}),i.d(t,"O",function(){return a}),i.d(t,"A",function(){return l}),i.d(t,"F",function(){return h}),i.d(t,"D",function(){return p}),i.d(t,"B",function(){return g}),i.d(t,"y",function(){return O}),i.d(t,"s",function(){return x}),i.d(t,"I",function(){return j}),i.d(t,"G",function(){return P}),i.d(t,"t",function(){return C}),i.d(t,"z",function(){return T}),i.d(t,"H",function(){return k}),i.d(t,"u",function(){return I}),i.d(t,"K",function(){return A}),i.d(t,"L",function(){return M}),i.d(t,"w",function(){return z}),i.d(t,"M",function(){return D}),i.d(t,"v",function(){return L})},function(e,t,i){"use strict";var n,r,o,a,s,c,l,h,d,p,u,f,g,m,y,v,b,w,O,x;i.d(t,"m",function(){return n}),i.d(t,"q",function(){return r}),i.d(t,"p",function(){return o}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s}),i.d(t,"k",function(){return c}),i.d(t,"g",function(){return l}),i.d(t,"r",function(){return h}),i.d(t,"d",function(){return d}),i.d(t,"f",function(){return p}),i.d(t,"s",function(){return u}),i.d(t,"h",function(){return g}),i.d(t,"i",function(){return m}),i.d(t,"c",function(){return y}),i.d(t,"o",function(){return v}),i.d(t,"n",function(){return b}),i.d(t,"j",function(){return w}),i.d(t,"e",function(){return O}),i.d(t,"l",function(){return x}),function(e){e[e.Visible=1]="Visible",e[e.Hidden=2]="Hidden",e[e.Hover=4]="Hover",e[e.Connect=8]="Connect"}(n||(n={})),function(e){e[e.None=0]="None",e[e.ShowHorizontalLines=1]="ShowHorizontalLines",e[e.ShowVerticalLines=2]="ShowVerticalLines",e[e.ShowLines=3]="ShowLines",e[e.SnapToHorizontalLines=4]="SnapToHorizontalLines",e[e.SnapToVerticalLines=8]="SnapToVerticalLines",e[e.SnapToLines=12]="SnapToLines",e[e.SnapToObject=16]="SnapToObject",e[e.All=31]="All"}(r||(r={})),function(e){e[e.None=1]="None",e[e.ConnectorSourceThumb=2]="ConnectorSourceThumb",e[e.ConnectorTargetThumb=4]="ConnectorTargetThumb",e[e.ResizeSouthEast=8]="ResizeSouthEast",e[e.ResizeSouthWest=16]="ResizeSouthWest",e[e.ResizeNorthEast=32]="ResizeNorthEast",e[e.ResizeNorthWest=64]="ResizeNorthWest",e[e.ResizeEast=128]="ResizeEast",e[e.ResizeWest=256]="ResizeWest",e[e.ResizeSouth=512]="ResizeSouth",e[e.ResizeNorth=1024]="ResizeNorth",e[e.Rotate=2048]="Rotate",e[e.UserHandle=4096]="UserHandle",e[e.ToolTip=8192]="ToolTip",e[e.ResizeAll=2046]="ResizeAll",e[e.All=16382]="All"}(o||(o={})),function(e){e[e.None=1]="None",e[e.Select=2]="Select",e[e.Delete=4]="Delete",e[e.Drag=8]="Drag",e[e.DragSourceEnd=16]="DragSourceEnd",e[e.DragTargetEnd=32]="DragTargetEnd",e[e.DragSegmentThumb=64]="DragSegmentThumb",e[e.AllowDrop=128]="AllowDrop",e[e.Bridging=256]="Bridging",e[e.BridgeObstacle=512]="BridgeObstacle",e[e.InheritBridging=1024]="InheritBridging",e[e.PointerEvents=2048]="PointerEvents",e[e.Tooltip=4096]="Tooltip",e[e.InheritTooltip=8192]="InheritTooltip",e[e.Interaction=4218]="Interaction",e[e.ReadOnly=16384]="ReadOnly",e[e.Default=11838]="Default"}(a||(a={})),function(e){e[e.ReadOnly=2]="ReadOnly",e[e.InheritReadOnly=4]="InheritReadOnly",e[e.Select=8]="Select",e[e.Drag=16]="Drag",e[e.Resize=32]="Resize",e[e.Rotate=64]="Rotate",e[e.Interaction=120]="Interaction",e[e.None=0]="None"}(s||(s={})),function(e){e[e.None=0]="None",e[e.Select=2]="Select",e[e.Drag=4]="Drag",e[e.Rotate=8]="Rotate",e[e.Shadow=16]="Shadow",e[e.PointerEvents=32]="PointerEvents",e[e.Delete=64]="Delete",e[e.InConnect=128]="InConnect",e[e.OutConnect=256]="OutConnect",e[e.Individual=512]="Individual",e[e.Expandable=1024]="Expandable",e[e.AllowDrop=2048]="AllowDrop",e[e.Inherit=78]="Inherit",e[e.ResizeNorthEast=4096]="ResizeNorthEast",e[e.ResizeEast=8192]="ResizeEast",e[e.ResizeSouthEast=16384]="ResizeSouthEast",e[e.ResizeSouth=32768]="ResizeSouth",e[e.ResizeSouthWest=65536]="ResizeSouthWest",e[e.ResizeWest=131072]="ResizeWest",e[e.ResizeNorthWest=262144]="ResizeNorthWest",e[e.ResizeNorth=524288]="ResizeNorth",e[e.Resize=1044480]="Resize",e[e.AspectRatio=1048576]="AspectRatio",e[e.HideThumbs=16777216]="HideThumbs",e[e.Tooltip=2097152]="Tooltip",e[e.InheritTooltip=4194304]="InheritTooltip",e[e.ReadOnly=8388608]="ReadOnly",e[e.Default=5240814]="Default"}(c||(c={})),function(e){e[e.None=0]="None",e[e.ElementIsPort=2]="ElementIsPort",e[e.ElementIsGroup=4]="ElementIsGroup"}(l||(l={})),function(e){e[e.Rotate=2]="Rotate",e[e.ConnectorSource=4]="ConnectorSource",e[e.ConnectorTarget=8]="ConnectorTarget",e[e.ResizeNorthEast=16]="ResizeNorthEast",e[e.ResizeEast=32]="ResizeEast",e[e.ResizeSouthEast=64]="ResizeSouthEast",e[e.ResizeSouth=128]="ResizeSouth",e[e.ResizeSouthWest=256]="ResizeSouthWest",e[e.ResizeWest=512]="ResizeWest",e[e.ResizeNorthWest=1024]="ResizeNorthWest",e[e.ResizeNorth=2048]="ResizeNorth",e[e.Default=4094]="Default"}(h||(h={})),function(e){e[e.None=1]="None",e[e.Bridging=2]="Bridging",e[e.UndoRedo=4]="UndoRedo",e[e.Tooltip=8]="Tooltip",e[e.UserInteraction=16]="UserInteraction",e[e.ApiUpdate=32]="ApiUpdate",e[e.PageEditable=48]="PageEditable",e[e.Zoom=64]="Zoom",e[e.PanX=128]="PanX",e[e.PanY=256]="PanY",e[e.Pan=384]="Pan",e[e.ZoomTextEdit=512]="ZoomTextEdit",e[e.Virtualization=1024]="Virtualization",e[e.Default=500]="Default"}(d||(d={})),function(e){e[e.None=0]="None",e[e.SingleSelect=1]="SingleSelect",e[e.MultipleSelect=2]="MultipleSelect",e[e.ZoomPan=4]="ZoomPan",e[e.DrawOnce=8]="DrawOnce",e[e.ContinuousDraw=16]="ContinuousDraw",e[e.Default=3]="Default"}(p||(p={})),function(e){e[e.Self=1]="Self",e[e.Parent=2]="Parent"}(u||(u={})),function(e){e[e.Canvas=0]="Canvas",e[e.Svg=1]="Svg"}(f||(f={})),function(e){e[e.None=0]="None",e[e.Control=1]="Control",e[e.Meta=1]="Meta",e[e.Alt=2]="Alt",e[e.Shift=4]="Shift"}(g||(g={})),function(e){e[e.None=null]="None",e[e.Number0=0]="Number0",e[e.Number1=1]="Number1",e[e.Number2=2]="Number2",e[e.Number3=3]="Number3",e[e.Number4=4]="Number4",e[e.Number5=5]="Number5",e[e.Number6=6]="Number6",e[e.Number7=7]="Number7",e[e.Number8=8]="Number8",e[e.Number9=9]="Number9",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Delete=46]="Delete",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.BackSpace=8]="BackSpace",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.Star=56]="Star",e[e.Plus=187]="Plus",e[e.Minus=189]="Minus"}(m||(m={})),function(e){e[e.Render=2]="Render",e[e.PublicMethod=4]="PublicMethod",e[e.ToolAction=8]="ToolAction",e[e.UndoRedo=16]="UndoRedo",e[e.TextEdit=32]="TextEdit",e[e.Group=64]="Group",e[e.Clear=128]="Clear",e[e.PreventClearSelection=256]="PreventClearSelection",e[e.Interactions=512]="Interactions",e[e.PreventHistory=1024]="PreventHistory",e[e.PreventIconsUpdate=2048]="PreventIconsUpdate"}(y||(y={})),function(e){e[e.None=2]="None",e[e.DrawSelectorBorder=4]="DrawSelectorBorder",e[e.PreventRenderSelector=8]="PreventRenderSelector"}(v||(v={})),function(e){e[e.None=0]="None",e[e.PreventDrag=2]="PreventDrag",e[e.PreventScale=4]="PreventScale",e[e.PreventDataInit=8]="PreventDataInit",e[e.hScrollbarMoved=16]="hScrollbarMoved",e[e.vScrollbarMoved=32]="vScrollbarMoved"}(b||(b={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five"}(w||(w={})),function(e){e[e.collectionChange=0]="collectionChange",e[e.rotateChange=1]="rotateChange",e[e.positionChange=2]="positionChange",e[e.propertyChange=3]="propertyChange",e[e.selectionChange=4]="selectionChange",e[e.sizeChange=5]="sizeChange",e[e.drop=6]="drop",e[e.sourcePointChange=7]="sourcePointChange",e[e.targetPointChange=8]="targetPointChange",e[e.connectionChange=9]="connectionChange",e[e.animationComplete=10]="animationComplete",e[e.click=11]="click",e[e.doubleClick=12]="doubleClick",e[e.scrollChange=13]="scrollChange",e[e.dragEnter=14]="dragEnter",e[e.dragLeave=15]="dragLeave",e[e.dragOver=16]="dragOver",e[e.textEdit=17]="textEdit",e[e.paletteSelectionChange=18]="paletteSelectionChange",e[e.historyChange=19]="historyChange",e[e.mouseEnter=20]="mouseEnter",e[e.mouseLeave=21]="mouseLeave",e[e.mouseOver=22]="mouseOver",e[e.expandStateChange=23]="expandStateChange"}(O||(O={})),function(e){e[e.None=1]="None",e[e.Drag=2]="Drag",e[e.Draw=4]="Draw",e[e.InConnect=8]="InConnect",e[e.OutConnect=16]="OutConnect",e[e.Default=24]="Default"}(x||(x={}))},function(e,t,i){"use strict";i.d(t,"i",function(){return c}),i.d(t,"c",function(){return l}),i.d(t,"e",function(){return h}),i.d(t,"b",function(){return d}),i.d(t,"d",function(){return u}),i.d(t,"l",function(){return g}),i.d(t,"n",function(){return m}),i.d(t,"a",function(){return y}),i.d(t,"h",function(){return b}),i.d(t,"m",function(){return w}),i.d(t,"k",function(){return O}),i.d(t,"j",function(){return x}),i.d(t,"g",function(){return j}),i.d(t,"f",function(){return S});var n=i(11),r=i(9),o=i(8),a=i(0),s=i(3);function c(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="",n=0;n<5;n++){if("crypto"in window&&"getRandomValues"in crypto){var r=new Uint16Array(1);e=(window.msCrypto||window.crypto).getRandomValues(r)[0]%(t.length-1)}else e=Math.floor(Math.random()*t.length);0===n&&e<10?n--:i+=t.substring(e,e+1)}return i}function l(e){new n.a;var t=e.offsetY-e.actualSize.height*e.pivot.y,i=e.offsetY+e.actualSize.height*(1-e.pivot.y),r=e.offsetX-e.actualSize.width*e.pivot.x,o=e.offsetX+e.actualSize.width*(1-e.pivot.x),a={x:r,y:t},s={x:o,y:t},c={x:r,y:i},l={x:o,y:i};return n.a.toBounds([a,s,c,l])}function h(e){var t,i=new n.a,r=(t=l(e)).middleLeft,a=t.topCenter,s=t.bottomCenter,c=t.middleRight,h=t.topLeft,d=t.topRight,p=t.bottomLeft,u=t.bottomRight;if(e.corners={topLeft:h,topCenter:a,topRight:d,middleLeft:r,middleRight:c,bottomLeft:p,bottomCenter:s,bottomRight:u},0!==e.rotateAngle||0!==e.parentTransform){var f=Object(o.a)();Object(o.c)(f,e.rotateAngle+e.parentTransform,e.offsetX,e.offsetY),e.corners.topLeft=h=Object(o.e)(f,h),e.corners.topCenter=a=Object(o.e)(f,a),e.corners.topRight=d=Object(o.e)(f,d),e.corners.middleLeft=r=Object(o.e)(f,r),e.corners.middleRight=c=Object(o.e)(f,c),e.corners.bottomLeft=p=Object(o.e)(f,p),e.corners.bottomCenter=s=Object(o.e)(f,s),e.corners.bottomRight=u=Object(o.e)(f,u)}return i=n.a.toBounds([h,d,p,u]),e.corners.left=i.left,e.corners.right=i.right,e.corners.top=i.top,e.corners.bottom=i.bottom,e.corners.center=i.center,e.corners.width=i.width,e.corners.height=i.height,i}function d(e,t,i){var n={},r="properties";if(e){i=e.propName;var o=e[r]||e,a=[],s=[];if((a=a.concat(Object.keys(o))).push("version"),i){var c=S(t);s=c?c(i):[],a=a.concat(s)}for(var l=function(e){switch(e){case"nodes":case"children":return["inEdges","outEdges","parentId","processId","nodeId","umlIndex","isPhase","isLane"];case"connectors":return["parentId"];case"annotation":case"annotations":return["nodeId"];case"shape":return["hasHeader"]}return[]}(i),h=0,u=a=a.concat(l);h<u.length;h++){var f=u[h];if("historyManager"!==f)if("wrapper"!==f){!(!e[f]||!e.hasOwnProperty("observers"))||(e[f]instanceof Array?n[f]=p(-1===l.indexOf(f)&&e[r]?e[r][f]:e[f],t,f):e[f]instanceof Array===!1&&e[f]instanceof HTMLElement?n[f]=e[f].cloneNode(!0).innerHtml:e[f]instanceof Array===!1&&e[f]instanceof Object?n[f]=d(-1===l.indexOf(f)&&e[r]?e[r][f]:e[f]):n[f]=e[f])}else e[f]&&(n[f]={actualSize:{width:e[f].actualSize.width,height:e[f].actualSize.height},offsetX:e[f].offsetX,offsetY:e[f].offsetY})}}return n}function p(e,t,i){var n;if(e){n=[];for(var r=0;r<e.length;r++)e[r]instanceof Array?n.push(e[r]):e[r]instanceof Object?n.push(d(e[r],t,i)):n.push(e[r])}return n}function u(e,t){if(e){t||(t={properties:{}});for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];if(e[r]instanceof Array){var o=f(e[r],t.properties[r]);t.properties[r]&&t.properties[r].length||(t[r]=o)}else if(e[r]instanceof Array===!1&&e[r]instanceof HTMLElement)t[r]=e[r].cloneNode(!0).innerHtml;else if(e[r]instanceof Array===!1&&e[r]instanceof Object){var a=u(e[r],t.properties[r]);a.properties&&!Object.keys(a.properties).length&&delete a.properties,t[r]=a}else t[r]=void 0!==t.properties[r]?t[r]:e[r]}}return t}function f(e,t){var i=[],n=!1;t||(t=[]),t.length||(n=!0);for(var r=0;r<e.length;r++)if(e[r]instanceof Array){f(e[r],t[r]);n&&i.push(f)}else if(e[r]instanceof Object){var o=u(e[r],t[r]);n&&i.push(o)}else i.push(e[r]);return i}function g(e){var t="";switch(e){case"Center":t="center";break;case"Left":t="left";break;case"Right":t="right"}return t}function m(e){var t="";switch(e){case"Wrap":t="breakall";break;case"NoWrap":t="keepall";break;case"WrapWithOverflow":t="normal";break;case"LineThrough":t="line-through"}return t}function y(e,t){window.measureElement.style.visibility="visible";var i=window.measureElement.children[2],n=Object(s.k)(i)[1];n.textContent=e,n.setAttribute("style","font-size:"+t.fontSize+"px; font-family:"+t.fontFamily+";font-weight:"+(t.bold?"bold":"normal"));var r=n.getBBox().width;return window.measureElement.style.visibility="hidden",r}function v(e,t){return(e+t)/2}function b(e,t){var i,n=0,r=0,o=0,a="";i=e.length;var s=0;do{o>0&&(n=r),r=Math.floor(v(n,i)),o=y(a+=e.substr(n,r),t)}while(o<=t.width);for(a=a.substr(0,n),s=n;s<i;s++)if((o=y(a+=e[s],t))>=t.width){e=e.substr(0,a.length-1);break}return"Ellipsis"===t.textOverflow?(e=e.substr(0,e.length-3),e+="..."):e=e.substr(0,e.length),e}function w(e,t){if("NoWrap"===t&&"PreserveAll"===e)return"pre";var i="";switch(e){case"CollapseAll":i="nowrap";break;case"CollapseSpace":i="pre-line";break;case"PreserveAll":i="pre-wrap"}return i}function O(e,t){var i=Object(o.a)();Object(o.c)(i,t,0,0);var n=Object(o.e)(i,{x:0,y:0}),a=Object(o.e)(i,{x:e.width,y:0}),s=Object(o.e)(i,{x:0,y:e.height}),c=Object(o.e)(i,{x:e.width,y:e.height}),l=Math.min(n.x,a.x,s.x,c.x),h=Math.min(n.y,a.y,s.y,c.y),d=Math.max(n.x,a.x,s.x,c.x),p=Math.max(n.y,a.y,s.y,c.y);return new r.a(d-l,p-h)}function x(e,t,i,n){if(0!==e){var r=Object(o.a)();return Object(o.c)(r,e,t,i),Object(o.e)(r,n)}return n}function j(e,t){return{x:e.x+t.desiredSize.width*t.pivot.x,y:e.y+t.desiredSize.height*t.pivot.y}}function S(e){return void 0!==e&&"string"===typeof e&&(e=Object(a.E)(e,window)),e}},function(e,t,i){"use strict";i.d(t,"e",function(){return h}),i.d(t,"k",function(){return d}),i.d(t,"H",function(){return p}),i.d(t,"B",function(){return u}),i.d(t,"x",function(){return g}),i.d(t,"C",function(){return m}),i.d(t,"y",function(){return y}),i.d(t,"z",function(){return v}),i.d(t,"A",function(){return b}),i.d(t,"I",function(){return w}),i.d(t,"n",function(){return O}),i.d(t,"m",function(){return x}),i.d(t,"o",function(){return j}),i.d(t,"g",function(){return S}),i.d(t,"v",function(){return P}),i.d(t,"f",function(){return C}),i.d(t,"t",function(){return E}),i.d(t,"s",function(){return T}),i.d(t,"q",function(){return k}),i.d(t,"j",function(){return I}),i.d(t,"h",function(){return A}),i.d(t,"i",function(){return M}),i.d(t,"p",function(){return z}),i.d(t,"r",function(){return D}),i.d(t,"b",function(){return L}),i.d(t,"d",function(){return R}),i.d(t,"D",function(){return N}),i.d(t,"w",function(){return H}),i.d(t,"u",function(){return _}),i.d(t,"a",function(){return B}),i.d(t,"E",function(){return W}),i.d(t,"l",function(){return q}),i.d(t,"G",function(){return F}),i.d(t,"F",function(){return U}),i.d(t,"c",function(){return X});var n=i(11),r=i(9),o=i(19),a=i(2),s=i(8),c=i(0),l=i(6);function h(e){var t,i,n=[];window.measureElement.style.visibility="visible";var r=d(window.measureElement.children[2])[0];r.setAttributeNS(null,"d",e.data);var o=w(e,e.absoluteBounds,e);r.setAttributeNS(null,"d",o);var a=r.getTotalLength();for(i=0;i<=a;i+=10)t=r.getPointAtLength(i),n.push({x:t.x,y:t.y});return window.measureElement.style.visibility="hidden",n}function d(e){var t,i=[];if("msie"===c.c.info.name||"edge"===c.c.info.name)for(var n=0;n<e.childNodes.length;n++)1===(t=e.childNodes[n]).nodeType&&i.push(t);else i=e.children;return i}function p(e,t){for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n],a={x:e.offsetX-e.actualSize.width*e.pivot.x+o.x,y:e.offsetY-e.actualSize.height*e.pivot.y+o.y},c=void 0,l=e.rotateAngle+e.parentTransform;l&&(c=Object(s.a)(),Object(s.c)(c,l,e.offsetX,e.offsetY)),c&&(a=Object(s.e)(c,a)),i.push(a)}return i}function u(e){if(e){window.measureElement.style.visibility="visible";var t=d(window.measureElement.children[2])[0];t.setAttribute("d",e);var i=t.getBBox(),r=new n.a(i.x,i.y,i.width,i.height);return window.measureElement.style.visibility="hidden",r}return new n.a(0,0,0,0)}function f(e,t,i){var n,r,o=[],s=0,c=t||e.content;if("nowrap"!==e.whiteSpace&&"pre"!==e.whiteSpace)if("breakall"===e.breakWord)for(n="",n+=c[0],s=0;s<c.length;s++)if((r=Object(a.a)(n,e))>=e.width&&n.length>0)o[o.length]={text:n,x:0,dy:0,width:r},n="";else{(n+=c[s+1]||"").indexOf("\n")>-1&&(n=n.replace("\n",""));var l=Object(a.a)(n,e);Math.ceil(l)+2>=e.width&&n.length>0&&(o[o.length]={text:n,x:0,dy:0,width:l},n=""),s===c.length-1&&n.length>0&&(o[o.length]={text:n,x:0,dy:0,width:l},n="")}else o=function(e,t,i){var n,r,o,s,c=[],l="",h=0,d=0,p="nowrap"!==e.whiteSpace,u=(t||e.content).split("\n");for(h=0;h<u.length;h++)for("",n="NoWrap"!==e.textWrapping?u[h].split(" "):u,d=0;d<n.length;d++){l+=((0!==d||1===n.length)&&p&&l.length>0?" ":"")+n[d],r=l+(n[d+1]||"");var f=Object(a.a)(r,e);Math.floor(f)>(i||e.width)-2&&l.length>0?(c[c.length]={text:l,x:0,dy:0,width:r===l?f:l===s?o:Object(a.a)(l,e)},l=""):d===n.length-1&&(c[c.length]={text:l,x:0,dy:0,width:f},l=""),s=r,o=f}return c}(e,t,i);else o[o.length]={text:c,x:0,dy:0,width:Object(a.a)(c,e)};return o}function g(e,t,i,n,o){var s=new r.a,c=L("span",{style:"display:inline-block; line-height: normal"});return e.bold&&(c.style.fontWeight="bold"),e.italic&&(c.style.fontStyle="italic"),void 0!==i&&(c.style.width=i.toString()+"px"),void 0!==n&&(c.style.height=n.toString()+"px"),void 0!==o&&(c.style.maxWidth=o.toString()+"px"),c.style.fontFamily=e.fontFamily,c.style.fontSize=e.fontSize+"px",c.style.color=e.color,c.textContent=t,c.style.whiteSpace=Object(a.m)(e.whiteSpace,e.textWrapping),c.style.wordBreak=void 0!==o?"break-word":Object(a.n)(e.textWrapping),document.body.appendChild(c),s.width=c.offsetWidth,s.height=c.offsetHeight,document.body.removeChild(c),s}function m(e,t,i,n,o){var s,c,l=new r.a(0,0),h=function(e,t){var i={fill:e.style.fill,stroke:e.style.strokeColor,angle:e.rotateAngle+e.parentTransform,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:e.style.strokeWidth,dashArray:e.style.strokeDashArray,opacity:e.style.opacity,shadow:e.shadow,gradient:e.style.gradient,visible:e.visible,id:e.id,description:e.description,width:t||e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5};return i.fontSize=e.style.fontSize,i.fontFamily=e.style.fontFamily,i.textOverflow=e.style.textOverflow,i.textDecoration=e.style.textDecoration,i.doWrap=e.doWrap,i.whiteSpace=Object(a.m)(e.style.whiteSpace,e.style.textWrapping),i.content=e.content,i.textWrapping=e.style.textWrapping,i.breakWord=Object(a.n)(e.style.textWrapping),i.textAlign=Object(a.l)(e.style.textAlign),i.color=e.style.color,i.italic=e.style.italic,i.bold=e.style.bold,i.dashArray="",i.strokeWidth=0,i.fill="",i}(e,n);return e.childNodes=s=f(h,o,e.isLaneOrientation?n:void 0),e.wrapBounds=c=function(e,t){var i,n,r={x:0,width:0},o=0;for(o=0;o<t.length;o++)n=i=t[o].width,i="left"===e.textAlign?0:"center"===e.textAlign?i>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)?0:-i/2:"right"===e.textAlign?-i:t.length>1?0:-i/2,t[o].dy=1.2*e.fontSize,t[o].x=i,r?(r.x=Math.min(r.x,i),r.width=Math.max(r.width,n)):r={x:i,width:n};return r}(h,s),l.width=c.width,e.wrapBounds.width>=n&&"Wrap"!==h.textOverflow&&(l.width=n),l.height=s.length*e.style.fontSize*1.2,l}function y(e,t){window.measureElement.style.visibility="visible";var i=window.measureElement.children[1];i.setAttribute("src",e);var n=i.getBoundingClientRect(),o=n.width,a=n.height;return t=new r.a(o,a),window.measureElement.style.visibility="hidden",t}function v(e){window.measureElement.style.visibility="visible";var t=window.measureElement.children[2];t.appendChild(e);var i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=i;return r.x=i.left-n.left,r.y=i.top-n.top,t.removeChild(e),window.measureElement.style.visibility="hidden",r}function b(e){window.measureElement.style.visibility="visible";var t=window.measureElement.children[2];t.appendChild(e);var i=t.getBoundingClientRect();return t.removeChild(e),window.measureElement.style.visibility="hidden",i}function w(e,t,i,n){var r,a,s=0,c=0,l=!1,h=[];return 0===(r=t).x&&0===r.y||(s=0-Number(r.x),c=0-Number(r.y)),(e.actualSize.width!==r.width||e.actualSize.height!==r.height||n)&&(s=(n&&n.width||e.actualSize.width)/Number(r.width?r.width:1),c=(n&&n.height||e.actualSize.height)/Number(r.height?r.height:1),l=!0),h=Object(o.e)(e.data),h=Object(o.f)(h),a=Object(o.g)(h,s,c,l,r.x,r.y,0,0),l=!1,a}function O(e){return x(e).getElementsByClassName("e-diagram-layer")[0]}function x(e,t){var i;return t&&(i=document.getElementById(t)),i?i.querySelector("#"+e):document.getElementById(e)}function j(e,t,i){var n,r,o=void 0,a="";"native"===i?(n=function(e){var t=T(e);return t.getElementById(e+"_nativeLayer")}(e),a="_content_groupElement"):"html"===i?(n=D(e).childNodes[0],a="_content_html_element"):(n=function(e){var t=O(e);return t.getElementById(e+"_diagramLayer")}(e),a="_groupElement");for(var s=0;n.childNodes&&s<n.childNodes.length;s++)if((r=n.childNodes[s])&&r.id===t+a){o=s;break}return o}function S(e){return x(e).getElementsByClassName("e-adorner-layer")[0]}function P(e){return S(e).getElementById(e+"_SelectorElement")}function C(e){return S(e).getElementById(e+"_diagramAdorner")}function E(e){return x(e).getElementsByClassName("e-ports-expand-layer")[0]}function T(e){return x(e).getElementsByClassName("e-native-layer")[0]}function k(e){return x(e).getElementsByClassName("e-grid-layer")[0]}function I(e){return x(e).getElementsByClassName("e-background-layer")[0].parentNode}function A(e){return x(e).getElementsByClassName("e-background-image-layer")[0]}function M(e){return x(e).getElementsByClassName("e-background-layer")[0]}function z(e){return k(e).getElementById(e+"_gridline")}function D(e){return x(e).getElementsByClassName("e-html-layer")[0]}function L(e,t){var i=Object(c.y)(e);return U(i,t),i}function R(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg",e);return F(i,t),i}function N(e,t,i){for(var n=e;n&&(i?n.id!==t:!H(n,t));)n=n.parentNode;return n}function H(e,t){return(" "+("object"===typeof e.className?e.className.animVal:e.className)+" ").indexOf(" "+t+" ")>-1}function _(){var e=L("div",{style:"visibility:hidden; width: 100px"});document.body.appendChild(e);var t=e.getBoundingClientRect().width;e.style.overflow="scroll";var i=L("div",{style:"width:100%"});e.appendChild(i);var n=i.getBoundingClientRect().width;return e.parentNode.removeChild(e),t-n}function B(e,t,i){e=[];for(var n=0,r=i.length;n<r;n++)e.push({pageX:i[n].clientX,pageY:i[n].clientY,pointerId:null});return e}function W(e,t){var i=x(e,t);i&&i.parentNode.removeChild(i)}function q(e,t){var i;if(t){i=L("div",{style:"height: 100%; width: 100%"})}else i=document.createElementNS("http://www.w3.org/2000/svg","g");var n,r=Object(l.r)(e);if("string"===typeof e.content)for(var o=0,a=Object(c.x)(e.content)(r);o<a.length;o++)n=a[o],i.appendChild(n);else i.appendChild(e.content);return i.cloneNode(!0)}function F(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)e.setAttribute(i[n],t[i[n]])}function U(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)e.setAttribute(i[n],t[i[n]])}function X(){if(window.measureElement)window.measureElement.usageCount+=1;else{var e=L("div",{id:"measureElement",style:"visibility:hidden ; height: 0px ; width: 0px; overflow: hidden;"}),t=L("span",{style:"display:inline-block ; line-height: normal"});e.appendChild(t);var i;i=L("img",{}),e.appendChild(i);var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("xlink","http://www.w3.org/1999/xlink"),e.appendChild(n);var r=document.createElementNS("http://www.w3.org/2000/svg","path");n.appendChild(r);document.createTextNode("");var o=document.createElementNS("http://www.w3.org/2000/svg","text");o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.appendChild(o),window.measureElement=e,window.measureElement.usageCount=1,document.body.appendChild(e)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(0),r=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.equals=function(e,t){return e===t||!(!e||!t)&&(!e||!t||e.x===t.x&&e.y===t.y)},t.isEmptyPoint=function(e){return!e.x||!e.y},t.transform=function(e,t,i){var n={x:0,y:0};return n.x=Math.round(100*(e.x+i*Math.cos(t*Math.PI/180)))/100,n.y=Math.round(100*(e.y+i*Math.sin(t*Math.PI/180)))/100,n},t.findLength=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},t.findAngle=function(e,t){var i=Math.atan2(t.y-e.y,t.x-e.x);return i=180*i/Math.PI,(i%=360)<0&&(i+=360),i},t.distancePoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.getLengthFromListOfPoints=function(e){for(var t=0,i=0;i<e.length-1;i++)t+=this.distancePoints(e[i],e[i+1]);return t},t.adjustPoint=function(e,t,i,n){var r,o=i?{x:e.x,y:e.y}:{x:t.x,y:t.y};return e.x===t.x?e.y<t.y&&i||e.y>t.y&&!i?o.y+=n:o.y-=n:e.y===t.y?e.x<t.x&&i||e.x>t.x&&!i?o.x+=n:o.x-=n:i?(r=this.findAngle(e,t),o=this.transform(e,r,n)):(r=this.findAngle(t,e),o=this.transform(t,r,n)),o},t.direction=function(e,t){return Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.x<t.x?"Right":"Left":e.y<t.y?"Bottom":"Top"},t.prototype.getClassName=function(){return"Point"},o([Object(n.q)(0)],t.prototype,"x",void 0),o([Object(n.q)(0)],t.prototype,"y",void 0),t}(n.d)},function(e,t,i){"use strict";i.d(t,"A",function(){return c}),i.d(t,"o",function(){return l}),i.d(t,"l",function(){return h}),i.d(t,"d",function(){return d}),i.d(t,"g",function(){return p}),i.d(t,"h",function(){return u}),i.d(t,"f",function(){return f}),i.d(t,"z",function(){return g}),i.d(t,"B",function(){return m}),i.d(t,"n",function(){return y}),i.d(t,"v",function(){return v}),i.d(t,"q",function(){return b}),i.d(t,"w",function(){return w}),i.d(t,"y",function(){return O}),i.d(t,"b",function(){return x}),i.d(t,"E",function(){return j}),i.d(t,"m",function(){return S}),i.d(t,"C",function(){return P}),i.d(t,"p",function(){return C}),i.d(t,"G",function(){return E}),i.d(t,"c",function(){return T}),i.d(t,"j",function(){return k}),i.d(t,"I",function(){return I}),i.d(t,"F",function(){return A}),i.d(t,"s",function(){return M}),i.d(t,"D",function(){return z}),i.d(t,"t",function(){return D}),i.d(t,"u",function(){return L}),i.d(t,"H",function(){return R}),i.d(t,"r",function(){return N}),i.d(t,"J",function(){return H}),i.d(t,"i",function(){return _}),i.d(t,"e",function(){return B}),i.d(t,"x",function(){return W}),i.d(t,"k",function(){return q}),i.d(t,"a",function(){return F});var n=i(7),r=i(1),o=i(10),a=i(18),s=i(16);function c(e){if(e){return e instanceof s.c||e instanceof s.b?e.constraints&r.a.Select:e instanceof o.b?e.constraints&r.b.Select:e.constraints&r.k.Select}return 1}function l(e){if(e){return e instanceof s.c||e instanceof s.b?e.constraints&r.a.Drag:e instanceof o.b?e.constraints&r.b.Drag:e instanceof a.a?1:e.constraints&r.k.Drag}return 1}function h(e,t){return e instanceof o.b?e.constraints&r.b.PointerEvents:e.constraints&r.k.PointerEvents}function d(e){return e instanceof o.b?e.constraints&r.b.Delete:e.constraints&r.k.Delete}function p(e){return e.constraints&r.b.DragSourceEnd}function u(e){return e.constraints&r.b.DragTargetEnd}function f(e){return e.constraints&r.b.DragSegmentThumb}function g(e){return e instanceof s.c||e instanceof s.b?e.constraints&r.a.Rotate:e.constraints&r.k.Rotate}function m(e){return e.constraints&r.k.Shadow}function y(e){return e instanceof n.q&&e.constraints&r.k.InConnect?e.constraints&r.k.InConnect:0}function v(e){return e&&e.constraints&&!(e.constraints&r.l.None)&&e.constraints&r.l.InConnect?e.constraints&r.l.InConnect:0}function b(e){return e instanceof n.q&&e.constraints&r.k.OutConnect?e.constraints&r.k.OutConnect:0}function w(e){return e&&e.constraints&&!(e.constraints&r.l.None)&&e.constraints&r.l.OutConnect?e.constraints&r.l.OutConnect:0}function O(e,t){var i=0;return e instanceof s.c||e instanceof s.b?i=e.constraints&r.a.Resize:e&&("SouthEast"===t?i=e.constraints&r.k.ResizeSouthEast:"East"===t?i=e.constraints&r.k.ResizeEast:"NorthEast"===t?i=e.constraints&r.k.ResizeNorthEast:"South"===t?i=e.constraints&r.k.ResizeSouth:"North"===t?i=e.constraints&r.k.ResizeNorth:"SouthWest"===t?i=e.constraints&r.k.ResizeSouthWest:"West"===t?i=e.constraints&r.k.ResizeWest:"NorthWest"===t&&(i=e.constraints&r.k.ResizeNorthWest)),i}function x(e){return e instanceof o.b?e.constraints&r.b.AllowDrop:e.constraints&r.k.AllowDrop}function j(e){return e.constraints&r.d.Virtualization}function S(e,t){var i=0;return e instanceof o.b?e.constraints&r.b.Tooltip?i=e.constraints&r.b.Tooltip:e.constraints&r.b.InheritTooltip&&(i=t.constraints&r.d.Tooltip):e.constraints&r.k.Tooltip?i=e.constraints&r.k.Tooltip:e.constraints&r.k.InheritTooltip&&(i=t.constraints&r.d.Tooltip),i}function P(e){return e.tool&r.f.SingleSelect}function C(e){return e.tool&r.f.MultipleSelect}function E(e){return e.tool&r.f.ZoomPan}function T(e){return e.tool&r.f.ContinuousDraw}function k(e){return e.tool&r.f.DrawOnce}function I(e){return e.tool&r.f.SingleSelect||e.tool&r.f.MultipleSelect}function A(e){return e.constraints&r.d.Zoom}function M(e){return e.constraints&r.d.Pan}function z(e){return e.constraints&r.d.UserInteraction}function D(e){return e.constraints&r.d.PanX}function L(e){return e.constraints&r.d.PanY}function R(e){return e.constraints&r.d.ZoomTextEdit}function N(e){return function(e){return e.constraints&r.d.ApiUpdate}(e)||e.diagramActions&r.c.ToolAction}function H(e,t){var i;return i=t instanceof o.b?r.b.ReadOnly:r.k.ReadOnly,"Text"===t.shape.type?t.constraints&r.k.ReadOnly:t.constraints&i?e.constraints&r.a.InheritReadOnly?1:0:e.constraints&r.a.ReadOnly?1:0}function _(e,t){return e.constraints&r.l.Draw}function B(e,t){return e.constraints&r.l.Drag}function W(e){return!!(e&r.c.PreventClearSelection)}function q(e){return!(e&r.o.DrawSelectorBorder)}function F(e){return!!(e&r.o.PreventRenderSelector)}},function(e,t,i){"use strict";var n=i(9),r=i(11),o=i(8),a=i(22),s=i(25),c=i(14),l=i(4),h=i(1),d=i(17),p=i(29),u=i(13),f=i(35),g=i(16),m=i(7),y=i(10),v=i(37),b=i(38),w=i(40),O=i(23),x=i(3),j=i(2),S=i(19),P=i(26),C=i(24),E=i(5),T=i(18);function k(e){return I[e.toString()]}var I={Action:"M 90 82.895 C 90 86.819 86.776 90 82.8 90 H 7.2 C 3.224 90 0 86.819 0 82.895 V 7.105 C 0 3.181 3.224 0 7.2 0 h 75.6 C 86.776 0 90 3.181 90 7.105 V 82.895 Z",Decision:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",MergeNode:"M10,19.707L0.293,10L10,0.293L19.707,10L10,19.707z",InitialNode:"M10,19.5c-5.238,0-9.5-4.262-9.5-9.5S4.762,0.5,10,0.5s9.5,4.262,9.5,9.5S15.238,19.5,10,19.5z",ForkNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",JoinNode:"m0.75,0.75l636.00002,0l0,290l-636.00002,0l0,-290z",TimeEvent:"M50.001,0.00286865 L25.001,25.0029 L0.000976562,0.00286865 L50.001,0.00286865 z M0.000976562,50.0029 L25.001,25.0029 L50.001,50.0029 L0.000976562,50.0029 z",AcceptingEvent:"M17.8336 32.164 L29.64 24 L17.32 16 L48.1664 16 L48.5 32 Z",SendSignal:"M48.164 31.8336 L56 23.832 L47.836 16 L16.168 16 L16.1668 31.8336 Z",ReceiveSignal:"M48.1664 31.8336 L39.836 24 L47.836 16 L16.168 16 L16.168 31.836 Z",StructuredNode:"M0,0 L50,0 L50,50 L0,50 z",Note:"M20 12 L4 12 L4 22 L22 22 L22 14 L20 14 L20 12 L22 14 Z"},A=i(20),M=i(28),z=i(39),D=i(12);function L(e,t){for(var i=[],n=0;n<t.length;n++){var r=t[n];e.containsRect(r.wrapper.bounds)&&i.push(r)}return i}function R(e,t){for(var i=0;i<e.length;i++)if(e[i].id===t)return!0;return!1}function N(e){var t;return e&&(e.type?t="Connector":e.shape&&!e.type&&(t="Node")),t}function H(e,t){t instanceof m.q&&(e.shape.header||(t.shape.hasHeader=!1))}function _(e,t){if(t instanceof m.q)switch(e.shape.shape){case"JoinNode":e.width||(t.width=20),e.height||(t.height=90),e.style&&e.style.fill||(t.style.fill="black");break;case"ForkNode":e.width||(t.width=90),e.height||(t.height=20),e.style&&e.style.fill||(t.style.fill="black");break;case"InitialNode":case"FinalNode":e.style&&e.style.fill||(t.style.fill="black")}else switch(e.shape.flow){case"Object":e.style&&e.style.strokeDashArray||(t.style.strokeDashArray="8 4"),e.style&&e.style.strokeWidth||(t.style.strokeWidth=2),e.targetDecorator&&e.targetDecorator.shape||(t.targetDecorator.shape="OpenArrow");break;case"Control":e.style&&e.style.strokeWidth||(t.style.strokeWidth=2),e.targetDecorator&&e.targetDecorator.shape||(t.targetDecorator.shape="OpenArrow"),e.sourceDecorator&&e.sourceDecorator.shape||(t.sourceDecorator.shape="None")}}function B(e,t,i){var n;n=l.a.findLength(t,e)>l.a.findLength(i,e)?i:t;var r=l.a.findAngle(t,i),o=l.a.findAngle(n,e),a=l.a.findLength(n,e),s=o+2*(r-o);return{x:n.x+a*Math.cos(s*Math.PI/180),y:n.y+a*Math.sin(s*Math.PI/180)}}function W(e){var t=e.parentElement;do{if(Object(x.w)(t,"e-diagram"))return!0;t=t.parentElement}while(t);return!1}function q(e,t,i){if(e&&e.children&&e.children.length>0)for(var n=void 0,r=0;r<e.children.length;r++)return(n=i[e.children[r]]).shape.type===t||q(n,t,i);return!1}function F(e,t){var i;i="Bezier"===e.type?function(e){var t=[];if("Bezier"===e.type)for(var i=0,n=0;n<e.segments.length;n++)for(var r=e.segments[n],o=l.a.isEmptyPoint(r.point1)?r.bezierPoint1:r.point1,a=l.a.isEmptyPoint(r.point2)?r.bezierPoint2:r.point2,s=Number((e.distance(o,r.points[0])+e.distance(a,o)+e.distance(r.points[1],a))/1.5),c=0;c<s-1;c+=10)t[i]=Object(y.e)(e,r.points[0],l.a.isEmptyPoint(r.point1)?r.bezierPoint1:r.point1,l.a.isEmptyPoint(r.point2)?r.bezierPoint2:r.point2,r.points[1],c,s),i++;return t}(e):e.intermediatePoints;for(var n=0;n<i.length-1;n++){var o=i[n],a=i[n+1],s=r.a.toBounds([o,a]);if(s.Inflate(e.hitPadding),s.containsPoint(t)){var c=B(t,o,a),h=U({x1:o.x,x2:a.x,y1:o.y,y2:a.y},{x1:t.x,x2:c.x,y1:t.y,y2:c.y});if(h.enabled){var d=l.a.findLength(t,h.intersectPt);if(Math.abs(d)<e.hitPadding)return!0}else{var p=r.a.toBounds([t,t]);if(p.Inflate(3),p.containsPoint(o)||p.containsPoint(a))return!0}if(l.a.equals(t,c))return!0}}if(e.annotations.length>0){var u=e.wrapper.children;for(n=3;n<u.length;n++){if(u[n].bounds.containsPoint(t))return!0}}return!1}function U(e,t){var i={x:0,y:0},n=e,r=t,o=(r.y2-r.y1)*(n.x2-n.x1)-(r.x2-r.x1)*(n.y2-n.y1),a=(r.x2-r.x1)*(n.y1-r.y1)-(r.y2-r.y1)*(n.x1-r.x1),s=(n.x2-n.x1)*(n.y1-r.y1)-(n.y2-n.y1)*(n.x1-r.x1);if(0===o)return{enabled:!1,intersectPt:i};var c=a/o,l=s/o;return c>=0&&c<=1&&l>=0&&l<=1?(i.x=n.x1+c*(n.x2-n.x1),i.y=n.y1+c*(n.y2-n.y1),{enabled:!0,intersectPt:i}):{enabled:!1,intersectPt:i}}function X(e,t,i,n){var r=U(Y(e.x,e.y,t.x,t.y),Y(i.x,i.y,n.x,n.y));return r.enabled?r.intersectPt:{x:0,y:0}}function Y(e,t,i,n){return{x1:Number(e)||0,y1:Number(t)||0,x2:Number(i)||0,y2:Number(n)||0}}function V(e,t,i){var n=[];i=i||0;var r={x:t.topLeft.x-i,y:t.topLeft.y},o={x:t.topRight.x+i,y:t.topRight.y},a={x:t.bottomRight.x,y:t.bottomRight.y-i},s={x:t.bottomLeft.x,y:t.bottomLeft.y+i};return n.push(r),n.push(o),n.push(a),n.push(s),n}function G(e,t,i){var n,r=i instanceof m.q?i.constraints&h.k.InheritTooltip:i.constraints&h.b.InheritTooltip,o=i instanceof m.q?i.constraints&h.k.Tooltip:i.constraints&h.b.Tooltip;n=function(e,t,i,n){var r={},o=(i.scroller.transform.scale,document.getElementById(i.element.id)),a=e.wrapper.bounds,s=o.getBoundingClientRect();i.scroller.horizontalOffset,i.scroller.verticalOffset;switch(i.tooltipObject.position){case"BottomCenter":r=Z(t,a.bottomCenter,i,n,s.width/2,s.height);break;case"BottomLeft":case"LeftBottom":r=Z(t,a.bottomLeft,i,n,0,s.height);break;case"BottomRight":case"RightBottom":r=Z(t,a.bottomRight,i,n,s.width,s.height);break;case"LeftCenter":r=Z(t,a.middleLeft,i,n,0,s.height/2);break;case"LeftTop":case"TopLeft":r=Z(t,a.topLeft,i,n,0,0);break;case"RightCenter":r=Z(t,a.middleRight,i,n,s.width,s.height/2);break;case"RightTop":case"TopRight":r=Z(t,a.topRight,i,n,s.width,0);break;case"TopCenter":r=Z(t,a.topCenter,i,n,s.width/2,0)}return r}(i,t,e,"Mouse"===(!r&&o?i.tooltip.relativeMode:e.tooltip.relativeMode));var a=Object(C.b)(e);return{x:n.x+a.width,y:n.y+a.height}}function Z(e,t,i,n,r,o){var a={},s=i.scroller.transform.scale,c=i.scroller.horizontalOffset,l=i.scroller.verticalOffset;return a.x=(n?e.x:t.x)*s+c-r,a.y=(n?e.y:t.y)*s+l-o,a}function Q(e,t){var i,n=0,r=0;for(n=0;n<e.length;n++){var o=Object(j.e)(e[n].wrapper);for(r=0;r<e.length;r++){var a=Object(j.e)(e[r].wrapper);"Top"===t||"Bottom"===t||"BottomToTop"===t||"Middle"===t?o.center.y>a.center.y&&(i=e[n],e[n]=e[r],e[r]=i):o.center.x>a.center.x&&(i=e[n],e[n]=e[r],e[r]=i)}}return e}function K(e,t,i){var n,r,o;r=$(e,t,i),n=l.a.findAngle(e[r.index],e[r.index+1]);var a=function(e){var t=void 0===e.content?10:0,i=0;switch(e.alignment){case"Center":i=0;break;case"Before":i=-(0+t);break;case"After":i=0+t}return i}(t);return o=l.a.transform(r.point,n+45,a),r.point=o,r.angle=n,r}function $(e,t,i){for(var n,r,o,a,s,c=0,h=t.offset,d=[],p=0;p<e.length-1;p++)c+=l.a.distancePoints(e[p],e[p+1]),d.push(c);o=h*c;for(var u=0;u<d.length;u++){if(d[u]>=o)return r=l.a.findAngle(e[u],e[u+1]),{point:n=l.a.transform(e[u],r,o-(a||0)),index:s=u};a=d[u]}return{point:n,index:s}}function J(e,t,i){t%=360;var n,r,o,a;switch(e.alignment){case"Before":t>=45&&t<=135?(r="right",n=.5===e.offset?"center":"top"):t>=225&&t<=315?(r="left",n=.5===e.offset?"center":"bottom"):t>45&&t<225?(n="top",r=.5===e.offset?"center":"right"):(n="bottom",r=.5===e.offset?"center":"left");break;case"After":t>=45&&t<=135?(r="left",n=.5===e.offset?"center":"top"):t>=225&&t<=315?(r="right",n=.5===e.offset?"center":"bottom"):t>45&&t<225?(n="bottom",r=.5===e.offset?"center":"right"):(n="top",r=.5===e.offset?"center":"left");break;case"Center":r="center",n="center"}if(0===e.offset||1===e.offset){switch(o=i[0],a=i[1],Math.abs(a.x-o.x)>Math.abs(a.y-o.y)?o.x<a.x?"right":"left":o.y<a.y?"bottom":"top"){case"left":r=0===e.offset?"right":"left";break;case"right":r=0===e.offset?"left":"right";break;case"bottom":n=0===e.offset?"top":"bottom";break;case"top":n=0===e.offset?"bottom":"top"}}return{hAlign:r,vAlign:n}}function ee(e,t){if(e instanceof m.q&&e.children)for(var i=0;i<e.children.length;i++)t.nameTable[e.children[i]].children&&ee(e,t),t.removeFromAQuad(t.nameTable[e.children[i]]),t.removeObjectsFromLayer(t.nameTable[e.children[i]]),delete t.nameTable[e.children[i]]}function te(e,t){if(e&&e.children&&e.children.length>0)for(var i=0;i<e.children.length;i++){var n=e.children[i];n instanceof A.a&&te(n,t)}return-1===t.indexOf(e.id)&&t.push(e.id),t}function ie(e){var t=function(e){for(var t,i,n=[],r=0;r<e.length;r++)if("SwimLane"===(t=e[r]).shape.type){i=t.wrapper.children[0].childTable;for(var o=0,a=Object.keys(i);o<a.length;o++)n=te(i[a[o]],n)}return n}(e.nodes),i=Object(j.b)(e,e.getCustomProperty);return i.selectedItems.nodes=[],i.selectedItems.connectors=[],i.selectedItems.wrapper=null,e.serializationSettings.preventDefaults&&(i=ne(i,e)),function(e,t){var i=t.nodes;if(i)for(var n=0;n<i.length;n++)-1!==e.indexOf(i[n].id)&&(i.splice(n,1),n--)}(t,i),JSON.stringify(i)}function ne(e,t,i,n){i=function(e,t){var i,n=[],r=new w.a;if(e.getClassName)switch(e.getClassName()){case"Diagram":i=new w.a;break;case"Node":i=new m.q(r,"",n);break;case"Path":i=new m.r(r,"",n);break;case"Native":i=new m.p(r,"",n);break;case"Html":i=new m.l(r,"",n);break;case"Image":i=new m.m(r,"",n);break;case"Text":i=new m.v(r,"",n);break;case"BasicShape":i=new m.a(r,"",n);break;case"FlowShape":i=new m.j(r,"",n);break;case"BpmnShape":i=new m.g(r,"",n);break;case"UmlActivityShape":i=new m.w(r,"",n);break;case"UmlClassifierShape":i=new m.A(r,"",n);break;case"SwimLane":i=new m.u(r,"",n),e.header&&(i.header=new m.k(r,"",n),i.header.style.fill="");break;case"ShapeAnnotation":i=new g.c(r,"",n);break;case"PointPort":i=new M.a(r,"",n);break;case"BpmnGateway":i=new m.f(r,"",n);break;case"BpmnDataObject":i=new m.d(r,"",n);break;case"BpmnEvent":i=new m.e(r,"",n);break;case"BpmnSubEvent":i=new m.h(r,"",n);break;case"BpmnActivity":i=new m.b(r,"",n);break;case"BpmnAnnotation":i=new m.c(r,"",n);break;case"MethodArguments":i=new m.o(r,"",n);break;case"UmlClassAttribute":i=new m.y(r,"",n);break;case"UmlClassMethod":i=new m.z(r,"",n);break;case"UmlClass":i=new m.x(r,"",n);break;case"UmlInterface":i=new m.D(r,"",n);break;case"UmlEnumerationMember":i=new m.C(r,"",n);break;case"UmlEnumeration":i=new m.B(r,"",n);break;case"Lane":i=new m.n(r,"",n);break;case"Phase":i=new m.s(r,"",n);break;case"ChildContainer":i=new m.i;break;case"Connector":i=new y.b(r,"",n);break;case"StraightSegment":i=new y.d(r,"",n);break;case"BezierSegment":i=new y.a(r,"",n);break;case"OrthogonalSegment":i=new y.c(r,"",n);break;case"PathAnnotation":i=new g.b(r,"",n);break;case"Stop":i=new c.d(r,"",n);break;case"Point":i=t||new l.a(r,"",n);break;case"UserHandle":i=new T.b(r,"",n);break;case"Command":i=new z.a(r,"",n)}else i=t;return i}(t,i);for(var r=[],o=0,a=r=r.concat(Object.keys(e));o<a.length;o++){var s=a[o];t instanceof m.q&&(n="shape"===s),e[s]instanceof Array?re(e,i,t,s):e[s]instanceof Object?"wrapper"!==s&&(e[s]=ne(e[s],t[s],i[s],n)):(i&&e[s]===i[s]||void 0===e[s])&&(n&&"type"===s||t instanceof m.u&&"orientation"===s||delete e[s]),"[]"!==JSON.stringify(e[s])&&"{}"!==JSON.stringify(e[s])&&void 0!==e[s]||delete e[s]}return e}function re(e,t,i,n){if(0===e[n].length)delete e[n];else if(e[n].every(function(e){return"number"===typeof e})){var r=void 0,o=!0;for(r=0;r<e[n].length;r++)o=!(!o||e[n][r]!==t[n][r]);o&&delete e[n]}else{r=void 0;if("layers"===n&&(e[n].splice(0,1),0===e[n].length&&delete e[n]),e[n])for(r=e[n].length-1;r>=0;r--)"nodes"!==n&&"connectors"!==n||(e[n][r].wrapper=null),"dataManager"!==n&&(e[n][r]=ne(e[n][r],i[n][r],void 0!==t[n]?t[n][r]:void 0),"[]"!==JSON.stringify(e[n][r])&&"{}"!==JSON.stringify(e[n][r])&&void 0!==e[n][r]||e[n].splice(r,1))}}function oe(e,t){t.clear(),t.protectPropertyChange(!0);for(var i=t.dataSourceSettings.doBinding,n=t.setNodeTemplate,r=t.getDescription,o=t.getCustomProperty,a={},s=0,c=t.commandManager.commands;s<c.length;s++){var l=c[s];a[l.name]={execute:l.execute,canExecute:l.canExecute}}var d=t.rulerSettings.horizontalRuler.arrangeTick,p=t.rulerSettings.verticalRuler.arrangeTick,u=t.layout.getLayoutInfo,f=t.layout.getBranch,g=t.getNodeDefaults,m=t.getConnectorDefaults,y=JSON.parse(e);y=function(e){if(e&&(void 0===e.version||e.version<17.1))for(var t=e.nodes,i=0,n=t;i<n.length;i++){var r=n[i];if(r&&r.ports.length>0)for(var o=0,a=r.ports;o<a.length;o++){var s=a[o];s&&s.constraints&&s.constraints===h.l.None&&(s.constraints=h.l.Default)}}return e}(y),t.contextMenuSettings=y.contextMenuSettings||{},t.constraints=y.constraints||h.d.Default,t.tool=y.tool||h.f.Default,t.bridgeDirection=y.bridgeDirection||"Top",t.pageSettings=y.pageSettings||{},t.drawingObject=y.drawingObject||void 0,t.tooltip=y.tooltip||{},t.addInfo=y.addInfo||void 0,t.getDescription=r,t.scrollSettings=y.scrollSettings||{},t.commandManager=y.commandManager||{},t.layers=y.layers||[],t.rulerSettings.horizontalRuler.arrangeTick=d,t.rulerSettings.verticalRuler.arrangeTick=p;for(var v=0,b=t.commandManager.commands;v<b.length;v++){var O=b[v];a[O.name]&&(O.execute=a[O.name].execute,O.canExecute=a[O.name].canExecute)}if(t.backgroundColor=y.backgroundColor||"transparent",t.basicElements=y.basicElements||[],t.connectors=y.connectors||[],t.dataSourceSettings=y.dataSourceSettings||{},t.dataSourceSettings.doBinding=i,t.height=y.height||"100%",t.setNodeTemplate=n,t.getConnectorDefaults=m,t.getNodeDefaults=g,t.getCustomProperty=o,t.mode=y.mode||"SVG",y.nodes.length)for(var x=0;x<y.nodes.length;x++)y.nodes[x].shape&&"SwimLane"===y.nodes[x].shape.type&&Object(D.l)(y.nodes[x],void 0,void 0,void 0,void 0,!0);t.nodes=y.nodes||[],t.rulerSettings=y.rulerSettings||{},t.snapSettings=y.snapSettings||{},t.width=y.width||"100%",t.layout=y.layout||{},t.layout.getLayoutInfo=Object(j.f)(u),t.layout.getBranch=Object(j.f)(f),t.diagramActions=0,t.isLoading=!0,t.protectPropertyChange(!1);var S;for(x=0;x<t.views.length;x++)(S=t.views[t.views[x]]).refresh(),S instanceof w.a&&t.element.classList.add("e-diagram");return y.selectedItems&&(y.selectedItems.nodes=[],y.selectedItems.connectors=[]),t.selectedItems=y.selectedItems,y}function ae(e,t){var i=t.style,n=t;t.canApplyStyle=!0;for(var r=0,o=Object.keys(e);r<o.length;r++){switch(o[r]){case"fill":i.fill=e.fill,i instanceof c.e&&(i.fill="transparent");break;case"textOverflow":i.textOverflow=e.textOverflow;break;case"opacity":i.opacity=e.opacity;break;case"strokeColor":i.strokeColor=e.strokeColor;break;case"strokeDashArray":i.strokeDashArray=e.strokeDashArray;break;case"strokeWidth":i.strokeWidth=e.strokeWidth;break;case"bold":i.bold=e.bold;break;case"color":i.color=e.color;break;case"textWrapping":i.textWrapping=e.textWrapping;break;case"fontFamily":i.fontFamily=e.fontFamily;break;case"fontSize":i.fontSize=e.fontSize;break;case"italic":i.italic=e.italic;break;case"textAlign":i.textAlign=e.textAlign;break;case"whiteSpace":i.whiteSpace=e.whiteSpace;break;case"textDecoration":i.textDecoration=e.textDecoration;break;case"gradient":se(e.gradient,i.gradient)}}t instanceof u.a&&n.refreshTextElement()}function se(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"type":t.type=e.type;break;case"x1":t.x1=e.x1;break;case"x2":t.x2=e.x2;break;case"y1":t.y1=e.y1;break;case"y2":t.y2=e.y2;break;case"cx":t.cx=e.cx;break;case"cy":t.cy=e.cy;break;case"fx":t.fx=e.fx;break;case"fy":t.fy=e.fy;break;case"r":t.r=e.r;break;case"stops":t.stops=e.stops}}}function ce(e,t,i){for(var n=t,r=n.hyperlink,o=0,a=Object.keys(e);o<a.length;o++){switch(a[o]){case"color":n.style.color=r.color=e.color;break;case"content":n.content=r.content=e.content||r.link;break;case"link":var s=i.style;n.style.color=e.link?r.color:s.color,n.style.textDecoration=e.link?r.textDecoration:i.style.textDecoration,n.content=e.link?r.content||e.link:i.content,r.link=e.link;break;case"textDecoration":n.style.textDecoration=r.textDecoration=e.textDecoration}}}function le(e,t,i){e.width=t.width,e.height=t.height,e.minHeight=t.minHeight,e.maxHeight=t.maxHeight,e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.horizontalAlignment=t.wrapper.children[0].horizontalAlignment,e.verticalAlignment=t.wrapper.children[0].verticalAlignment,e.relativeMode=t.wrapper.children[0].relativeMode,e.visible=t.wrapper.children[0].visible,t.shape instanceof m.v&&(e.margin=t.shape.margin),e.id=t.wrapper.children[0].id,e.style=t.style;for(var n=0,r=i.views;n<r.length;n++){var o=r[n];Object(x.E)(t.id+"_groupElement",o),Object(x.E)(t.id+"_content_groupElement",o),Object(x.E)(t.id+"_content_html_element",o)}t.wrapper.children.splice(0,1),t.wrapper.children.splice(0,0,e)}function he(e,t,i,n){var r=new a.a;switch(e.shape.type){case"Path":var o=new d.a;o.data=t.shape.data,le(r=o,t,n);break;case"Image":var s=new f.a;s.source=t.shape.source,s.imageAlign=t.shape.align,s.imageScale=t.shape.scale,le(r=s,t,n);break;case"Text":le(r=new u.a,t,n);break;case"Basic":var c=void 0;c="Rectangle"===t.shape.shape?new a.a:new d.a,"Polygon"===t.shape.shape?c.data=Object(S.b)(t.shape.points):c.data=Object(v.a)(t.shape.shape),le(r,t,n),"Rectangle"===t.shape.shape&&(c.cornerRadius=t.shape.cornerRadius),r=c;break;case"Flow":var l=new d.a;l.data=Object(b.a)(t.shape.shape),le(r=l,t,n);break;case"Native":var h=new p.a(e.id,n.element.id);h.content=t.shape.content,h.scale=t.shape.scale,le(r=h,t,n);break;case"HTML":var g=new P.a(e.id,n.element.id);g.content=t.shape.content,le(r=g,t,n)}void 0===e.shape.type||e.shape.type===i.shape.type?function(e,t,i){if(Object.keys(e.shape).length>0)if("Path"===t.shape.type&&void 0!==e.shape.data)t.wrapper.children[0].data=e.shape.data;else if("Text"===t.shape.type&&void 0!==e.shape.content)t.wrapper.children[0].content=e.shape.content;else if("Image"===t.shape.type&&void 0!==e.shape.source)t.wrapper.children[0].source=e.shape.source;else if("Native"===t.shape.type){for(var n=void 0,r=0;r<i.views.length;r++)n=Object(x.m)(t.wrapper.children[0].id+"_native_element",i.views[r]),void 0!==e.shape.content&&n&&(n.removeChild(n.children[0]),t.wrapper.children[0].content=e.shape.content,n.appendChild(Object(x.l)(t.wrapper.children[0],!1)));t.wrapper.children[0].scale=e.shape.scale?e.shape.scale:t.wrapper.children[0].scale}else if("HTML"===t.shape.type)for(var o=void 0,r=0;r<i.views.length;r++)(o=Object(x.m)(t.wrapper.children[0].id+"_html_element",i.views[r]))&&(o.removeChild(o.children[0]),t.wrapper.children[0].content=e.shape.content,o.appendChild(Object(x.l)(t.wrapper.children[0],!0)));else if("Flow"===t.shape.type&&void 0!==e.shape.shape){t.shape.shape=e.shape.shape;var a=t.shape.shape,s=Object(b.a)(a.toString());t.wrapper.children[0].data=s}else if("UmlActivity"===t.shape.type&&void 0!==e.shape.shape)!function(e,t){e.shape.shape=t.shape.shape;var i=k(e.shape.shape.toString());"InitialNode"===e.shape.shape?e.wrapper.children[0].style.fill="black":"ForkNode"===e.shape.shape||"JoinNode"===e.shape.shape?e.wrapper.children[0].style.fill="black":"FinalNode"===e.shape.shape&&(e instanceof m.q&&(e.wrapper=de(e)),e.wrapper.children[0].data=i)}(t,e);else if(void 0!==e.shape.cornerRadius)t.wrapper.children[0].cornerRadius=e.shape.cornerRadius;else if(void 0!==e.shape.shape){t.shape.shape=e.shape.shape;var a=t.shape.shape,c=Object(v.a)(a.toString());t.wrapper.children[0].data=c}t.wrapper.children[0].canMeasurePath=!0}(e,t,n):(r.width=t.wrapper.children[0].width,r.height=t.wrapper.children[0].height,t.shape instanceof m.v&&(r.margin=t.shape.margin),r.style=t.style,t.wrapper.children[0]=r)}function de(e){var t=new A.a;t.style.fill="transparent";var i="M 25 50 C 11.21 50 0 38.79 0 25 C 0 11.21 11.21 0 25 0 C 38.78 0 50 11.21 50 25 C 50 38.79 38.78 50 25 50",n=new d.a;n.data=i,n.id=e.id+"_0_finalNode",n.horizontalAlignment="Center",n.verticalAlignment="Center",n.relativeMode="Object",n.style.strokeColor=e.style.strokeColor,n.style.strokeWidth=e.style.strokeWidth;var r=new d.a;return r.data=i,r.id=e.id+"_1_finalNode",r.horizontalAlignment="Center",r.verticalAlignment="Center",r.relativeMode="Object",r.style.fill=e.style.fill,r.style.strokeColor=e.style.strokeColor,r.style.strokeWidth=e.style.strokeWidth,t.children=[n,r],t.children[0].width=e.width,t.children[0].height=e.height,t.children[1].height=e.height/1.5,t.children[1].width=e.width/1.5,t.style.strokeWidth=0,t.style.strokeColor="transparent",t}function pe(e,t,i){var n=k(i.shape.shape);switch(e.data=n,t=e,i.shape.shape){case"StructuredNode":if(i.annotations)for(var r=0;r<i.annotations.length;r++)i.annotations[r].content="<<"+i.annotations[r].content+">>";t=e;break;case"FinalNode":t=de(i)}return t}function ue(e){Object(x.E)(e+"_linear"),Object(x.E)(e+"_radial")}function fe(e,t){var i=e.indexOf(t);i>=0&&e.splice(i,1)}function ge(e,t){var i,n,r;if(e.intermediatePoints=t,e.updateSegmentElement(e,t,e.wrapper.children[0]),e.sourcePoint,n=e.sourceDecorator,"Bezier"===e.type){var o=e.segments[0],a=e.segments[e.segments.length-1];i=[l.a.isEmptyPoint(a.point2)?a.bezierPoint2:a.point2,l.a.isEmptyPoint(o.point1)?o.bezierPoint1:o.point1]}else i=e.intermediatePoints;t=e.clipDecorators(e,t);var s=e.wrapper.children[0];s.canMeasurePath=!0,s=e.wrapper.children[1],e.updateDecoratorElement(s,t[0],i[1],n),e.targetPoint,r=e.targetDecorator,s=e.wrapper.children[2],e.updateDecoratorElement(s,t[t.length-1],i[i.length-2],r),e.updateShapeElement(e)}function me(e,t,i){var n,r=e.wrapper,a=r.bounds,s=t.offset,c=t.size/i.scale,l=t.margin,h=r.offsetX-r.actualSize.width*r.pivot.x,d=r.offsetY-r.actualSize.height*r.pivot.y;if(n={x:0,y:0},e.nodes.length>0){switch(t.side){case"Top":n.x+=h+a.width*s,n.y+=d-c;break;case"Bottom":n.x+=h+s*a.width,n.y+=d+r.actualSize.height+c;break;case"Left":n.x+=h-c,n.y+=d+s*a.height;break;case"Right":n.x+=h+r.actualSize.width+c,n.y+=d+s*a.height}n.x+=(l.left-l.right)/i.scale+c/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),n.y+=(l.top-l.bottom)/i.scale+c/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1)}else if(e.connectors.length>0){var p=e.connectors[0],u={offset:s},f=$(p.intermediatePoints,u),g=f.index;n=f.point;var m=K(p.intermediatePoints,u,a),y=(p.intermediatePoints,m.angle),v=Object(o.a)();Object(o.c)(v,-y,p.intermediatePoints[g].x,p.intermediatePoints[g].y),(n=Object(o.e)(v,n)).x+=l.left-l.right+c/2*("Center"===t.horizontalAlignment?0:"Right"===t.horizontalAlignment?-1:1),n.y+=l.top-l.bottom+c/2*("Center"===t.verticalAlignment?0:"Top"===t.verticalAlignment?-1:1),v=Object(o.a)(),Object(o.c)(v,y,p.intermediatePoints[g].x,p.intermediatePoints[g].y),n=Object(o.e)(v,n)}if(0!==r.rotateAngle||0!==r.parentTransform){v=Object(o.a)();Object(o.c)(v,r.rotateAngle+r.parentTransform,r.offsetX,r.offsetY),n=Object(o.e)(v,n)}return n}function ye(e,t,i,n){if(n.annotation){if(Object(E.y)(n.annotation))return!0}else if(h.p[t]&e&&h.r[t]&i)return!0;return!1}function ve(e,t){return!!(h.p[t]&e)}function be(e,t){return e.visibility&t}function we(e,t){var i;if("Text"===e.shape.type)i=e.shape;else{var n=t.split("_");t=n[n.length-1];for(var r=0;r<e.annotations.length;r++)t===e.annotations[r].id&&(i=e.annotations[r])}return i}function Oe(e,t){var i=t.split("_");t=i[i.length-1];for(var n=0;n<e.ports.length;n++)if(t===e.ports[n].id)return e.ports[n]}function xe(e,t){var i={},n=0;if(e.ports){var r=e.ports;for(n=0;n<r.length;n++)t?r[n].constraints&h.l.InConnect&&(i=r[n]):r[n].constraints&h.l.OutConnect&&(i=r[n])}return i}function je(e,t,i){for(var n=i?e.annotations:e.ports,r=0;r<n.length;r++)if(n[r].id===t)return r.toString();return null}function Se(e,t){var i;for(i=0;i<e.length;i++)if(t===e[i].id)return!0;return!1}function Pe(e,t,i,n){if(void 0!==e.width&&void 0!==e.height&&(e.width*=t,e.height*=i),e instanceof s.a){var r=Object(o.a)(),a=n.width||n.actualSize.width,c=n.height||n.actualSize.height;if(void 0!==a&&void 0!==c){var l=n.offsetX-a*n.pivot.x,h=n.offsetY-c*n.pivot.y,d={x:l+a*n.pivot.x,y:h+c*n.pivot.y};d=Object(j.j)(n.rotateAngle,n.offsetX,n.offsetY,d),Object(o.c)(r,-n.rotateAngle,d.x,d.y),Object(o.d)(r,t,i,d.x,d.y),Object(o.c)(r,n.rotateAngle,d.x,d.y);for(var p=0,u=e.children;p<u.length;p++){var f=u[p];if(void 0!==f.width&&void 0!==f.height){var g=Object(o.e)(r,{x:f.offsetX,y:f.offsetY});f.offsetX=g.x,f.offsetY=g.y,Pe(f,t,i,n)}}}}}function Ce(e,t,i,r,o,a){for(var s,c=e.children,l=0;l<c.length;l++)if(s=r[c[l]])if(s.children)Ce(s,t,i,r,o,a);else if(s.offsetX-=t,s.offsetY-=i,!o){var h,d=void 0;r[s.id]=s,(d=s.initContainer()).children||(d.children=[]),h=s.init(a),d.children.push(h),d.measure(new n.a(s.width,s.height)),d.arrange(d.desiredSize)}}function Ee(e,t,i){if(0===i.length)i.push(e);else if(1===i.length)i[0][t]>e[t]?i.splice(0,0,e):i.push(e);else if(i.length>1){for(var n=0,r=i.length-1,o=Math.floor((n+r)/2);o!==n;)i[o][t]<e[t]?(n=o,o=Math.floor((n+r)/2)):i[o][t]>e[t]&&(r=o,o=Math.floor((n+r)/2));i[r][t]<e[t]?i.push(e):i[n][t]>e[t]?i.splice(n,0,e):i[n][t]<e[t]&&i[r][t]>e[t]&&i.splice(r,0,e)}}function Te(e){var t=document.getElementById(e.diagramId),i="ej2_instances",n=t[i][0].nodes;void 0===n&&(n=function(e){for(var t=[],i=0;i<e.palettes.length;i++)for(var n=e.palettes[i].symbols,r=0;r<n.length;r++)n[r]instanceof m.q&&t.push(n[r]);return t}(t[i][0]));for(var r=0;n&&r<n.length;r++)if(n[r].id===e.nodeId)return ke(n[r],e);var o=t[i][0].connectors;for(r=0;o&&r<o.length;r++)if(o[r].id===e.nodeId)return ke(o[r],e);var a=t[i][0].enterObject;return a&&(a.id===e.nodeId||a.children)?a.children&&q(a,"HTML",t[i][0].enterTable)?t[i][0].enterTable[e.nodeId]:a:null}function ke(e,t){var i,n=e.annotations;for(i=0;n&&i<n.length;i++)if(t.annotationId&&n[i].id===t.annotationId)return n[i];return e}function Ie(e,t,i,n,r,a,s,c){var l={x:0,y:0},h=Object(o.a)();switch(Object(o.c)(h,r,a,s),c.x){case 0:switch(c.y){case 0:l=Object(o.e)(h,{x:e,y:t});break;case.5:l=Object(o.e)(h,{x:e,y:t+n/2});break;case 1:l=Object(o.e)(h,{x:e,y:t+n})}break;case.5:switch(c.y){case 0:l=Object(o.e)(h,{x:e+i/2,y:t});break;case.5:l=Object(o.e)(h,{x:e+i/2,y:t+n/2});break;case 1:l=Object(o.e)(h,{x:e+i/2,y:t+n})}break;case 1:switch(c.y){case 0:l=Object(o.e)(h,{x:e+i,y:t});break;case.5:l=Object(o.e)(h,{x:e+i,y:t+n/2});break;case 1:l=Object(o.e)(h,{x:e+i,y:t+n})}}return{x:l.x,y:l.y}}i.d(t,"g",function(){return L}),i.d(t,"k",function(){return R}),i.d(t,"m",function(){return N}),i.d(t,"M",function(){return H}),i.d(t,"N",function(){return _}),i.d(t,"F",function(){return W}),i.d(t,"B",function(){return q}),i.d(t,"G",function(){return F}),i.d(t,"E",function(){return U}),i.d(t,"D",function(){return X}),i.d(t,"x",function(){return V}),i.d(t,"y",function(){return G}),i.d(t,"O",function(){return Q}),i.d(t,"q",function(){return K}),i.d(t,"v",function(){return $}),i.d(t,"b",function(){return J}),i.d(t,"H",function(){return ee}),i.d(t,"L",function(){return ie}),i.d(t,"h",function(){return oe}),i.d(t,"U",function(){return ae}),i.d(t,"Q",function(){return ce}),i.d(t,"T",function(){return he}),i.d(t,"z",function(){return pe}),i.d(t,"I",function(){return ue}),i.d(t,"J",function(){return fe}),i.d(t,"P",function(){return ge}),i.d(t,"A",function(){return me}),i.d(t,"d",function(){return ye}),i.d(t,"e",function(){return ve}),i.d(t,"f",function(){return be}),i.d(t,"i",function(){return we}),i.d(t,"o",function(){return Oe}),i.d(t,"s",function(){return xe}),i.d(t,"l",function(){return je}),i.d(t,"t",function(){return Se}),i.d(t,"K",function(){return Pe}),i.d(t,"c",function(){return Ce}),i.d(t,"C",function(){return Ee}),i.d(t,"r",function(){return Te}),i.d(t,"w",function(){return Ie}),i.d(t,"u",function(){return Ae}),i.d(t,"p",function(){return Me}),i.d(t,"S",function(){return ze}),i.d(t,"a",function(){return De}),i.d(t,"R",function(){return Le}),i.d(t,"n",function(){return Re}),i.d(t,"j",function(){return Ne});var Ae=function(e){return e&&(e=void 0!==e.sourceID||void 0!==e.sourcePoint||void 0!==e.targetID||void 0!==e.targetPoint||void 0!==e.type?y.b:m.q),e},Me=function(e){if(!e.sourceID&&!e.targetID){var t={x:e.sourcePoint.x,y:e.sourcePoint.y},i={x:e.targetPoint.x,y:e.targetPoint.y};"Horizontal"===e.flip?(e.sourcePoint.x=i.x,e.targetPoint.x=t.x):"Vertical"===e.flip?(e.sourcePoint.y=i.y,e.targetPoint.y=t.y):"Both"===e.flip&&(e.sourcePoint=i,e.targetPoint=t)}},ze=function(e,t,i){var n=i.offset.x,r=i.offset.y;return"Horizontal"===t?(n=1-i.offset.x,r=i.offset.y):"Vertical"===t?(n=i.offset.x,r=1-i.offset.y):"Both"===t&&(n=1-i.offset.x,r=1-i.offset.y),e.setOffsetWithRespectToBounds(n,r,"Fraction"),e},De=function e(t,i,r,o,a){if(t.hasChildren())for(var c=0,l=t.children;c<l.length;c++){var h=l[c],d=i-h.offsetX+i,p=r-h.offsetY+r;"Horizontal"!==a&&"Both"!==a||(h.offsetX=d,h.flipOffset.x=d-h.desiredSize.width/2),"Vertical"!==a&&"Both"!==a||(h.offsetY=p,h.flipOffset.y=p-h.desiredSize.height/2),(h instanceof A.a||h instanceof s.a)&&e(h,i,r,o,a),h.measure(new n.a(h.bounds.width,h.bounds.height)),h.arrange(h.desiredSize);var u=o.nameTable[h.id];u&&o.updateConnectorEdges(u)}},Le=function(e,t){for(var i,n=new d.a,r=0;r<e.length-1;r++)i=Re(e[r],e[r+1]),n.data=i[0],n.id=t.id+"_"+t.shape.sequence,n.offsetX=i[1].x,n.offsetY=i[1].y,n.rotateAngle=45,n.transform=h.s.Self;return n},Re=function(e,t){var i={x:e.x,y:e.y},n=Ne(e,t);n=Math.min(30,n/2);var r=Object(O.a)(e,t),o=l.a.transform({x:i.x,y:i.y},r,n),a=l.a.transform({x:o.x,y:o.y},r,-12),s=l.a.transform({x:a.x,y:a.y},r,24);return["M"+a.x+" "+a.y+" L"+s.x+" "+s.y,o]},Ne=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}},function(e,t,i){"use strict";var n=i(0),r=i(14),o=i(4),a=i(9),s=i(1),c=i(25),l=i(20),h=i(37),d=i(22),p=i(17),u=i(13),f=i(35),g=i(29),m=i(28),y=i(16),v=i(34),b=i(38),w=i(6),O=i(2),x=i(42),j=i(5),S=i(3),P=i(19),C=i(26),E=i(48),T=i(27);function k(e,t,i){var n,r="NoWrap";"Class"===t.shape.classifier?n=t.shape.classShape:"Enumeration"===t.shape.classifier?n=t.shape.enumerationShape:"Interface"===t.shape.classifier&&(n=t.shape.interfaceShape);t.container={type:"Stack",orientation:"Vertical"},t.constraints=(s.k.Default|s.k.HideThumbs)&~(s.k.Rotate|s.k.Resize),t.style={fill:t.style.fill,strokeColor:"black",strokeWidth:1.5},t.children=[],t.maxWidth&&(r="Wrap");var o=new le(i,"nodes",{id:t.id+"_umlClass_header",annotations:[{id:"name",content:n.name,offset:{x:.5,y:.65},margin:{left:10,right:10},style:{bold:!0,fontSize:14,color:n.style.color,fill:n.style.fill,textWrapping:r}},{content:"<<"+t.shape.classifier+">>",margin:{left:10,right:10},id:"class",style:{fontSize:n.style.fontSize,color:n.style.color,fill:n.style.fill,textWrapping:r},offset:{x:.5,y:.3},constraints:s.a.ReadOnly}],constraints:(s.k.Default|s.k.HideThumbs)&~(s.k.Rotate|s.k.Drag|s.k.Resize),verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:t.style.fill,strokeColor:"#ffffff00"}},!0);return i.initObject(o),i.nodes.push(o),t.children.push(o.id),function(e,t,i,n){if("Enumeration"===e.shape.classifier){var r=i.members;if(r&&r.length){I(e,t);for(var o="",a=0;a<r.length;a++){var c=r[a];if(""!==c.name&&(o+=c.name),a!==r.length){var l=A(e,c),h=new le(t,"nodes",{id:Object(O.i)()+"_umlMember",annotations:[{id:"name",content:o,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:n},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",style:{fill:e.style.fill,strokeColor:"#ffffff00",textWrapping:n},constraints:(s.k.Default|s.k.HideThumbs)&~(s.k.Rotate|s.k.Drag|s.k.Resize),minHeight:25},!0);t.initObject(h),t.nodes.push(h),e.children.push(h.id),o="",c.isSeparator&&a!==r.length-1&&I(e,t)}}}}else{var d=i.attributes;if(d.length){var p="";I(e,t);for(var a=0;a<d.length;a++){var u=void 0,f=d[a];if(u=f.scope&&"Public"===f.scope?" +":f.scope&&"Private"===f.scope?"-":f.scope&&"Protected"===f.scope?"#":"~",""!==f.name&&u&&(p+=u+" "+f.name+" : "+f.type),a!==d.length){var l=A(e,f),h=new le(t,"nodes",{id:Object(O.i)()+"_umlProperty",style:{fill:e.style.fill,strokeColor:"#ffffff00"},annotations:[{id:"name",content:p,offset:{x:0,y:.5},style:{bold:!0,fontSize:l.fontSize,color:l.color,fill:l.fill,textWrapping:n},margin:{left:14,right:5},horizontalAlignment:"Left"}],verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(s.k.Default|s.k.HideThumbs)&~(s.k.Rotate|s.k.Drag|s.k.Resize),minHeight:25},!0);t.initObject(h),t.nodes.push(h),e.children.push(h.id),p="",f.isSeparator&&a!==d.length-1&&I(e,t)}}}}}(t,i,n,r),function(e,t,i,n){if(i.methods&&i.methods.length){var r=i.methods;I(e,t);for(var o="",a="",c=void 0,l=0;l<r.length;l++){var h=r[l];if(c=h.scope&&"Public"===h.scope?" +":h.scope&&"Private"===h.scope?"-":h.scope&&"Protected"===h.scope?"#":"~",h.parameters)for(var d=0;d<h.parameters.length;d++)h.parameters[d].type?o+=h.parameters[d].name+":"+h.parameters[d].type:o+=h.parameters[d].name,d!==h.parameters.length-1&&(o+=",");if(""!==h.name&&c&&(a+=c+" "+h.name+"("+o+") : "+h.type),l!==r.length){var p=A(e,h),u=new le(t,"nodes",{id:Object(O.i)()+"_umlMethods",verticalAlignment:"Stretch",horizontalAlignment:"Stretch",annotations:[{id:"name",content:a,offset:{x:0,y:.5},style:{bold:!0,fontSize:p.fontSize,color:p.color,fill:p.fill,textWrapping:n},margin:{left:14,right:5},horizontalAlignment:"Left"}],style:{fill:e.style.fill,strokeColor:"#ffffff00"},minHeight:25,constraints:(s.k.Default|s.k.HideThumbs)&~(s.k.Rotate|s.k.Drag|s.k.Resize)},!0);t.initObject(u),t.nodes.push(u),e.children.push(u.id),a="",h.isSeparator&&l!==r.length-1&&I(e,t)}}}}(t,i,n,r),t.offsetX=t.offsetX,t.offsetY=t.offsetY,t.style.fill=t.style.fill,t.borderColor=t.borderColor,i.initObject(t),e}function I(e,t){var i=new le(t,"nodes",{id:Object(O.i)()+"_path",height:1,constraints:s.k.Default&~s.k.Select,verticalAlignment:"Stretch",horizontalAlignment:"Stretch"},!0);t.initObject(i),t.nodes.push(i),e.children.push(i.id)}function A(e,t){var i={},n=t.style;return i.fill="transparent"!==n.fill?n.fill:e.style.fill,i.color=n.color,i.fontSize=12!==n.fontSize?n.fontSize:e.style.fontSize,i.strokeColor="black"!==n.strokeColor?n.strokeColor:e.style.strokeColor,i.strokeWidth=1!==n.strokeWidth?n.strokeWidth:e.style.strokeWidth,i}var M=i(12);i.d(t,"t",function(){return R}),i.d(t,"r",function(){return N}),i.d(t,"p",function(){return H}),i.d(t,"l",function(){return _}),i.d(t,"m",function(){return B}),i.d(t,"v",function(){return W}),i.d(t,"a",function(){return q}),i.d(t,"j",function(){return F}),i.d(t,"f",function(){return U}),i.d(t,"d",function(){return X}),i.d(t,"e",function(){return V}),i.d(t,"h",function(){return G}),i.d(t,"b",function(){return K}),i.d(t,"c",function(){return $}),i.d(t,"g",function(){return J}),i.d(t,"w",function(){return ee}),i.d(t,"o",function(){return te}),i.d(t,"y",function(){return ie}),i.d(t,"z",function(){return ne}),i.d(t,"x",function(){return re}),i.d(t,"D",function(){return oe}),i.d(t,"C",function(){return ae}),i.d(t,"B",function(){return se}),i.d(t,"A",function(){return ce}),i.d(t,"q",function(){return le}),i.d(t,"k",function(){return he}),i.d(t,"n",function(){return de}),i.d(t,"s",function(){return pe}),i.d(t,"u",function(){return ue}),i.d(t,"i",function(){return fe});var z=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),D=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},L=function(e){switch(e.type){case"Basic":return q;case"Flow":return F;case"Path":return N;case"Image":return B;case"Text":return W;case"Bpmn":return J;case"Native":return H;case"HTML":return _;case"UmlActivity":return ee;case"UmlClassifier":return ce;case"SwimLane":return ue;default:return q}},R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),D([Object(n.q)("Basic")],t.prototype,"type",void 0),t}(n.d),N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"Path"},D([Object(n.q)("Path")],t.prototype,"type",void 0),D([Object(n.q)("")],t.prototype,"data",void 0),t}(R),H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"Native"},D([Object(n.q)("Native")],t.prototype,"type",void 0),D([Object(n.q)("")],t.prototype,"content",void 0),D([Object(n.q)("Stretch")],t.prototype,"scale",void 0),t}(R),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"Html"},D([Object(n.q)("HTML")],t.prototype,"type",void 0),D([Object(n.q)("")],t.prototype,"content",void 0),t}(R),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"Image"},D([Object(n.q)("Image")],t.prototype,"type",void 0),D([Object(n.q)("")],t.prototype,"source",void 0),D([Object(n.q)("None")],t.prototype,"scale",void 0),D([Object(n.q)("None")],t.prototype,"align",void 0),t}(R),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"Text"},D([Object(n.q)("Text")],t.prototype,"type",void 0),D([Object(n.q)("")],t.prototype,"content",void 0),D([Object(n.g)({},r.a)],t.prototype,"margin",void 0),t}(R),q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"BasicShape"},D([Object(n.q)("Basic")],t.prototype,"type",void 0),D([Object(n.q)("Rectangle")],t.prototype,"shape",void 0),D([Object(n.q)(0)],t.prototype,"cornerRadius",void 0),D([Object(n.e)([],o.a)],t.prototype,"points",void 0),t}(R),F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"FlowShape"},D([Object(n.q)("Flow")],t.prototype,"type",void 0),D([Object(n.q)("Terminator")],t.prototype,"shape",void 0),t}(R),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"BpmnGateway"},D([Object(n.q)("None")],t.prototype,"type",void 0),t}(n.d),X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"BpmnDataObject"},D([Object(n.q)("None")],t.prototype,"type",void 0),D([Object(n.q)(!1)],t.prototype,"collection",void 0),t}(n.d),Y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),D([Object(n.q)("None")],t.prototype,"type",void 0),D([Object(n.q)("None")],t.prototype,"loop",void 0),D([Object(n.q)(!1)],t.prototype,"call",void 0),D([Object(n.q)(!1)],t.prototype,"compensation",void 0),t}(n.d),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"BpmnEvent"},D([Object(n.q)("Start")],t.prototype,"event",void 0),D([Object(n.q)("None")],t.prototype,"trigger",void 0),t}(n.d),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"BpmnSubEvent"},D([Object(n.q)("None")],t.prototype,"trigger",void 0),D([Object(n.q)("Start")],t.prototype,"event",void 0),D([Object(n.q)("")],t.prototype,"id",void 0),D([Object(n.g)({},o.a)],t.prototype,"offset",void 0),D([Object(n.e)([],y.c)],t.prototype,"annotations",void 0),D([Object(n.e)([],m.a)],t.prototype,"ports",void 0),D([Object(n.q)()],t.prototype,"width",void 0),D([Object(n.q)()],t.prototype,"height",void 0),D([Object(n.g)({},r.a)],t.prototype,"margin",void 0),D([Object(n.q)("Center")],t.prototype,"horizontalAlignment",void 0),D([Object(n.q)("Center")],t.prototype,"verticalAlignment",void 0),D([Object(n.q)(!0)],t.prototype,"visible",void 0),t}(n.d),Z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),D([Object(n.g)({id:"success",event:"End",offset:{x:1,y:.5}},G)],t.prototype,"success",void 0),D([Object(n.g)({id:"failure",event:"Intermediate",trigger:"Error",offset:{x:.25,y:1}},G)],t.prototype,"failure",void 0),D([Object(n.g)({id:"cancel",event:"Intermediate",trigger:"Cancel",offset:{x:.75,y:1}},G)],t.prototype,"cancel",void 0),t}(n.d),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),D([Object(n.q)("None")],t.prototype,"type",void 0),D([Object(n.q)(!1)],t.prototype,"adhoc",void 0),D([Object(n.q)("Default")],t.prototype,"boundary",void 0),D([Object(n.q)(!1)],t.prototype,"compensation",void 0),D([Object(n.q)("None")],t.prototype,"loop",void 0),D([Object(n.q)(!0)],t.prototype,"collapsed",void 0),D([Object(n.e)([],G)],t.prototype,"events",void 0),D([Object(n.g)({},Z)],t.prototype,"transaction",void 0),D([Object(n.q)(void 0)],t.prototype,"processes",void 0),t}(n.d),K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"BpmnActivity"},D([Object(n.q)("Task")],t.prototype,"activity",void 0),D([Object(n.g)({},Y)],t.prototype,"task",void 0),D([Object(n.g)({},Q)],t.prototype,"subProcess",void 0),t}(n.d),$=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return z(t,e),t.prototype.getClassName=function(){return"BpmnAnnotation"},D([Object(n.q)("")],t.prototype,"text",void 0),D([Object(n.q)("")],t.prototype,"id",void 0),D([Object(n.q)(0)],t.prototype,"angle",void 0),D([Object(n.q)()],t.prototype,"height",void 0),D([Object(n.q)()],t.prototype,"width",void 0),D([Object(n.q)(0)],t.prototype,"length",void 0),t}(n.d),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"BpmnShape"},D([Object(n.q)("Bpmn")],t.prototype,"type",void 0),D([Object(n.q)("Event")],t.prototype,"shape",void 0),D([Object(n.g)({},V)],t.prototype,"event",void 0),D([Object(n.g)({},U)],t.prototype,"gateway",void 0),D([Object(n.g)({},X)],t.prototype,"dataObject",void 0),D([Object(n.g)({},K)],t.prototype,"activity",void 0),D([Object(n.g)({},$)],t.prototype,"annotation",void 0),D([Object(n.e)([],$)],t.prototype,"annotations",void 0),t}(R),ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlActivityShape"},D([Object(n.q)("UmlActivity")],t.prototype,"type",void 0),D([Object(n.q)("Action")],t.prototype,"shape",void 0),t}(R),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"MethodArguments"},D([Object(n.q)("")],t.prototype,"name",void 0),D([Object(n.q)("")],t.prototype,"type",void 0),D([Object(n.g)({},r.f)],t.prototype,"style",void 0),t}(n.d),ie=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlClassAttribute"},D([Object(n.q)("Public")],t.prototype,"scope",void 0),D([Object(n.q)(!1)],t.prototype,"isSeparator",void 0),t}(te),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlClassMethod"},D([Object(n.e)([],te)],t.prototype,"parameters",void 0),t}(ie),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlClass"},D([Object(n.q)("")],t.prototype,"name",void 0),D([Object(n.e)([],ie)],t.prototype,"attributes",void 0),D([Object(n.e)([],ne)],t.prototype,"methods",void 0),D([Object(n.g)({},r.f)],t.prototype,"style",void 0),t}(n.d),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlInterface"},D([Object(n.q)(!1)],t.prototype,"isSeparator",void 0),t}(re),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlEnumerationMember"},D([Object(n.q)("")],t.prototype,"name",void 0),D([Object(n.q)("")],t.prototype,"value",void 0),D([Object(n.q)(!1)],t.prototype,"isSeparator",void 0),D([Object(n.g)({},r.f)],t.prototype,"style",void 0),t}(n.d),se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlEnumeration"},D([Object(n.q)("")],t.prototype,"name",void 0),D([Object(n.e)([],ae)],t.prototype,"members",void 0),D([Object(n.g)({},r.f)],t.prototype,"style",void 0),t}(n.d),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"UmlClassifierShape"},D([Object(n.q)("UmlClassifier")],t.prototype,"type",void 0),D([Object(n.g)({},re)],t.prototype,"classShape",void 0),D([Object(n.g)({},oe)],t.prototype,"interfaceShape",void 0),D([Object(n.g)({},se)],t.prototype,"enumerationShape",void 0),D([Object(n.q)("Class")],t.prototype,"classifier",void 0),t}(R),le=function(e){function t(t,i,n,r){var o,a=e.call(this,t,i,n,r)||this;return a.isCanvasUpdate=!1,a.status="None",a.parentId="",a.processId="",a.umlIndex=-1,a.outEdges=[],a.inEdges=[],a.isHeader=!1,a.isLane=!1,a.isPhase=!1,a.children&&a.children.length>0&&((o=n).style&&o.style.fill||(a.style.fill="transparent"),o.style&&o.style.strokeColor||(a.style.strokeColor="transparent")),a.shape&&"UmlActivity"===a.shape.type&&Object(w.N)(n,a),a.shape&&"SwimLane"===a.shape.type&&Object(w.M)(n,a),a}return z(t,e),Object.defineProperty(t.prototype,"actualSize",{get:function(){return null!==this.wrapper?this.wrapper.actualSize:new a.a(this.width||0,this.height||0)},enumerable:!0,configurable:!0}),t.prototype.init=function(e){var t,i;t="SwimLane"!=this.shape.type?new d.a:new T.b;switch(this.shape.changedProperties={},this.shape.oldProperties={},this.shape.type){case"Path":var n=new p.a;n.data=this.shape.data,t=n;break;case"Image":var r=new f.a;r.source=this.shape.source,r.imageAlign=this.shape.align,r.imageScale=this.shape.scale,t=r;break;case"Text":var o=new u.a;o.content=this.shape.content,t=o,i=this.style,t.style=i;break;case"Basic":if("Rectangle"===this.shape.shape)(t=c=new d.a).cornerRadius=this.shape.cornerRadius;else if("Polygon"===this.shape.shape){var a=new p.a;a.data=Object(P.b)(this.shape.points),t=a}else{var c=new p.a,l=Object(h.a)(this.shape.shape);c.data=l,t=c}break;case"Flow":var m=new p.a,y=Object(b.a)(this.shape.shape);m.data=y,t=m;break;case"UmlActivity":var v=new p.a;t=Object(w.z)(v,t,this);break;case"Bpmn":if(e.bpmnModule){t=e.bpmnModule.initBPMNContent(t,this,e),this.wrapper.elementActions=this.wrapper.elementActions|s.g.ElementIsGroup;var O=this.shape.activity.subProcess;if(O.processes&&O.processes.length)for(var x=0,S=this.shape.activity.subProcess.processes;x<S.length;x++){var E=S[x];!e.nameTable[E]||e.nameTable[E].processId&&e.nameTable[E].processId!==this.id||(e.nameTable[E].processId=this.id,O.collapsed&&e.updateElementVisibility(e.nameTable[E].wrapper,e.nameTable[E],!O.collapsed),t.children.push(e.nameTable[E].wrapper))}}break;case"Native":var I=new g.a(this.id,e.element.id);I.content=this.shape.content,I.scale=this.shape.scale,t=I;break;case"HTML":var A=new C.a(this.id,e.element.id);A.content=this.shape.content,t=A;break;case"UmlClassifier":t=k(t,this,e);break;case"SwimLane":this.annotations=[],this.ports=[],t.cellStyle.fill="none",t.cellStyle.strokeColor="none",this.container={type:"Grid",orientation:this.shape.orientation},t.id=this.id,this.container.orientation=this.shape.orientation,this.constraints|=s.k.HideThumbs,Object(M.j)(t,e,this)}return t.id=this.id+"_content",t.relativeMode="Object",void 0!==this.width&&(t.width=this.width),t.horizontalAlignment="Stretch",void 0!==this.height&&(t.height=this.height),void 0!==this.minHeight&&(t.minHeight=this.minHeight),void 0!==this.maxHeight&&(t.maxHeight=this.maxHeight),void 0!==this.minWidth&&(t.minWidth=this.minWidth),void 0!==this.maxWidth&&(t.maxWidth=this.maxWidth),"Rectangle"!==this.shape.shape||this.shape.cornerRadius||(t.isRectElement=!0),t.verticalAlignment="Stretch",this.shape instanceof W&&(t.margin=this.shape.margin),Object(j.B)(this)&&0!==(this.constraints&s.k.Shadow)&&(t.shadow=this.shadow),"Bpmn"===this.shape.type&&"Message"!==this.shape.shape&&"DataSource"!==this.shape.shape||"UmlActivity"===this.shape.type&&"FinalNode"===this.shape.shape||"Text"!==this.shape.type&&(t.style=this.style),(this.wrapper.elementActions&s.g.ElementIsGroup||"Horizontal"!==this.flip)&&"Vertical"!==this.flip||(t.flip=this.flip),t},t.prototype.initContainer=function(){var e;if(this.id||(this.id=Object(O.i)()),!this.container||this.shape instanceof ue)e=this.children?new c.a:new l.a;else switch(this.container.type){case"Canvas":e=new l.a;break;case"Stack":e=new E.a;break;case"Grid":(e=new T.b).setDefinitions(this.rows,this.columns)}return e.id=this.id,e.offsetX=this.offsetX,e.offsetY=this.offsetY,e.visible=this.visible,e.horizontalAlignment=this.horizontalAlignment,e.verticalAlignment=this.verticalAlignment,this.container&&(e.width=this.width,e.height=this.height,"Stack"===this.container.type&&(e.orientation=this.container.orientation)),e.style.fill=this.backgroundColor,e.style.strokeColor=this.borderColor,e.style.strokeWidth=this.borderWidth,e.rotateAngle=this.rotateAngle,e.minHeight=this.minHeight,e.minWidth=this.minWidth,e.maxHeight=this.maxHeight,e.maxWidth=this.maxWidth,e.pivot=this.pivot,e.margin=this.margin,e.flip=this.flip,this.wrapper=e,e},t.prototype.initPorts=function(e,t){this.wrapper;for(var i,n=0;this.ports,n<this.ports.length;n++){(i=this.initPortWrapper(this.ports[n])).elementActions=i.elementActions|s.g.ElementIsPort;var r=void 0,o=Object(O.f)(e);o&&(r=o(i,this)),i.description=r||i.id,t.children.push(i)}},t.prototype.getIconOffet=function(e,t){var i,n;return"BottomToTop"===e.orientation?(i=t.offset.x,n=1-t.offset.y):"LeftToRight"===e.orientation?(i=t.offset.y,n=t.offset.x):"RightToLeft"===e.orientation?(i=1-t.offset.y,n=t.offset.x):(i=t.offset.x,n=t.offset.y),{x:i,y:n}},t.prototype.initIcons=function(e,t,i,n){this.wrapper;var r,o=this.isExpanded?this.expandIcon:this.collapseIcon;if("None"!==o.shape){var a=new l.a;a.float=!0;a.id=this.id+"_icon_content",a.children=[],a.height=o.height,a.width=o.width,a.style.strokeColor="transparent",a.margin=o.margin,a.horizontalAlignment="Center",a.verticalAlignment="Center",a.visible=this.visible,r=this.getIconOffet(t,o),a.setOffsetWithRespectToBounds(r.x,r.y,"Fraction"),a.relativeMode="Point",this.initIconSymbol(o,a,e,n);var s=void 0,c=Object(O.f)(e);c&&(s=c(o,this)),a.description=s||a.id,i.children.push(a)}},t.prototype.initAnnotations=function(e,t,i,n){for(var r,o=0;this.annotations,o<this.annotations.length;o++){r=this.initAnnotationWrapper(this.annotations[o],i,n,o);var a=void 0,s=Object(O.f)(e);s&&(a=s(r,this)),r.description=a||r.id,t.children.push(r)}},t.prototype.initPortWrapper=function(e){e.id=e.id||Object(O.i)();var t=new p.a;t.height=e.height,t.width=e.width;var i="Custom"===e.shape?e.pathData:Object(v.c)(e.shape);t.id=this.id+"_"+e.id,t.margin=e.margin,t.data=i;var n=e.style;return t.style={fill:n.fill,strokeColor:n.strokeColor,gradient:null,opacity:n.opacity,strokeDashArray:n.strokeDashArray,strokeWidth:n.strokeWidth},t.horizontalAlignment=e.horizontalAlignment,t.verticalAlignment=e.verticalAlignment,t=Object(w.S)(t,this.flip,e),void 0===this.width&&void 0===this.height||(t.float=!0),t.relativeMode="Point",t.visible=!(!Object(w.f)(e,s.m.Visible)||Object(w.f)(e,s.m.Hover)||Object(w.f)(e,s.m.Connect)),t},t.prototype.initAnnotationWrapper=function(e,t,i,n){e.id=e.id||n+"annotation"||Object(O.i)();var r,o=e;if(t&&e.template)(r=new C.a(this.id,t,e.id)).content=e.template;else{(r=new u.a).canMeasure=!i;var a=e.style,s=e.hyperlink.link?e.hyperlink:void 0;r.style={fill:a.fill,strokeColor:a.strokeColor,strokeWidth:a.strokeWidth,bold:a.bold,textWrapping:a.textWrapping,color:s?s.color||r.hyperlink.color:a.color,whiteSpace:a.whiteSpace,fontFamily:a.fontFamily,fontSize:a.fontSize,italic:a.italic,gradient:null,opacity:a.opacity,strokeDashArray:a.strokeDashArray,textAlign:a.textAlign,textOverflow:e.style.textOverflow,textDecoration:s?s.textDecoration||r.hyperlink.textDecoration:a.textDecoration},r.hyperlink.link=e.hyperlink.link||void 0,r.hyperlink.content=e.hyperlink.content||void 0,r.hyperlink.textDecoration=e.hyperlink.textDecoration||void 0,r.content=s?s.content||r.hyperlink.link:e.content}return r.constraints=e.constraints,r.height=e.height,r.width=e.width,r.visible=e.visibility,r.rotateAngle=e.rotateAngle,r.id=this.id+"_"+e.id,void 0===this.width||e.template||(void 0===e.width||e.width>this.width&&("Wrap"===e.style.textWrapping||"WrapWithOverflow"===e.style.textWrapping))&&(r.width=this.width),r.margin=e.margin,r.horizontalAlignment=e.horizontalAlignment,r.verticalAlignment=e.verticalAlignment,r.setOffsetWithRespectToBounds(o.offset.x,o.offset.y,"Fraction"),void 0===this.width&&void 0===this.height||(r.float=!0),r.relativeMode="Point",r},t.prototype.initIconContainer=function(e,t){var i=new d.a;return i.id=t.id+"_rect",i.height=e.height,i.width=e.width,i.visible=t.visible,i.margin=e.margin,i.cornerRadius=e.cornerRadius,i.style={fill:e.fill,strokeColor:e.borderColor,strokeWidth:e.borderWidth},i.setOffsetWithRespectToBounds(.5,.5,"Fraction"),i.horizontalAlignment="Center",i.verticalAlignment="Center",i.relativeMode="Object",i.description=i.description||"Click here to expand or collapse",i},t.prototype.initIconSymbol=function(e,t,i,n){var r;if(t.children.push(this.initIconContainer(e,t)),"Template"===e.shape)(r=new g.a(this.id,n)).content=e.content,r.height=10,r.width=10;else{(r=new p.a).data=Object(v.b)(e);var o=Object(S.B)(r.data);r.height=o.height<10?o.height:10-(e.padding.bottom+e.padding.top),r.width=o.width<10?o.width:10-(e.padding.left+e.padding.right)}r.id=t.id+"_shape",r.horizontalAlignment="Center",r.verticalAlignment="Center",r.visible=t.visible,r.visible=t.visible,r.style={fill:"black",strokeColor:e.borderColor,strokeWidth:e.borderWidth},r.setOffsetWithRespectToBounds(.5,.5,"Fraction"),r.relativeMode="Object",r.description=t.description||"Click here to expand or collapse",t.children.push(r)},t.prototype.getClassName=function(){return"Node"},D([Object(n.e)([],y.c)],t.prototype,"annotations",void 0),D([Object(n.q)(0)],t.prototype,"offsetX",void 0),D([Object(n.q)(0)],t.prototype,"offsetY",void 0),D([Object(n.g)({x:.5,y:.5},o.a)],t.prototype,"pivot",void 0),D([Object(n.q)()],t.prototype,"width",void 0),D([Object(n.q)()],t.prototype,"height",void 0),D([Object(n.q)()],t.prototype,"minWidth",void 0),D([Object(n.q)()],t.prototype,"minHeight",void 0),D([Object(n.q)()],t.prototype,"maxWidth",void 0),D([Object(n.q)()],t.prototype,"maxHeight",void 0),D([Object(n.q)(0)],t.prototype,"rotateAngle",void 0),D([Object(n.g)({fill:"white"},r.f)],t.prototype,"style",void 0),D([Object(n.q)("transparent")],t.prototype,"backgroundColor",void 0),D([Object(n.q)("none")],t.prototype,"borderColor",void 0),D([Object(n.q)(0)],t.prototype,"borderWidth",void 0),D([Object(n.q)()],t.prototype,"data",void 0),D([Object(n.h)(L)],t.prototype,"shape",void 0),D([Object(n.q)(null)],t.prototype,"wrapper",void 0),D([Object(n.q)(s.k.Default)],t.prototype,"constraints",void 0),D([Object(n.g)({},r.b)],t.prototype,"shadow",void 0),D([Object(n.q)()],t.prototype,"children",void 0),D([Object(n.q)(null)],t.prototype,"container",void 0),D([Object(n.q)("Left")],t.prototype,"horizontalAlignment",void 0),D([Object(n.q)("Top")],t.prototype,"verticalAlignment",void 0),D([Object(n.q)()],t.prototype,"rows",void 0),D([Object(n.q)()],t.prototype,"columns",void 0),D([Object(n.q)()],t.prototype,"rowIndex",void 0),D([Object(n.q)()],t.prototype,"columnIndex",void 0),D([Object(n.q)()],t.prototype,"rowSpan",void 0),D([Object(n.q)()],t.prototype,"columnSpan",void 0),t}(x.a),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),D([Object(n.q)("")],t.prototype,"id",void 0),D([Object(n.g)({style:{fill:"#111111"}},y.a)],t.prototype,"annotation",void 0),D([Object(n.g)({fill:"#E7F4FF",strokeColor:"#CCCCCC"},r.c)],t.prototype,"style",void 0),D([Object(n.q)(50)],t.prototype,"height",void 0),D([Object(n.q)(50)],t.prototype,"width",void 0),t}(n.d),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"Lane"},D([Object(n.q)("")],t.prototype,"id",void 0),D([Object(n.g)({fill:"#F9F9F9",strokeColor:"#CCCCCC"},r.c)],t.prototype,"style",void 0),D([Object(n.e)([],le)],t.prototype,"children",void 0),D([Object(n.q)(100)],t.prototype,"height",void 0),D([Object(n.q)(100)],t.prototype,"width",void 0),D([Object(n.g)({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},he)],t.prototype,"header",void 0),t}(n.d),pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getClassName=function(){return"Phase"},D([Object(n.q)("")],t.prototype,"id",void 0),D([Object(n.g)({strokeColor:"#CCCCCC"},r.c)],t.prototype,"style",void 0),D([Object(n.g)({annotation:{content:"Phase"}},he)],t.prototype,"header",void 0),D([Object(n.q)(100)],t.prototype,"offset",void 0),t}(n.d),ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=20,t.hasHeader=!0,t}return z(t,e),t.prototype.getClassName=function(){return"SwimLane"},D([Object(n.q)("SwimLane")],t.prototype,"type",void 0),D([Object(n.q)(20)],t.prototype,"phaseSize",void 0),D([Object(n.e)([],pe)],t.prototype,"phases",void 0),D([Object(n.q)("Horizontal")],t.prototype,"orientation",void 0),D([Object(n.e)([],de)],t.prototype,"lanes",void 0),D([Object(n.g)({style:{fill:"#E7F4FF",strokeColor:"#CCCCCC"},annotation:{content:"Function"}},he)],t.prototype,"header",void 0),D([Object(n.q)(!1)],t.prototype,"isLane",void 0),D([Object(n.q)(!1)],t.prototype,"isPhase",void 0),t}(R),fe=function(){function e(){}return e.prototype.getClassName=function(){return"ChildContainer"},D([Object(n.q)("Canvas")],e.prototype,"type",void 0),D([Object(n.q)("Vertical")],e.prototype,"orientation",void 0),e}()},function(e,t,i){"use strict";var n;i.d(t,"a",function(){return o}),i.d(t,"e",function(){return a}),i.d(t,"f",function(){return s}),i.d(t,"c",function(){return c}),i.d(t,"d",function(){return l}),i.d(t,"g",function(){return h}),i.d(t,"b",function(){return d}),function(e){e[e.Identity=0]="Identity",e[e.Translation=1]="Translation",e[e.Scaling=2]="Scaling",e[e.Unknown=4]="Unknown"}(n||(n={}));var r=function(){return function(e,t,i,n,r,o,a){this.m11=e,this.m12=t,this.m21=i,this.m22=n,this.offsetX=r,this.offsetY=o,this.type=a}}();function o(){return new r(1,0,0,1,0,0,n.Identity)}function a(e,t){var i=function(e,t,i){switch(e.type){case n.Identity:break;case n.Translation:t+=e.offsetX,i+=e.offsetY;break;case n.Scaling:t*=e.m11,i*=e.m22;break;case n.Translation|n.Scaling:t*=e.m11,t+=e.offsetX,i*=e.m22,i+=e.offsetY;break;default:var r=i*e.m21+e.offsetX,o=t*e.m12+e.offsetY;t*=e.m11,t+=r,i*=e.m22,i+=o}return{x:t,y:i}}(e,t.x,t.y);return{x:Math.round(100*i.x)/100,y:Math.round(100*i.y)/100}}function s(e,t){for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n];i.push(a(e,o))}return i}function c(e,t,i,r){d(e,function(e,t,i){var r=o(),a=Math.sin(e),s=Math.cos(e),c=t*(1-s)+i*a,l=i*(1-s)-t*a;return r.type=n.Unknown,p(r,s,a,-a,s,c,l),r}(.017453292519943295*(t%=360),i||0,r||0))}function l(e,t,i,r,a){void 0===r&&(r=0),void 0===a&&(a=0),d(e,function(e,t,i,r){var a=o();return a.type=i||r?n.Scaling|n.Translation:n.Scaling,p(a,e,0,0,t,i-e*i,r-t*r),a}(t,i,r,a))}function h(e,t,i){return e.type&n.Identity?(e.type=n.Translation,void p(e,1,0,0,1,t,i)):e.type&n.Unknown?(e.offsetX+=t,void(e.offsetY+=i)):(e.offsetX+=t,e.offsetY+=i,void(e.type|=n.Translation))}function d(e,t){var i=e.type,r=t.type;if(r!==n.Identity){if(i===n.Identity)return u(e,t),void(e.type=t.type);if(r===n.Translation)return e.offsetX+=t.offsetX,e.offsetY+=t.offsetY,void(i!==n.Unknown&&(e.type|=n.Translation));if(i!==n.Translation){var a=i<<4|r;switch(a){case 34:return e.m11*=t.m11,void(e.m22*=t.m22);case 35:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX=t.offsetX,e.offsetY=t.offsetY,void(e.type=n.Translation|n.Scaling);case 36:break;default:switch(a){case 50:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX*=t.m11,void(e.offsetY*=t.m22);case 51:return e.m11*=t.m11,e.m22*=t.m22,e.offsetX=t.m11*e.offsetX+t.offsetX,void(e.offsetY=t.m22*e.offsetY+t.offsetY);case 52:break;default:switch(a){case 66:case 67:case 68:break;default:return}}}var s=o();return p(s,e.m11*t.m11+e.m12*t.m21,e.m11*t.m12+e.m12*t.m22,e.m21*t.m11+e.m22*t.m21,e.m21*t.m12+e.m22*t.m22,e.offsetX*t.m11+e.offsetY*t.m21+t.offsetX,e.offsetX*t.m12+e.offsetY*t.m22+t.offsetY),s.m21||s.m12?s.type=n.Unknown:((s.m11&&1!==s.m11||s.m22&&1!==s.m22)&&(s.type=n.Scaling),(s.offsetX||s.offsetY)&&(s.type|=n.Translation),(s.type&(n.Translation|n.Scaling))===n.Identity&&(s.type=n.Identity),s.type=n.Scaling|n.Translation),u(e,s),void(e.type=s.type)}var c=e.offsetX,l=e.offsetY;e.offsetX=c*t.m11+l*t.m21+t.offsetX,e.offsetY=c*t.m12+l*t.m22+t.offsetY,r!==n.Unknown?e.type=n.Translation|n.Scaling:e.type=n.Unknown}}function p(e,t,i,n,r,o,a){e.m11=t,e.m12=i,e.m21=n,e.m22=r,e.offsetX=o,e.offsetY=a}function u(e,t){e.m11=t.m11,e.m12=t.m12,e.m21=t.m21,e.m22=t.m22,e.offsetX=t.offsetX,e.offsetY=t.offsetY,e.type=t.type}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(e,t){this.width=e,this.height=t}return e.prototype.isEmpty=function(){return 0===this.height&&0===this.width},e.prototype.clone=function(){return new e(this.width,this.height)},e}()},function(e,t,i){"use strict";i.d(t,"d",function(){return A}),i.d(t,"a",function(){return M}),i.d(t,"c",function(){return z}),i.d(t,"g",function(){return L}),i.d(t,"f",function(){return R}),i.d(t,"e",function(){return H}),i.d(t,"b",function(){return q});var n=i(0),r=i(14),o=i(4),a=i(13),s=i(1),c=i(11),l=i(9),h=i(23),d=i(6),p=i(2),u=i(17),f=i(16),g=i(20),m=i(34),y=i(42),v=i(31),b=i(8),w=i(26),O=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),x=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},j=function(e){switch(e.type){case"Bpmn":return k;case"UmlActivity":return T;case"UmlClassifier":return W;default:return E}},S=function(e){switch(e.type){case"Straight":return A;case"Bezier":return M;case"Orthogonal":return z;default:return A}},P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)(10)],t.prototype,"width",void 0),x([Object(n.q)(10)],t.prototype,"height",void 0),x([Object(n.q)("Arrow")],t.prototype,"shape",void 0),x([Object(n.g)({fill:"black",strokeColor:"black",strokeWidth:1},r.c)],t.prototype,"style",void 0),x([Object(n.g)({x:0,y:.5},o.a)],t.prototype,"pivot",void 0),x([Object(n.q)("")],t.prototype,"pathData",void 0),t}(n.d),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)(0)],t.prototype,"angle",void 0),x([Object(n.q)(0)],t.prototype,"distance",void 0),t}(n.d),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)("None")],t.prototype,"type",void 0),t}(n.d),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)("Object")],t.prototype,"flow",void 0),x([Object(n.q)(30)],t.prototype,"exceptionFlowHeight",void 0),t}(E),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)("Sequence")],t.prototype,"flow",void 0),x([Object(n.q)("Normal")],t.prototype,"sequence",void 0),x([Object(n.q)("Default")],t.prototype,"message",void 0),x([Object(n.q)("Default")],t.prototype,"association",void 0),t}(E),I=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o.points=[],o}return O(t,e),x([Object(n.q)("Straight")],t.prototype,"type",void 0),t}(n.d),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.getClassName=function(){return"StraightSegment"},x([Object(n.g)({x:0,y:0},o.a)],t.prototype,"point",void 0),t}(I),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.getClassName=function(){return"BezierSegment"},x([Object(n.g)({x:0,y:0},o.a)],t.prototype,"point1",void 0),x([Object(n.g)({x:0,y:0},o.a)],t.prototype,"point2",void 0),x([Object(n.g)({angle:0,distance:0},C)],t.prototype,"vector1",void 0),x([Object(n.g)({angle:0,distance:0},C)],t.prototype,"vector2",void 0),t}(A),z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),t.prototype.getClassName=function(){return"OrthogonalSegment"},x([Object(n.q)(null)],t.prototype,"length",void 0),x([Object(n.q)(null)],t.prototype,"direction",void 0),t}(I);function D(e,t,i){var n=e.center,r=i?45:180/(2+2/(e.height/e.width)),o=r,a=180-r,s=a+2*r,c=360-r,l=Object(h.a)(t,n);return l>o&&l<a?"top":l>a&&l<s?"right":l>s&&l<c?"bottom":"left"}function L(e){return!e.distance&&!e.angle}function R(e,t,i){var n=60,r={x:0,y:0};switch(i||(i=Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.x<t.x?"right":"left":e.y<t.y?"bottom":"top"),i){case"bottom":case"top":n=Math.min(.45*Math.abs(e.y-t.y),n),r={x:e.x,y:e.y+("bottom"===i?n:-n)};break;case"right":case"left":n=Math.min(.45*Math.abs(e.x-t.x),n),r={x:e.x+("right"===i?n:-n),y:e.y}}return r}function N(e,t,i,n,r){var o=0,a=0,s=0,c=0,l=Number((r.distance(t,e)+r.distance(i,t)+r.distance(n,i))/3);if(0!==l)for(var h=0;h<=l;h++){var d=h/l,p=(1-d)*(1-d)*(1-d)*e.x+3*d*(1-d)*(1-d)*t.x+3*d*d*(1-d)*i.x+d*d*d*n.x,u=(1-d)*(1-d)*(1-d)*e.y+3*d*(1-d)*(1-d)*t.y+3*d*d*(1-d)*i.y+d*d*d*n.y;0===h?(o=s=p,a=c=u):(o=Math.min(p,o),a=Math.min(u,a),s=Math.max(p,s),c=Math.max(u,c))}return{x:o,y:a,width:s-o,height:c-a,left:o,top:a,right:o+(s-o),bottom:a+(c-a),center:{x:(o+(s-o))/2,y:(a+(c-a))/2}}}function H(e,t,i,n,r,o,a){var s={x:0,y:0},c=o/a,l=(1-c)*(1-c)*(1-c)*t.x+3*c*(1-c)*(1-c)*i.x+3*c*c*(1-c)*n.x+c*c*c*r.x;s.x=l;var h=(1-c)*(1-c)*(1-c)*t.y+3*c*(1-c)*(1-c)*i.y+3*c*c*(1-c)*n.y+c*c*c*r.y;return s.y=h,s}var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)(!0)],t.prototype,"optional",void 0),x([Object(n.q)(void 0)],t.prototype,"lowerBounds",void 0),x([Object(n.q)(void 0)],t.prototype,"upperBounds",void 0),t}(n.d),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)("OneToOne")],t.prototype,"type",void 0),x([Object(n.g)({},_)],t.prototype,"target",void 0),x([Object(n.g)({},_)],t.prototype,"source",void 0),t}(n.d),W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return O(t,e),x([Object(n.q)("UmlClassifier")],t.prototype,"type",void 0),x([Object(n.q)("Aggregation")],t.prototype,"relationship",void 0),x([Object(n.q)("Directional")],t.prototype,"associationType",void 0),x([Object(n.g)({},B)],t.prototype,"multiplicity",void 0),t}(E),q=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o.parentId="",o.bridges=[],o.status="None",o.shape&&"UmlActivity"===o.shape.type&&Object(d.N)(n,o),o}return O(t,e),t.prototype.init=function(e){var t;this.id||(this.id=Object(p.i)());var i=new g.a,n=new u.a;n.id=this.id+"_path";var r,a=new u.a,s=new u.a;n=this.getSegmentElement(this,n);var l=[];switch(l=this.getConnectorPoints(this.type),l=this.clipDecorators(this,l),r=c.a.toBounds(l),i.width=r.width,i.height=r.height,i.offsetX=r.x+i.pivot.x*r.width,i.offsetY=r.y+i.pivot.y*r.height,this.shape.type){case"Bpmn":switch(this.shape.flow){case"Sequence":t=this.getBpmnSequenceFlow();break;case"Association":(t=new u.a).visible=!1,this.getBpmnAssociationFlow();break;case"Message":t=this.getBpmnMessageFlow(),n=this.getSegmentElement(this,n),this.updateShapePosition(this,t)}break;case"UmlActivity":switch(this.shape.flow){case"Object":this.getUMLObjectFlow();break;case"Exception":this.getUMLExceptionFlow(n)}break;case"UmlClassifier":this.getConnectorRelation()}var h=this.intermediatePoints;if("Bezier"===this.type){var d=this.segments[0],f=this.segments[this.segments.length-1];h=[o.a.isEmptyPoint(f.point2)?f.bezierPoint2:f.point2,o.a.isEmptyPoint(d.point1)?d.bezierPoint1:d.point1]}var m=e.getDescription;this.sourceWrapper&&this.sourceWrapper.style.strokeWidth;if(a=this.getDecoratorElement(l[0],h[1],this.sourceDecorator,!0,m),s=this.getDecoratorElement(l[l.length-1],h[h.length-2],this.targetDecorator,!1,m),a.id=this.id+"_srcDec",s.id=this.id+"_tarDec",n.style=this.style,n.style.fill="transparent",void 0!==m){var y=m(this,e);n.description=y||this.id}i.style.strokeColor="transparent",i.style.fill="transparent",i.style.strokeWidth=0,i.children=[n,a,s],i.id=this.id,void 0!==t&&i.children.push(t),i.offsetX=n.offsetX,i.offsetY=n.offsetY,i.width=n.width,i.height=n.height;for(var v=0;this.annotations,v<this.annotations.length;v++)i.children.push(this.getAnnotationElement(this.annotations[v],this.intermediatePoints,r,m,e.element.id));return this.wrapper=i,i},t.prototype.getConnectorRelation=function(){var e=this.shape;"Association"===e.relationship?(this.segments[0].type="Straight",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow",this.style.strokeWidth=2):"Inheritance"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow",this.targetDecorator.style.fill="white",this.style.strokeWidth=2,this.style.strokeDashArray="4 4"):"Composition"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="Diamond",this.targetDecorator.shape="None",this.sourceDecorator.style.fill="black",this.style.strokeWidth=2):"Aggregation"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="Diamond",this.targetDecorator.shape="None",this.sourceDecorator.style.fill="white",this.style.strokeWidth=2):"Dependency"===e.relationship?(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="OpenArrow",this.sourceDecorator.style.fill="white",this.style.strokeWidth=2,this.style.strokeDashArray="4 4"):"Realization"===e.relationship&&(this.segments[0].type="Orthogonal",this.sourceDecorator.shape="None",this.targetDecorator.shape="Arrow",this.sourceDecorator.style.fill="white",this.style.strokeWidth=2),"BiDirectional"===e.associationType&&(this.sourceDecorator.shape="None",this.targetDecorator.shape="None");var t,i,n,r,o="",a="";e.multiplicity.source&&(e.multiplicity.source.lowerBounds=e.multiplicity.source.lowerBounds,e.multiplicity.source.upperBounds=e.multiplicity.source.upperBounds),e.multiplicity.target&&(e.multiplicity.target.lowerBounds=e.multiplicity.target.lowerBounds,e.multiplicity.target.upperBounds=e.multiplicity.target.upperBounds),i=e.multiplicity.source,n=e.multiplicity.target,r=i.upperBounds?i.lowerBounds+"..."+i.upperBounds:i.lowerBounds,t=n.upperBounds?n.lowerBounds+"..."+n.upperBounds:n.lowerBounds,"ManyToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,o=r||"*",a="1"),"OneToMany"===e.multiplicity.type&&(e.multiplicity.source.optional=!1,a=t||"*",o="1"),"ManyToOne"===e.multiplicity.type&&(o=r||"*",a=t||"*"),"OneToOne"===e.multiplicity.type&&(e.multiplicity.target.optional=!1,e.multiplicity.source.optional=!1,o="1",a="1"),this.annotations=[{id:this.id+"sourcelabel",content:o,offset:0,alignment:"Before",margin:{right:5,bottom:5}},{id:this.id+"targetlabel",content:a,offset:1,alignment:"Before",margin:{right:5,bottom:5}}]},t.prototype.getBpmnSequenceFlow=function(){var e=new u.a,t=new u.a;if("Normal"===this.shape.sequence&&"Bezier"!==this.type&&(this.targetDecorator.shape="Arrow",this.targetDecorator.style.fill="black"),"Default"===this.shape.sequence){e=this.getSegmentElement(this,e);var i=this.intermediatePoints;t=Object(d.R)(i,this),this.targetDecorator.shape="Arrow",this.targetDecorator.style.fill="black"}return"Conditional"===this.shape.sequence&&(this.targetDecorator.shape="Arrow",this.sourceDecorator.shape="Diamond",t.id=this.id+this.shape.type,this.sourceDecorator.style.fill="white",this.targetDecorator.style.fill="black",this.sourceDecorator.width=20,this.sourceDecorator.height=10),t},t.prototype.getUMLObjectFlow=function(){if(this.annotations)for(var e=0;e<this.annotations.length;e++)this.annotations[e].content="["+this.annotations[e].content+"]"},t.prototype.getUMLExceptionFlow=function(e){this.type="Straight";var t=this.shape.exceptionFlowHeight/2,i={x:(this.targetPoint.x+this.sourcePoint.x)/2,y:(this.targetPoint.y+this.sourcePoint.y)/2},n=i.x-this.sourcePoint.x,r=i.y-this.sourcePoint.y,o=t/Math.sqrt(n*n+r*r),a={x:i.x-n*o,y:i.y-r*o},s={x:i.x+n*o,y:i.y+r*o},c=Object(b.a)();Object(b.c)(c,315,i.x,i.y),this.segments=[];var l=new A(this,"segments",{type:"Straight",point:Object(b.e)(c,s)},!0);this.segments.push(l),l=new A(this,"segments",{type:"Straight",point:Object(b.e)(c,a)},!0),this.segments.push(l),e=this.getSegmentElement(this,e)},t.prototype.getBpmnAssociationFlow=function(){"Default"===this.shape.association&&(this.targetDecorator.shape="Arrow",this.targetDecorator.style.fill="black"),"Directional"===this.shape.association&&(this.style.strokeDashArray="2 2",this.targetDecorator.style.fill="black",this.targetDecorator.shape="Arrow"),"BiDirectional"===this.shape.association&&(this.style.strokeDashArray="2 2",this.targetDecorator.shape="Arrow",this.targetDecorator.style.fill="black",this.sourceDecorator.shape="Arrow",this.sourceDecorator.style.fill="white",this.sourceDecorator.width=5,this.sourceDecorator.height=10)},t.prototype.getBpmnMessageFlow=function(){var e=new u.a;return this.style.strokeDashArray="4 4",this.targetDecorator.shape="Arrow",this.targetDecorator.width=5,this.targetDecorator.height=10,this.sourceDecorator.shape="Circle","InitiatingMessage"!==this.shape.message&&"NonInitiatingMessage"!==this.shape.message||(e.id=this.id+"_"+this.shape.message,e.width=25,e.height=15,e.data="M0,0 L19.8,12.8 L40,0 L0, 0 L0, 25.5 L40, 25.5 L 40, 0",e.horizontalAlignment="Center",e.verticalAlignment="Center",e.transform=s.s.Self,e.style.fill="NonInitiatingMessage"===this.shape.message?"lightgrey":"white"),e},t.prototype.distance=function(e,t){return Object(d.j)(e,t)},t.prototype.findPath=function(e,t){return Object(d.n)(e,t)},t.prototype.getAnnotationElement=function(e,t,i,n,r){var o,s;e.id=e.id||Object(p.i)(),r&&e.template?(o=new w.a(this.id,r,e.id)).content=e.template:((o=new a.a).content=e.content,o.style.textOverflow="Wrap"),o.constraints=e.constraints,o.visible=e.visibility,o.rotateAngle=e.rotateAngle,o.horizontalAlignment=e.horizontalAlignment,o.verticalAlignment=e.verticalAlignment,o.width=e.width,o.height=e.height,void 0===i.width||e.template||(o.width=(e.width||i.width)-e.margin.left-e.margin.right),o.margin=e.margin,o.id=this.id+"_"+e.id,0===i.width&&(i.width=this.style.strokeWidth),0===i.height&&(i.height=this.style.strokeWidth),o.style=e.style;var c=Object(p.f)(n);return c&&(s=c(e,this)),o.description=s||o.id,this.updateAnnotation(e,t,i,o),o},t.prototype.updateAnnotation=function(e,t,i,n,r){var o,a,s,c,l,h,p,u,f={x:0,y:0};n instanceof w.a||r||n.refreshTextElement(),n.width=e.width||i.width,a=(o=Object(d.q)(t,e,i)).point,e.segmentAngle&&(n.rotateAngle=e.rotateAngle+o.angle,n.rotateAngle=(n.rotateAngle+360)%360),0===i.width&&(i.width=this.style.strokeWidth),0===i.height&&(i.height=this.style.strokeWidth),h={x:(a.x-i.x)/i.width,y:(a.y-i.y)/i.height},f.x=i.width*h.x,f.y=i.height*h.y,c=(s=Object(d.b)(e,o.angle,t)).hAlign,l=s.vAlign,"left"===c?(p="Left",f.x+=e.displacement.x):"right"===c?(p="Right",f.x-=e.displacement.x):"center"===c&&(p="Center"),"top"===l?(u="Top",f.y+=e.displacement.y):"bottom"===l?(u="Bottom",f.y-=e.displacement.y):"center"===l&&(u="Center"),n.horizontalAlignment=p,n.verticalAlignment=u,n.setOffsetWithRespectToBounds(f.x,f.y,"Absolute"),n.relativeMode="Point"},t.prototype.getConnectorPoints=function(e,t,i){Math.abs(this.sourcePoint.x-this.targetPoint.x),Math.abs(this.sourcePoint.y-this.targetPoint.y);var n=Object(h.b)(this,i).slice(0);return n&&n.length>0&&(this.sourcePoint=n[0],this.targetPoint=n[n.length-1]),n},t.prototype.clipDecorator=function(e,t,i){var n,r,a={x:0,y:0},s=t.length;n=i?t[0]:t[s-1],r=i?t[1]:t[s-2];var c=o.a.distancePoints(n,r);c=0===c?1:c;var l=e.style.strokeWidth-1;a.x=Math.round(n.x+l*(r.x-n.x)/c),a.y=Math.round(n.y+l*(r.y-n.y)/c);var h=1,d=i?e.sourceWrapper:e.targetWrapper;return d&&(h=d.style.strokeWidth),(i&&"None"!==e.sourceDecorator.shape||!i&&"None"!==e.targetDecorator.shape)&&(a=o.a.adjustPoint(a,r,!0,h/2)),a},t.prototype.clipDecorators=function(e,t){return"None"!==e.sourceDecorator.shape&&(t[0]=this.clipDecorator(e,t,!0)),"None"!==e.targetDecorator.shape&&(t[t.length-1]=this.clipDecorator(e,t,!1)),t},t.prototype.updateSegmentElement=function(e,t,i){var n,r=new c.a;if(n=this.getSegmentPath(e,t),"Bezier"===e.type){if(this.segments.length>0)for(var a=0;a<this.segments.length;a++){var s=this.segments[a],l=e.segments[a],h=o.a.isEmptyPoint(s.point1)?l.bezierPoint1:l.point1,d=o.a.isEmptyPoint(s.point2)?l.bezierPoint2:l.point2;r.uniteRect(N(s.points[0],h,d,s.points[1],e))}}else r=c.a.toBounds(t);return i.width=r.width,i.height=r.height,i.offsetX=r.x+i.width/2,i.offsetY=r.y+i.height/2,i.data=n,e.wrapper&&(e.wrapper.offsetX=i.offsetX,e.wrapper.offsetY=i.offsetY,e.wrapper.width=r.width,e.wrapper.height=r.height),i},t.prototype.getSegmentElement=function(e,t,i){var n;return Object(d.p)(e),n=this.getConnectorPoints(e.type,void 0,i),this.intermediatePoints=n,t.staticSize=!0,t=this.updateSegmentElement(e,n,t)},t.prototype.getDecoratorElement=function(e,t,i,n,r){var o=new u.a;if(o.transform=s.s.Self,this.updateDecoratorElement(o,e,t,i),void 0!==r){var a=r(i,this);o.description=a||"source"}return o},t.prototype.bridgePath=function(e,t,i){var n=t;if(e.bridges.length>0)if("Straight"===e.type&&e.segments.length<2)for(var r=0;r<e.bridges.length;r++){(o=e.bridges[r]).rendered||(n+=" L"+o.startPoint.x+" "+o.startPoint.y,n+=o.path,o.rendered=!0)}else if("Orthogonal"===e.type||"Straight"===e.type&&e.segments.length>1)for(r=0;r<e.bridges.length;r++){var o;(o=e.bridges[r]).segmentPointIndex===i&&(o.rendered||o.segmentPointIndex===i&&(n+=" L"+o.startPoint.x+" "+o.startPoint.y,n+=o.path,o.rendered=!0))}return n},t.prototype.updateDecoratorElement=function(e,t,i,n){var r,a;e.offsetX=t.x,e.offsetY=t.y,a=o.a.findAngle(t,i),r=Object(m.a)(n.shape,n);var s=new l.a(n.width,n.height);e.pivot.x=n.pivot.x,e.pivot.y=n.pivot.y,e.style=n.style,e.rotateAngle=a,e.data=r,e.canMeasurePath=!0,e.width=s.width,e.height=s.height},t.prototype.getSegmentPath=function(e,t){for(var i,n,r,a="",s=[],c=0;c<t.length;)s.push({x:t[c].x,y:t[c].y}),c++;for(var l=0;l<e.bridges.length;l++){e.bridges[l].rendered=!1}if(s=this.clipDecorators(e,s),this.cornerRadius>0&&"Bezier"!==this.type)for(var h=0;h<s.length-1;h++){i=s[h],0===h&&(a="M"+i.x+" "+i.y);var d=o.a.distancePoints(s[h],s[h+1]);d>0&&(n=h<s.length-2?d<2*this.cornerRadius?o.a.adjustPoint(s[h],s[h+1],!1,d/2):o.a.adjustPoint(s[h],s[h+1],!1,this.cornerRadius):s[h+1],h>0&&(d<2*this.cornerRadius?(r=o.a.adjustPoint(s[h],s[h+1],!0,d/2),h<s.length-2&&(n=null)):r=o.a.adjustPoint(s[h],s[h+1],!0,this.cornerRadius)),r&&(a+="Q"+i.x+" "+i.y+" "+r.x+" "+r.y),n&&(e.bridges.length>0&&(a=this.bridgePath(e,a,h),"Orthogonal"===e.type&&(a=this.bridgePath(e,a,h+1))),a+=" L"+n.x+" "+n.y))}else if("Bezier"===this.type){for(var p=void 0,u=this.segments,f=0;f<u.length;f++)s.length>2&&(u[f].bezierPoint1={x:0,y:0},u[f].bezierPoint2={x:0,y:0}),!o.a.isEmptyPoint(u[f].point1)||u[f].vector1.angle||u[f].vector1.distance?u[f].vector1.angle||u[f].vector1.distance?u[f].bezierPoint1=o.a.transform(s[f],u[f].vector1.angle,u[f].vector1.distance):u[f].bezierPoint1={x:u[f].point1.x||u[f].bezierPoint1.x,y:u[f].point1.y||u[f].bezierPoint1.y}:((e.sourceID||this.sourcePortID)&&this.sourceWrapper&&(p=D(this.sourceWrapper.bounds,s[f],!0)),u[f].bezierPoint1=R(s[f],s[f+1],p)),!o.a.isEmptyPoint(u[f].point2)||u[f].vector2.angle||u[f].vector2.distance?u[f].vector2.angle||u[f].vector2.distance?u[f].bezierPoint2=o.a.transform(s[f+1],u[f].vector2.angle,u[f].vector2.distance):u[f].bezierPoint2={x:u[f].point2.x||u[f].bezierPoint2.x,y:u[f].point2.y||u[f].bezierPoint2.y}:((e.targetID||this.targetPortID)&&this.targetWrapper&&(p=D(this.targetWrapper.bounds,s[f+1],!0)),u[f].bezierPoint2=R(s[f+1],s[f],p));s.splice(1,0,{x:u[0].bezierPoint1.x,y:u[0].bezierPoint1.y}),s.splice(s.length-1,0,{x:u[u.length-1].bezierPoint2.x,y:u[u.length-1].bezierPoint2.y}),s=this.clipDecorators(e,s);for(var g=0;g<u.length;g++){0===g&&(a="M"+s[0].x+" "+s[0].y);var m=g===u.length-1?s[s.length-1].x+" "+s[s.length-1].y:u[g].points[u[g].points.length-1].x+" "+u[g].points[u[g].points.length-1].y;a+="C"+u[g].bezierPoint1.x+" "+u[g].bezierPoint1.y+" "+u[g].bezierPoint2.x+" "+u[g].bezierPoint2.y+" "+m}}else for(var y=0;y<s.length;y++)i=s[y],0===y&&(a="M"+i.x+" "+i.y),y>0&&(a=this.bridgePath(e,a,y),a+=" L"+i.x+" "+i.y);return a},t.prototype.updateShapeElement=function(e){var t;switch(e.shape.type){case"Bpmn":e.wrapper.children[3]instanceof u.a&&(t=e.wrapper.children[3]),"Message"===e.shape.flow&&this.updateShapePosition(e,t);break;case"UmlActivity":"Exception"===e.shape.flow&&this.getUMLExceptionFlow(e.wrapper.children[0])}},t.prototype.updateShapePosition=function(e,t){for(var i,n,r=0,a=this.intermediatePoints,s=0;s<a.length-1;s++){var c=.5*(r+=this.distance(a[s],a[s+1]));r>=c&&(i=Object(h.a)(a[s],a[s+1]),n=o.a.transform(a[s],i,c))}t.offsetX=n.x,t.offsetY=n.y},t.prototype.scale=function(e,t,i,n,r){var o=0,a=0;if(this.wrapper&&this.wrapper.outerBounds){var s=Object(h.f)(this),c=(this.wrapper.bounds.width||this.style.strokeWidth||1)-2,l=(this.wrapper.bounds.height||this.style.strokeWidth||1)-2;o=s.width-c,a=s.height-l,e=(i-Math.max(o,a))/c,t=(n-Math.max(o,a))/l,o=a=Math.min(o,a)}e=t=Math.min(e,t);var p=Object(b.a)();r=r||this.wrapper,Object(b.c)(p,-r.rotateAngle,r.offsetX,r.offsetY),Object(b.d)(p,e,t,r.offsetX,r.offsetY),Object(b.c)(p,r.rotateAngle,r.offsetX,r.offsetY);var u=Object(b.f)(p,this.intermediatePoints);return this.sourcePoint=u[0],this.targetPoint=u[u.length-1],u=this.intermediatePoints=Object(h.b)(this),Object(d.P)(this,u),{x:o,y:a}},t.prototype.getClassName=function(){return"Connector"},x([Object(n.h)(j)],t.prototype,"shape",void 0),x([Object(n.q)(s.b.Default)],t.prototype,"constraints",void 0),x([Object(n.q)(10)],t.prototype,"bridgeSpace",void 0),x([Object(n.e)([],f.b)],t.prototype,"annotations",void 0),x([Object(n.g)({},o.a)],t.prototype,"sourcePoint",void 0),x([Object(n.g)({},o.a)],t.prototype,"targetPoint",void 0),x([Object(n.f)(S)],t.prototype,"segments",void 0),x([Object(n.q)("")],t.prototype,"sourceID",void 0),x([Object(n.q)("")],t.prototype,"targetID",void 0),x([Object(n.q)(10)],t.prototype,"hitPadding",void 0),x([Object(n.q)("Straight")],t.prototype,"type",void 0),x([Object(n.q)(0)],t.prototype,"cornerRadius",void 0),x([Object(n.g)({shape:"None"},P)],t.prototype,"sourceDecorator",void 0),x([Object(n.g)({shape:"Arrow"},P)],t.prototype,"targetDecorator",void 0),x([Object(n.g)({},v.a)],t.prototype,"tooltip",void 0),x([Object(n.q)("")],t.prototype,"sourcePortID",void 0),x([Object(n.q)("")],t.prototype,"targetPortID",void 0),x([Object(n.q)(0)],t.prototype,"sourcePadding",void 0),x([Object(n.q)(0)],t.prototype,"targetPadding",void 0),x([Object(n.g)({strokeWidth:1,strokeColor:"black"},r.e)],t.prototype,"style",void 0),x([Object(n.q)(null)],t.prototype,"wrapper",void 0),t}(y.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(e,t,i,n){this.x=Number.MAX_VALUE,this.y=Number.MAX_VALUE,this.width=0,this.height=0,void 0===e||void 0===t?(e=t=Number.MAX_VALUE,i=n=0):(void 0===i&&(i=0),void 0===n&&(n=0)),this.x=e,this.y=t,this.width=i,this.height=n}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return{x:this.left,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return{x:this.right,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return{x:this.left,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return{x:this.right,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleLeft",{get:function(){return{x:this.left,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleRight",{get:function(){return{x:this.right,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topCenter",{get:function(){return{x:this.x+this.width/2,y:this.top}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomCenter",{get:function(){return{x:this.x+this.width/2,y:this.bottom}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return{x:this.x+this.width/2,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),e.prototype.equals=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},e.prototype.uniteRect=function(e){var t=Math.max(Number.NaN===this.right||this.x===Number.MAX_VALUE?e.right:this.right,e.right),i=Math.max(Number.NaN===this.bottom||this.y===Number.MAX_VALUE?e.bottom:this.bottom,e.bottom);return this.x=Math.min(this.left,e.left),this.y=Math.min(this.top,e.top),this.width=t-this.x,this.height=i-this.y,this},e.prototype.unitePoint=function(e){if(this.x===Number.MAX_VALUE)return this.x=e.x,void(this.y=e.y);var t=Math.min(this.left,e.x),i=Math.min(this.top,e.y),n=Math.max(this.right,e.x),r=Math.max(this.bottom,e.y);this.x=t,this.y=i,this.width=n-this.x,this.height=r-this.y},e.prototype.Inflate=function(e){return this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e,this},e.prototype.intersects=function(e){return!(this.right<e.left||this.left>e.right||this.top>e.bottom||this.bottom<e.top)},e.prototype.containsRect=function(e){return this.left<=e.left&&this.right>=e.right&&this.top<=e.top&&this.bottom>=e.bottom},e.prototype.containsPoint=function(e,t){return void 0===t&&(t=0),this.left-t<=e.x&&this.right+t>=e.x&&this.top-t<=e.y&&this.bottom+t>=e.y},e.toBounds=function(t){for(var i=new e,n=0,r=t;n<r.length;n++){var o=r[n];i.unitePoint(o)}return i},e.empty=new e(Number.MAX_VALUE,Number.MIN_VALUE,0,0),e}()},function(e,t,i){"use strict";i.d(t,"j",function(){return u}),i.d(t,"m",function(){return g}),i.d(t,"h",function(){return b}),i.d(t,"r",function(){return w}),i.d(t,"c",function(){return x}),i.d(t,"d",function(){return S}),i.d(t,"e",function(){return P}),i.d(t,"t",function(){return C}),i.d(t,"k",function(){return E}),i.d(t,"w",function(){return T}),i.d(t,"g",function(){return k}),i.d(t,"v",function(){return A}),i.d(t,"u",function(){return M}),i.d(t,"a",function(){return z}),i.d(t,"b",function(){return L}),i.d(t,"s",function(){return N}),i.d(t,"l",function(){return H}),i.d(t,"i",function(){return _}),i.d(t,"o",function(){return B}),i.d(t,"q",function(){return q}),i.d(t,"n",function(){return U}),i.d(t,"p",function(){return Y}),i.d(t,"f",function(){return V});var n=i(7),r=i(27),o=i(1),a=i(2),s=i(22),c=i(13),l=i(9),h=i(20),d=i(11),p=i(15);function u(e,t,i){var n=[],r=[],o=0,s=i.shape,c="Horizontal"===s.orientation;if(s.header&&s.hasHeader&&y(n,s.header.height),function(e,t,i){var n,r=0,o=i.shape;if(e.length>0)for(var a=0;a<e.length;a++)r+=e[a].height;if(t){if(o.phases.length>0&&o.phaseSize&&(r+=o.phaseSize,y(e,o.phaseSize)),o.lanes.length>0)for(var a=0;a<o.lanes.length;a++)n=o.lanes[a].height,r+=n,a===o.lanes.length-1&&r<i.height&&(n+=i.height-r),y(e,n)}else if(o.phases.length>0)for(var s=0,a=0;a<o.phases.length;a++){var c=o.phases[a].offset;s+=0===a?c:c-=s,r+=n=c,a===o.phases.length-1&&r<i.height&&(n+=i.height-r),y(e,n)}else y(e,i.height)}(n,c,i),function(e,t,i){var n,r,o,a,s=0,c=i.shape;if(c.phases.length>0&&"Horizontal"===c.orientation)for(a=0;a<c.phases.length;a++)n=c.phases[a].offset,s+=0===a?n:n-=s,r=v(n),a===c.phases.length-1&&s<i.width&&(r.width+=i.width-s),e.push(r);else if(t)r=v(i.width),e.push(r);else for(c.phaseSize&&c.phases.length>0?c.lanes.length+1:c.lanes.length,c.phaseSize&&c.phases.length>0&&(s+=c.phaseSize,r=v(c.phaseSize),e.push(r)),o=0;o<c.lanes.length;o++)s+=c.lanes[o].width,r=v(c.lanes[o].width),o===c.lanes.length-1&&s<i.width&&(r.width+=i.width-s),e.push(r)}(r,c,i),e.setDefinitions(n,r),s.header&&s.hasHeader&&(!function(e,t,i){for(var n=0,r=e.columnDefinitions(),o=i.shape,a=0;a<r.length;a++)n+=r[a].width;var s={annotations:[{content:o.header.annotation.content}],style:o.header.style?o.header.style:void 0,offsetX:i.offsetX,offsetY:i.offsetY,rowIndex:0,columnIndex:0,maxWidth:n,container:{type:"Canvas",orientation:"Horizontal"}},c=f(t,e,i,s,!0);e.addObject(c,0,0,1,e.columnDefinitions().length)}(e,t,i),o++),s.phases.length>0&&s.phaseSize){for(var l=0;l<s.phases.length;l++)""===s.phases[l].id&&(s.phases[l].id=Object(a.i)()),g(e,t,i,o,c,l);o++}if(s.lanes.length>0)for(l=0;l<s.lanes.length;l++)""===s.lanes[l].id&&(s.lanes[l].id=Object(a.i)()),m(e,t,i,o,l,c),o++}function f(e,t,i,r,a,h,d,p){var u=new n.q(e,"nodes",r,!0);if(u.parentId=i.id,u.isHeader=!!a,u.isPhase=!!h,u.isLane=!!d,p&&(u[h?"PhaseHeaderParent":"LaneHeaderParent"]=p),u.constraints&=~(o.k.InConnect|o.k.OutConnect),u.constraints|=o.k.HideThumbs,e.initObject(u),e.nodes.push(u),u.wrapper.children.length>0){for(var f=0;f<u.wrapper.children.length;f++){var g=u.wrapper.children[f];g instanceof s.a&&(g.isCalculateDesiredSize=!1),g instanceof c.a&&(g.canConsiderBounds=!1,(!a&&"Vertical"===i.shape.orientation&&h||"Vertical"!==i.shape.orientation&&d)&&(g.isLaneOrientation=!0,g.refreshTextElement()))}u.wrapper.measure(new l.a(void 0,void 0)),u.wrapper.arrange(u.wrapper.desiredSize)}return u.wrapper}function g(e,t,i,n,r,o){var a,s=0,c=0,l=i.shape;r?(c=o,s=n,a=e.columnDefinitions()[o].width):s=l.header&&l.hasHeader?o+1:o;var h={annotations:[{content:l.phases[o].header.annotation.content,rotateAngle:r?0:270}],maxWidth:a,id:i.id+l.phases[o].id+"_header",offsetX:i.offsetX,offsetY:i.offsetY,style:l.phases[o].style,rowIndex:s,columnIndex:c,container:{type:"Canvas",orientation:r?"Horizontal":"Vertical"}};l.phases[o].header.id=h.id;var d=f(t,0,i,h,!1,!0,!1,l.phases[o].id);e.addObject(d,s,c)}function m(e,t,i,n,r,a){for(var s,c,l,h,d=i.shape,p=d.phases.length||1,u=d.header&&d.hasHeader?1:0,g=0,m=a?n:u,y=d.phaseSize&&d.phases.length>0?1:0,v=0;v<p;v++)g=a?v:r+y,l=e.rows[m].cells[g],(c=f(t,0,i,{id:i.id+d.lanes[r].id+v,rowIndex:m,columnIndex:g,width:l.minWidth,height:l.minHeight,offsetX:i.offsetX,offsetY:i.offsetY,style:d.lanes[r].style,constraints:o.k.Default|o.k.ReadOnly|o.k.AllowDrop,container:{type:"Canvas",orientation:a?"Horizontal":"Vertical"}},!1,!1,!0)).children[0].isCalculateDesiredSize=!1,0===v&&(s={id:i.id+d.lanes[r].id+"_"+v+"_header",style:d.lanes[r].header.style,annotations:[{content:d.lanes[r].header.annotation.content,rotateAngle:a?270:0}],offsetX:i.offsetX,offsetY:i.offsetY,rowIndex:m,columnIndex:g,container:{type:"Canvas",orientation:a?"Horizontal":"Vertical"}},d.lanes[r].header.id=s.id,a?s.width=d.lanes[r].header.width:s.height=d.lanes[r].header.height,h=f(t,0,i,s,!1,!1,!0,d.lanes[r].id),c.children.push(h)),e.addObject(c,m,g),a||m++,g=a?v:r+1}function y(e,t){var i=new r.c;i.height=t,e.push(i)}function v(e){var t=new r.a;return t.width=e,t}function b(e,t,i,n){for(var r,o,a,s,c,l,h,d=[],p=0,u=t.rowDefinitions().length,f=0;f<u;f++)for(l=t.rows[f],s=0;s<l.cells.length;s++)if((c=l.cells[s].children[0])&&c.children&&c.children.length)for(a=1;a<c.children.length;a++)if(r=c.children[a],(o=e.getObject(r.id))&&(o.inEdges.length>0||o.outEdges.length>0))for(h=o.inEdges.concat(o.outEdges),p=0;p<h.length;p++)-1===d.indexOf(h[p])&&d.push(h[p]);return d}function w(e){var t=e.wrapper;if(t.measure(new l.a(e.width,e.height)),t.children[0]instanceof r.b){var i=t.children[0],n=!1;i.width&&i.width<i.desiredSize.width&&(n=!0,i.width=i.desiredSize.width),i.height&&i.height<i.desiredSize.height&&(n=!0,i.height=i.desiredSize.height),n&&i.measure(new l.a(i.width,i.height))}t.arrange(t.desiredSize)}function O(e,t,i){var n,r,o,a,s,c,l,h,d=t.wrapper.children[0];for(n=i;n<d.rows.length;n++)for(c=d.rows[n],r=0;r<c.cells.length;r++)if((l=c.cells[r]).children&&l.children.length>0)for(o=0;o<l.children.length;o++)h=l.children[o],(a=e.nameTable[h.id]).isLane&&h.children.length>1&&(s=e.nameTable[h.children[1].id])&&s.isLane&&(s.rowIndex=n,s.columnIndex=r),a.rowIndex=n,a.columnIndex=r}function x(e,t){var i,n,r,o,a,s,c,h,d=t.wrapper.children[0],p=t.shape,u=p.padding,f=p.lanes,g=d.bounds.y,m=p.phaseSize>0?p.phases.length:0,y="Horizontal"===p.orientation,v=y?p.phases.length||1:f.length+1,b=y?(p.header&&p.hasHeader?1:0)+(p.phases.length>0?1:0)+p.lanes.length:(p.header&&p.hasHeader?1:0)+p.phases.length;if(0===m&&!y&&p.lanes.length&&(b+=1),y?(i=(p.header&&p.hasHeader?1:0)+(m>0?1:0),n=0):(i=p.header&&p.hasHeader?1:0,n=m>0?1:0),f.length>0)for(g+=p.header&&p.hasHeader?p.header.height:0,s=0;s<f.length;s++){for(c=0;c<f[s].children.length;c++)if((r=f[s].children[c]).offsetX=f[s].width,r.offsetY=f[s].height,e.initObject(r),e.nodes.push(r),o=r.wrapper,y){for(h=n;h<v;h++)if(a=d.rows[i].cells[h],o.margin.left<a.bounds.right-d.bounds.x){r.parentId=a.children[0].id,h>n?o.margin.left=o.margin.left-(a.bounds.left-d.bounds.left):a.children[0].children[1].actualSize.width+u>=o.margin.left&&(o.margin.left=a.children[0].children[1].actualSize.width+u),o.margin.left<u&&(o.margin.left=u),o.margin.top<u&&(o.margin.top=u),j(o,r,e);break}}else for(var w=i;w<b;w++)if(a=d.rows[w].cells[n],o.margin.top<a.bounds.bottom-g){r.parentId=a.children[0].id,w>i?o.margin.top=o.margin.top-(a.bounds.top-g):a.children[0].children[1].actualSize.height+u>=o.margin.top&&(o.margin.top=a.children[0].children[1].actualSize.height+u),o.margin.left<u&&(o.margin.left=u),o.margin.top<u&&(o.margin.top=u),j(o,r,e);break}y?i++:n++}d.measure(new l.a(t.width,t.height)),d.arrange(d.desiredSize),function(e,t){var i,n,r,o,a,s,c=e.columnDefinitions(),l=e.rowDefinitions(),h=I(t);"Vertical"===t.shape.orientation&&0===h&&(h=t.shape.header&&t.shape.hasHeader?1:0);var d=t.shape.padding;for(i=0;i<c.length;i++)e.updateColumnWidth(i,c[i].width,!0,d);for(i=h;i<l.length;i++)e.updateRowHeight(i,l[i].height,!0,d);for(n=0;n<l.length;n++)for(s=e.rows[n],i=0;i<c.length;i++)if((o=s.cells[i]).children&&o.children.length>0)for(r=0;r<o.children.length;r++)(a=o.children[r]).maxWidth&&(a.maxWidth=o.actualSize.width),a.maxHeight&&(a.maxHeight=o.actualSize.height)}(d,t),t.width=t.wrapper.width=d.width,t.height=t.wrapper.height=d.height,M(e,t),t.wrapper.measure(new l.a(t.width,t.height)),t.wrapper.arrange(d.desiredSize),function(e){if("SwimLane"===e.shape.type)for(var t=e.shape.lanes,i=void 0,n=void 0,r=0;r<t.length;r++){i=t[r];for(var o=0;o<i.children.length;o++)(n=i.children[o]).offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY}}(t),P(t,e),S(t)}function j(e,t,i){e.measure(new l.a(t.width,t.height)),e.arrange(e.desiredSize);var n=i.getObject(t.parentId);i.addChild(n,t.id)}function S(e){if("SwimLane"===e.shape.type&&!e.shape.isLane&&!e.shape.isPhase){var t=void 0,i=void 0,n=void 0,r=e.shape.lanes,o=I(e),a=e.wrapper.children[0].rowDefinitions();for(i=0;i<r.length;i++,o++)t=r[i],"Horizontal"===e.shape.orientation?(n=a[o].height,t.height!==n&&(t.height=n)):(n=e.wrapper.children[0].columnDefinitions()[o].width,t.width!==n&&(t.width=n))}}function P(e,t){var i,n,r,o,a=e.shape,s=a.phases,c=a.header&&a.hasHeader?1:0,l=e.wrapper.children[0],h=l.bounds.y+(a.header&&a.hasHeader?a.header.height:0);if("SwimLane"===e.shape.type&&(e=t.getObject(e.id)||e,s.length>0))if(l=e.wrapper.children[0],"Horizontal"===a.orientation)for(r=a.header&&a.hasHeader?l.rows[1]:l.rows[0],i=0;i<s.length;i++)n=(o=r.cells[i].children[0]).bounds.right-l.bounds.x,s[i].offset!==n&&(s[i].offset=n),t.nameTable[o.id].maxWidth=o.maxWidth;else for(i=0;i<s.length;i++)n=(o=l.rows[c+i].cells[0].children[0]).bounds.bottom-h,s[i].offset!==n&&(s[i].offset=n),t.nameTable[o.id].maxWidth=o.maxWidth}function C(e,t){if(e&&e.length>0)for(var i=void 0,n=0;n<e.length;n++)i=t.getObject(e[n]),t.connectorPropertyChange(i,{},{sourceID:i.sourceID,targetID:i.targetID})}function E(e,t,i,n){var r,s,c,h,d,p,u,f,g=e.getObject(t.parentId),m=g.shape,y=g.wrapper.children[0],v=m.lanes,w=b(e,y,t.rowIndex);("Horizontal"===m.orientation&&t.rowIndex!==i.rowIndex||"Vertical"===m.orientation&&t.columnIndex!==i.columnIndex)&&("Horizontal"===m.orientation?(h=t.rowIndex,d=i.rowIndex,r=(m.header&&m.hasHeader?1:0)+(m.phases.length&&m.phaseSize?1:0),(u=t.rowIndex-r)<(f=i.rowIndex-r)?n&&i.wrapper.offsetY>n.y&&(d+=f>0?-1:1,f+=f>0?-1:1):n&&i.wrapper.offsetY<n.y&&(d+=1,f+=1),h!==d&&y.updateRowIndex(h,d)):(h=t.columnIndex,d=i.columnIndex,r=m.phases.length&&m.phaseSize?1:0,u=t.columnIndex-r,f=i.columnIndex-r,m.header&&m.hasHeader?1:0,u<f?n&&i.wrapper.offsetX>n.x&&(d+=f>0?-1:1,f+=f>0?-1:1):n&&i.wrapper.offsetX<n.x&&(d+=1,f+=1),h!==d&&(0===m.phaseSize&&0===d&&m.header&&m.hasHeader&&(y.rows[0].cells[h].children=y.rows[0].cells[0].children,y.rows[0].cells[h].columnSpan=y.rows[0].cells[0].columnSpan,y.rows[0].cells[0].children=[]),y.updateColumnIndex(0,h,d))),h!==d&&(s={target:Object(a.b)(i),source:Object(a.b)(t)},p=v[u],v.splice(u,1),v.splice(f,0,p),c={type:"LanePositionChanged",redoObject:{target:Object(a.b)(s.source),source:Object(a.b)(s.target)},undoObject:s,category:"Internal"},e.diagramActions&o.c.UndoRedo||e.commandHandler.addHistoryEntry(c),O(e,g,0),C(w,e),g.wrapper.measure(new l.a(g.width,g.height)),g.wrapper.arrange(g.wrapper.desiredSize),e.updateDiagramObject(g)))}function T(e,t,i,n){var r=e.getObject(i.id),o=r.shape,a=o.header&&o.hasHeader?1:0,s=o.lanes,c=o.phases,l=n.wrapper.actualSize.width,h=n.wrapper.actualSize.height,d=t.wrapper.actualSize.width,p=t.wrapper.actualSize.height;"SwimLane"===r.shape.type&&("Horizontal"===o.orientation?t.isPhase?c[t.columnIndex].offset+=l-d:(a=o.phaseSize&&o.phases.length>0?a+1:a,s[t.rowIndex-a].height+=h-p):t.isPhase?c[t.rowIndex-a].offset+=h-p:(a=o.phaseSize&&o.phases.length>0?1:0,s[t.columnIndex-a].width+=l-d))}function k(e,t){var i,n=e.shape,r=n.header&&n.hasHeader?1:0;return"Horizontal"===n.orientation?(r+=n.phases.length>0?1:0,i=t.rowIndex-r):i=t.columnIndex-(n.phaseSize&&n.phases.length>0?1:0),i}function I(e){var t=0,i=e.shape;return"Horizontal"===i.orientation&&(t=i.header&&i.hasHeader?1:0),i.phases.length>0&&i.phaseSize&&(t+=1),t}function A(e,t,i,n){var r=e.shape;if(r.phases.length>0){var o=t.nameTable[r.phases[n].header.id];o&&o.maxWidth<i.outerBounds.width&&(o.maxWidth=i.outerBounds.width,o.wrapper.maxWidth=i.outerBounds.width)}}function M(e,t){if(t.shape.header&&t.shape.hasHeader){var i=t.wrapper.children[0].rows[0].cells[0].children[0].id,n=e.nameTable[i];n&&n.isHeader&&n.maxWidth<t.width&&(n.maxWidth=t.width,n.wrapper.maxWidth=t.width)}}function z(e,t,i,s){var c=e.nameTable[t.id];if("SwimLane"===c.shape.type){e.protectPropertyChange(!0);var l,h,d,p,u=c.wrapper.children[0],f=u.bounds,g=c.shape,y=!1,v=void 0,x=void 0,j=void 0,S=void 0,P=void 0,E=void 0,T=void 0,k=void 0;if(j=new n.n(g,"lanes",i,!0),x=g.header&&g.hasHeader?1:0,"Horizontal"===g.orientation&&(y=!0,x=g.phases.length>0?x+1:x),h=b(e,u),x+=d=void 0!==s?s:g.lanes.length,y){var I=new r.c;I.height=i.height,u.addRow(x,I,!1),c.height=void 0!==c.height?c.height+i.height:c.height,c.wrapper.height=u.height=c.height}else{var A=new r.a;A.width=i.width,u.addColumn(d+1,A,!1),c.width&&(c.width+=i.width,c.wrapper.width=u.width=c.width),e.diagramActions&o.c.UndoRedo||(u.rows[0].cells[0].columnSpan+=1)}if(e.diagramActions&o.c.UndoRedo||(j.id+=Object(a.i)()),void 0!==s?g.lanes.splice(s,0,j):g.lanes.push(j),m(u,e,c,x,d,y),l="Horizontal"===g.orientation?e.nameTable[u.rows[x].cells[0].children[0].id]:g.header&&g.hasHeader?e.nameTable[u.rows[1].cells[x].children[0].id]:e.nameTable[u.rows[0].cells[x].children[0].id],e.diagramActions&o.c.UndoRedo||(v={type:"LaneCollectionChanged",changeType:"Insert",undoObject:Object(a.b)(j),redoObject:Object(a.b)(l),category:"Internal"},e.addHistoryEntry(v)),O(e,c,"Horizontal"===g.orientation?x:g.header&&g.hasHeader?1:0),w(c),M(e,c),(p=i.children)&&p.length>0)for(S=0;S<p.length;S++)if(k={x:(T=p[S]).wrapper.offsetX,y:T.wrapper.offsetY},"Horizontal"===g.orientation)for(u.rows[x].cells[P],P=0;P<u.rows[x].cells.length;P++)D(e,u.rows[x].cells[P],k,T);else for(E=0;E<u.rows.length;E++)D(e,u.rows[E].cells[x],k,T);C(h,e),e.drag(c,f.x-u.bounds.x,f.y-u.bounds.y),e.protectPropertyChange(!1)}}function D(e,t,i,n){if(t.children&&t.children.length>0){var r=t.children[0],o=e.nameTable[r.id];r.bounds.containsPoint(i)&&e.addChild(o,n)}}function L(e,t,i){if("SwimLane"===t.shape.type){var s,c=void 0,l=void 0,h=void 0,d=void 0,p=void 0,u=void 0,f=void 0,m=t.wrapper.bounds.x,y=t.wrapper.bounds.y,v=t.shape,b=v.padding,x=v.phases,j=void 0,S=t.wrapper.children[0],C="Horizontal"===v.orientation;if(c=v.header&&v.hasHeader?0:-1,v.phases.length>0&&(c+=1,0),s=C?v.lanes[0].header.width:v.lanes[0].header.height,i.offset>s){for(f=0;f<x.length;f++)if(h=x[f],d=f>0?x[f-1]:h,h.offset>i.offset){if(j=f>0?i.offset-d.offset:i.offset,C){var E=S.columnDefinitions()[f];E.width-=j,(p=e.nameTable[v.phases[f].header.id]).maxWidth=p.wrapper.maxWidth=E.width,S.updateColumnWidth(f,E.width,!1);var T=new r.a;T.width=j,u=f,S.addColumn(f,T,!1);break}var k=S.rowDefinitions()[f+c];k.height-=j,p=e.nameTable[v.phases[f].header.id],S.updateRowHeight(f+c,k.height,!1);var A=new r.c;A.height=j,u=f,S.addRow(f+c,A,!1);break}if(e.diagramActions&o.c.UndoRedo&&void 0===u)(W=e.historyManager.currentEntry.next).isLastPhase&&function(e,t,i,n,o,a){var s=t.shape.phases[e-2],c=i.previousPhase.offset;if(o){var l=n.columnDefinitions()[e-1],h=new r.a;e>1?(h.width=l.width-(c-s.offset),l.width=c-s.offset):(h.width=l.width-c,l.width=c),n.updateColumnWidth(e-1,l.width,!1),n.addColumn(e,h,!1)}else{var l=n.rowDefinitions()[e],d=new r.c;e>1?(d.height=i.undoObject.offset-c,l.height=c-s.offset):(d.height=l.height-c,l.height=c),n.updateRowHeight(e,l.height,!1),n.addRow(1+e,d,!1)}}(u=x.length,t,W,S,C);var z=new n.s(t.shape,"phases",i,!0);if(e.diagramActions&o.c.UndoRedo||(z.id+=Object(a.i)()),v.phases.splice(u,0,z),g(S,e,t,c,C,u),C){if(l=e.nameTable[S.rows[c].cells[u].children[0].id],0===u&&v.header&&v.hasHeader){S.rows[0].cells[0].children=S.rows[0].cells[1].children,S.rows[0].cells[1].children=[];for(var D=S.rows[0],L=0;L<D.cells.length;L++)D.cells[L].minWidth=void 0,D.cells[L].columnSpan=0===L?S.rows[0].cells.length:1}!function(e,t,i,n,r){var o,a,s,c,l,h=t.shape,d=I(t);h.header&&h.hasHeader&&(i.rows[0].cells[0].columnSpan=i.rows[0].cells.length);for(a=d;a<i.rows.length;a++)l=i.rows[a],s=l.cells[n-1],c=l.cells[n],o=l.cells[n+1],R(e,t,s,c,o,a,n);O(e,t,1)}(e,t,S,u);var N=S.columnDefinitions();if(S.updateColumnWidth(u,N[u].width,!0,b),l.maxWidth=l.wrapper.maxWidth=N[u].width,N.length>u+1){var H=e.nameTable[S.rows[c].cells[u+1].children[0].id];S.updateColumnWidth(u+1,N[u+1].width,!0,b),H.maxWidth=H.wrapper.maxWidth=N[u+1].width}t.width=t.wrapper.width=t.wrapper.children[0].width=S.width}else{l=e.nameTable[S.rows[c+u].cells[0].children[0].id];var _=S.rowDefinitions(),B=_[c+u].height;!function(e,t,i,n,r){for(var o,a,s,c=i.rows[n],l=i.rows[n+1],h=i.rows[n-1],d=1;d<c.cells.length;d++)a=c.cells[d],s=l?l.cells[d]:void 0,o=h.cells[d],R(e,t,o,a,s,n,d);O(e,t,1)}(e,t,S,c+u),S.updateRowHeight(c+u,B,!0,b),_.length>c+u+1&&(B=_[c+u+1].height,S.updateRowHeight(c+u+1,B,!0,b)),t.height=t.wrapper.height=t.wrapper.children[0].height=S.actualSize.height}if(w(t),t.width=t.wrapper.actualSize.width,M(e,t),e.drag(t,m-t.wrapper.bounds.x,y-t.wrapper.bounds.y),P(t,e),!(e.diagramActions&o.c.UndoRedo)){var W={type:"PhaseCollectionChanged",changeType:"Insert",undoObject:Object(a.b)(z),redoObject:Object(a.b)(l),category:"Internal"};e.addHistoryEntry(W)}e.updateDiagramObject(t)}}}function R(e,t,i,n,r,s,c){var l,h,p,u,g,m=t.shape,y="Horizontal"===m.orientation,v=t.wrapper.children[0],b=n.desiredCellWidth,w=n.desiredCellHeight,O=y?s:c;if(i?(l=y?i.bounds.x+i.bounds.width:i.bounds.x,h=y?i.bounds.y:i.bounds.y+i.bounds.height):(l=v.bounds.x,h=r.bounds.y),p=new d.a(l,h,b,w),(u=f(e,0,t,{id:t.id+(y?m.lanes[O-2]:m.lanes[O-1]).id+Object(a.i)()[0],rowIndex:s,columnIndex:c,width:n.minWidth,height:n.minHeight,style:(y?m.lanes[O-2]:m.lanes[O-1]).style,constraints:o.k.Default|o.k.AllowDrop,container:{type:"Canvas",orientation:y?"Horizontal":"Vertical"}},!1,!1,!0)).children[0].isCalculateDesiredSize=!1,v.addObject(u,s,c),r&&r.children&&r.children.length)for(g=0;g<r.children.length;g++)y?e.nameTable[r.children[g].id].columnIndex+=1:e.nameTable[r.children[g].id].rowIndex+=1;!function(e,t,i,n,r,o,a){var s,c,l,h=e.nameTable[r.id],d=t||a,p=e.nameTable[h.parentId].shape.padding;if(d.children&&d.children[0].children.length>1)for(var u=1;u<d.children[0].children.length;u++)s=d.children[0].children[u],l=e.nameTable[s.id],c=o?{x:s.bounds.x,y:s.bounds.center.y}:{x:s.bounds.center.x,y:s.bounds.top},n.containsPoint(c)?(i.children[0].children.push(s),d.children[0].children.splice(u,1),u--,e.deleteChild(l),l.isLane||(l.parentId=r.id),h.children||(h.children=[]),t||(o?l.margin.left=l.wrapper.bounds.x-d.children[0].bounds.right:l.margin.top=l.wrapper.bounds.y-d.children[0].bounds.bottom),h.children.push(s.id),l.zIndex=h.zIndex+1,e.removeElements(l)):t&&(o?(l.margin.left-=i.desiredCellWidth,p>l.margin.left&&(l.margin.left=p)):(l.margin.top-=i.desiredCellHeight,p>l.margin.top&&(l.margin.top=p)))}(e,r,n,p,u,y,i)}function N(e,t,i){if("SwimLane"===t.shape.type&&("ResizeSouth"===i||"ResizeEast"===i)){var n=t.shape,r=t.wrapper.children[0],o=void 0,a=void 0;"ResizeSouth"===i?"Vertical"===n.orientation?o=r.rows[r.rows.length-1].cells[0]:(a=r.rows.length-1,o=r.rows[a].cells[r.rows[a].cells.length-1]):(a=n.header&&n.hasHeader?1:0,o=r.rows[a].cells[r.rows[a].cells.length-1]),e.commandHandler.select(e.nameTable[o.children[0].id])}}function H(e,t,i,n,r,o){var s,c,l,h,d,p,u,f,g=Object(a.i)(),m=e.shape,y=m.phases,v=e.offsetX-e.wrapper.actualSize.width/2,b=e.offsetY-e.wrapper.actualSize.height/2;if("Vertical"===m.orientation&&(b+=m.header&&m.hasHeader?m.header.height:0),!o)for(r||(e.id+=g,m&&m.header&&m.hasHeader?m.header.id+=g:m.header=void 0),s=0;y&&s<y.length;s++)y[s].id+=g;for(f=r?[i.childTable[n.id]]:m.lanes,s=0;f&&s<f.length;s++)for(l=f[s],o||(l.id+=g),c=0;l.children&&c<l.children.length;c++)p=(h=l.children[c]).wrapper.offsetX-h.width/2,u=h.wrapper.offsetY-h.height/2,h.zIndex=-1,h.inEdges=h.outEdges=[],(o||i&&(1===i.pasteIndex||0===i.pasteIndex))&&("Vertical"===m.orientation?h.margin.top=u-b:h.margin.left=p-v),o||(h.id+=g);if(!o){if(r)d={shape:{lanes:f,phases:y,phaseSize:m.phaseSize,type:"SwimLane",orientation:m.orientation,header:{annotation:{content:"Title"},height:50}}},"Horizontal"===m.orientation?(d.width=e.wrapper.actualSize.width,d.height=n.wrapper.actualSize.height+m.header.height+m.phaseSize,d.offsetX=e.wrapper.offsetX+10*i.pasteIndex,d.offsetY=n.wrapper.offsetY+10*i.pasteIndex):(d.width=n.wrapper.actualSize.width,d.height=e.wrapper.actualSize.height,d.offsetX=n.wrapper.offsetX+10*i.pasteIndex,d.offsetY=e.wrapper.offsetY+10*i.pasteIndex),e=d;if(0!==i.pasteIndex&&(e.offsetX+=10,e.offsetY+=10),e.zIndex=-1,e=t.add(e),!r)for(var w=0,O=Object.keys(i.childTable);w<O.length;w++){var x=O[w],j=i.childTable[x];j.id+=g,j.sourceID+=g,j.targetID+=g,j.zIndex=-1,t.add(j)}"SVG"!==t.mode&&t.refreshDiagramLayer(),t.select([e])}return e}function _(e,t,i,n){var r,o=t.nodes[0];if(n||Object(p.c)(e,o,!0)){var a,c,d=void 0,u=void 0,f=void 0,g=new s.a;i&&(f=e.nameTable[i].parentId,d=o=e.nameTable[i]),a=i?d.wrapper:o.wrapper,(c=e.nameTable[f||o.parentId])&&"Grid"===c.container.type&&((r=new h.a).children=[],!n&&o.isHeader||("Horizontal"===c.container.orientation&&o.isPhase||"Vertical"===c.container.orientation&&(o.rowIndex>0&&o.columnIndex>0||o.isLane)?(u=Object(p.d)(c,d?d.columnIndex:o.columnIndex,!(!c.shape.header||!c.shape.hasHeader)),r.offsetX=u.center.x,r.offsetY=u.center.y,g.width=u.width,g.height=u.height):(r.offsetX=c.offsetX,r.offsetY=a.offsetY,g.width=c.wrapper.actualSize.width,g.height=a.actualSize.height)),r.children.push(g),r.measure(new l.a),r.arrange(r.desiredSize))}return r}function B(e,t,i,n){for(var r=k(t,i),a=!1,s=t.shape.lanes[r],c=s.children.length-1;c>=0;c--)n?n.id===s.children[c].id&&s.children.splice(c,1):(e.removeDependentConnector(s.children[c]),e.diagramActions&o.c.UndoRedo||(e.diagramActions=e.diagramActions|o.c.UndoRedo,a=!0),e.remove(s.children[c]),s.children.splice(c,1),a&&(e.diagramActions=e.diagramActions&~o.c.UndoRedo))}function W(e){return e.children[0]}function q(e,t){var i,n,r,a,s,c,l=t.wrapper.children[0].rows;for(n=0;n<l.length;n++)for(r=0;r<l[n].cells.length;r++){if((s=W(l[n].cells[r]))&&s.children)for(a=0;a<s.children.length;a++)s.children[a].children&&(c=e.nameTable[s.children[a].id])&&(c.isLane?F(e,c):(e.removeDependentConnector(c),e.diagramActions|=o.c.PreventHistory,e.remove(c),e.diagramActions&=~o.c.PreventHistory,a--));s&&(i=e.nameTable[s.id])&&F(e,i)}}function F(e,t){e.nodes.splice(e.nodes.indexOf(t),1),e.removeFromAQuad(t),e.removeObjectsFromLayer(t),delete e.nameTable[t.id],e.removeElements(t)}function U(e,t,i){var n=i.shape;if(1===n.lanes.length)e.remove(i);else{var r=i.wrapper.bounds.x,s=i.wrapper.bounds.y,c=void 0,l=void 0,h=void 0,d=void 0,p=i.wrapper.children[0],u=k(i,t),f=Object(a.b)(n.lanes[u]);if(B(e,i,t),!(e.diagramActions&o.c.UndoRedo)){var g={type:"LaneCollectionChanged",changeType:"Remove",undoObject:f,redoObject:Object(a.b)(t),category:"Internal"};e.addHistoryEntry(g)}if(n.lanes.splice(u,1),"Horizontal"===n.orientation){for(c=p.rows[t.rowIndex],l=0;l<c.cells.length;l++)if((h=c.cells[l])&&h.children.length>0)for(d=0;d<h.children.length;d++)X(e,h.children[d]);p.removeRow(t.rowIndex)}else{for(i.width=void 0!==i.width?i.width-p.rows[0].cells[t.columnIndex].actualSize.width:i.width,l=0;l<p.rows.length;l++)if((h=p.rows[l].cells[t.columnIndex])&&h.children.length>0)for(d=0;d<h.children.length;d++)X(e,h.children[d]);p.removeColumn(t.columnIndex)}i.width=i.wrapper.width=p.width,i.height=i.wrapper.height=p.height,w(i),O(e,i,t.rowIndex),e.drag(i,r-i.wrapper.bounds.x,s-i.wrapper.bounds.y),e.updateDiagramObject(i)}}function X(e,t){var i,n;if(t instanceof h.a){if(t.children.length>0)for(i=0;i<t.children.length;i++)t.children[i]instanceof h.a&&X(e,t.children[i]);n=e.getObject(t.id),F(e,n)}}function Y(e,t,i){e.protectPropertyChange(!0);i.wrapper.bounds.x,i.wrapper.bounds.y;var n,r=!1,s=i.shape,c=i.wrapper.children[0],l=function(e,t){var i=t.shape,n=i.header&&i.hasHeader?1:0;return"Horizontal"===i.orientation?e.columnIndex:e.rowIndex-n}(t,i),d=s.phases.length;if(s.phases.length>1){l===d-1&&(r=!0,n=Object(a.b)(s.phases[l-1]));var p=Object(a.b)(s.phases[l]);if(s.phases.splice(l,1),!(e.diagramActions&o.c.UndoRedo)){var u={type:"PhaseCollectionChanged",changeType:"Remove",undoObject:p,previousPhase:n,redoObject:Object(a.b)(t),category:"Internal",isLastPhase:r};e.addHistoryEntry(u)}"Horizontal"===s.orientation?function(e,t,i){var n,r,o,a,s,c,l,d,p,u,f,g;for(l=0;l<t.rows.length;l++)if((n=t.rows[l]).cells.length>1&&(r=n.cells[i.columnIndex],o=n.cells.length-1===i.columnIndex?n.cells[i.columnIndex-1]:n.cells[i.columnIndex+1],s=o.children[0],r.children.length>0))if(a=r.children[0],f=e.nameTable[a.id],0===o.children.length&&r.children.length>0)o.children=r.children,o.columnSpan=r.columnSpan-1;else{for(d=0;d<a.children.length;d++){if((u=a.children[d])instanceof h.a){if((g=e.nameTable[u.id]).isLane||(g.parentId=s.id),n.cells.length-1===i.columnIndex&&(g.margin.left=g.wrapper.bounds.x-s.bounds.x,u.margin.left=g.wrapper.bounds.x-s.bounds.x),s.children.push(u),e.nameTable[s.id]){var m=e.nameTable[s.id];m.children||(m.children=[]),m.children.push(u.id)}a.children.splice(d,1),d--,f&&f.children&&-1!==f.children.indexOf(g.id)&&f.children.splice(f.children.indexOf(g.id),1)}if(n.cells.length-1!==i.columnIndex)for(p=0;p<s.children.length;p++){var y=s.children[p];if(y instanceof h.a){var v=e.nameTable[y.id];v.margin.left=v.wrapper.bounds.x-a.bounds.x,y.margin.left=v.wrapper.bounds.x-a.bounds.x}}}if(f&&f.isPhase){var b=e.nameTable[s.id];b&&(s.maxWidth=b.wrapper.maxWidth=b.wrapper.maxWidth+=f.wrapper.maxWidth)}F(e,f)}t.removeColumn(i.columnIndex),i.columnIndex<t.columnDefinitions().length?(c=t.columnDefinitions()[i.columnIndex].width,c+=i.wrapper.actualSize.width,t.updateColumnWidth(i.columnIndex,c,!0)):(c=t.columnDefinitions()[i.columnIndex-1].width,c+=i.wrapper.actualSize.width,t.updateColumnWidth(i.columnIndex-1,c,!0))}(e,c,t):function(e,t,i,n,r){var o,a,s,c,l,d,p,u,f;o=t.rows[i.rowIndex];var g,m,y=r.shape,v=r.wrapper.bounds.y,b=y.phases.length;void 0!==y.header&&y.hasHeader&&(v+=t.rowDefinitions()[0].height);for(s=n===b?t.rows[i.rowIndex-1]:t.rows[i.rowIndex+1],l=0;l<o.cells.length;l++)if(a=o.cells[l],u=s.cells[l],f=u.children[0],a.children.length>0){var w=a.children[0],O=e.nameTable[w.id];if(n<b)for(p=0;p<f.children.length;p++)(g=f.children[p])instanceof h.a&&((m=e.nameTable[g.id]).margin.top=m.wrapper.bounds.y-(0===n?v:w.bounds.y),g.margin.top=m.wrapper.bounds.y-(0===n?v:w.bounds.y));for(d=0;d<w.children.length;d++)(g=w.children[d])instanceof h.a&&((m=e.nameTable[g.id]).parentId=f.id,n===b&&(m.margin.top=m.wrapper.bounds.y-(0===n?v:f.bounds.y),g.margin.top=m.wrapper.bounds.y-(0===n?v:f.bounds.y)),f.children.push(g),w.children.splice(d,1),d--,O.children&&-1!==O.children.indexOf(m.id)&&O.children.splice(O.children.indexOf(m.id),1));F(e,O)}t.removeRow(i.rowIndex),i.rowIndex<t.rowDefinitions().length?(c=t.rowDefinitions()[i.rowIndex].height,c+=i.wrapper.actualSize.height,t.updateRowHeight(i.rowIndex,c,!0)):(c=t.rowDefinitions()[i.rowIndex-1].height,c+=i.wrapper.actualSize.height,t.updateRowHeight(i.rowIndex-1,c,!0))}(e,c,t,l,i),M(e,i),O(e,i,1),P(i,e),e.protectPropertyChange(!1),e.updateDiagramObject(i)}}function V(e,t,i){var n=e.nameTable[t.parentId];if(n&&n.isLane){var r=e.nameTable[n.parentId],o=r.wrapper.children[0];r.wrapper.bounds.x,r.wrapper.bounds.y;o.updateColumnWidth(n.columnIndex,o.columnDefinitions()[n.columnIndex].width,!0,i),o.updateRowHeight(n.rowIndex,o.rowDefinitions()[n.rowIndex].height,!0,i);var a=n.wrapper,s=void 0;t.margin.left<i&&(t.margin.left=i),t.margin.top<i&&(t.margin.top=i);for(var c=0;c<a.children.length;c++){var d=a.children[c];if(d instanceof h.a){var p=e.nameTable[d.id];if(p.isLane){s=p.wrapper,!0;break}}}s&&("Horizontal"===r.shape.orientation?t.margin.left<i+s.actualSize.width&&(t.margin.left=i+s.actualSize.width):t.margin.top<i+s.actualSize.height&&(t.margin.top=i+s.actualSize.height)),r.wrapper.measure(new l.a(r.width,r.height)),r.wrapper.arrange(r.wrapper.desiredSize),t.offsetX=t.wrapper.offsetX,t.offsetY=t.wrapper.offsetY,e.nodePropertyChange(t,{},{margin:{left:t.margin.left,top:t.margin.top}}),o.measure(new l.a(o.width,o.height)),o.arrange(o.desiredSize),r.width=r.wrapper.width=r.wrapper.children[0].actualSize.width,r.height=r.wrapper.height=r.wrapper.children[0].actualSize.height}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(9),r=i(22),o=i(3),a=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(e){function t(){var t=e.call(this)||this;return t.textContent="",t.canMeasure=!0,t.isLaneOrientation=!1,t.canConsiderBounds=!0,t.hyperlink={color:"blue"},t.doWrap=!0,t.textNodes=[],t.style={color:"black",fill:"transparent",strokeColor:"black",strokeWidth:1,fontFamily:"Arial",fontSize:12,whiteSpace:"CollapseSpace",textWrapping:"WrapWithOverflow",textAlign:"Center",italic:!1,bold:!1,textDecoration:"None",strokeDashArray:"",opacity:5,gradient:null,textOverflow:"Wrap"},t.style.fill="transparent",t.style.strokeColor="transparent",t}return a(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this.textContent},set:function(e){this.textContent!==e&&(this.textContent=e,this.isDirt=!0,this.doWrap=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.textNodes},set:function(e){this.textNodes=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrapBounds",{get:function(){return this.textWrapBounds},set:function(e){this.textWrapBounds=e},enumerable:!0,configurable:!0}),t.prototype.refreshTextElement=function(){this.isDirt=!0},t.prototype.measure=function(e){var t;return t=this.isDirt&&this.canMeasure?Object(o.C)(this,this.style,this.content,this.isLaneOrientation?e.height:this.width||e.width):this.desiredSize,void 0===this.width||void 0===this.height?this.desiredSize=new n.a(t.width,t.height):this.desiredSize=new n.a(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return(e.width!==this.actualSize.width||e.height!==this.actualSize.height||this.isDirt)&&(this.doWrap=!0),this.actualSize=e,this.updateBounds(),this.isDirt=!1,this.actualSize},t}(r.a)},function(e,t,i){"use strict";i.d(t,"g",function(){return s}),i.d(t,"a",function(){return c}),i.d(t,"b",function(){return l}),i.d(t,"d",function(){return h}),i.d(t,"c",function(){return f}),i.d(t,"e",function(){return g}),i.d(t,"f",function(){return m});var n=i(0),r=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},a=function(e){switch(e.type){case"Linear":return p;case"Radial":return u;default:return p}},s=function(){return function(e,t,i,n){this.left=e,this.right=t,this.top=i,this.bottom=n}}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)(0)],t.prototype,"left",void 0),o([Object(n.q)(0)],t.prototype,"right",void 0),o([Object(n.q)(0)],t.prototype,"top",void 0),o([Object(n.q)(0)],t.prototype,"bottom",void 0),t}(n.d),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)(45)],t.prototype,"angle",void 0),o([Object(n.q)(5)],t.prototype,"distance",void 0),o([Object(n.q)(.7)],t.prototype,"opacity",void 0),o([Object(n.q)("lightgrey")],t.prototype,"color",void 0),t}(n.d),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getClassName=function(){return"Stop"},o([Object(n.q)("")],t.prototype,"color",void 0),o([Object(n.q)(0)],t.prototype,"offset",void 0),o([Object(n.q)(1)],t.prototype,"opacity",void 0),t}(n.d),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.e)([],h)],t.prototype,"stops",void 0),o([Object(n.q)("None")],t.prototype,"type",void 0),o([Object(n.q)("")],t.prototype,"id",void 0),t}(n.d),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)(0)],t.prototype,"x1",void 0),o([Object(n.q)(0)],t.prototype,"x2",void 0),o([Object(n.q)(0)],t.prototype,"y1",void 0),o([Object(n.q)(0)],t.prototype,"y2",void 0),t}(d),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)(0)],t.prototype,"cx",void 0),o([Object(n.q)(0)],t.prototype,"cy",void 0),o([Object(n.q)(0)],t.prototype,"fx",void 0),o([Object(n.q)(0)],t.prototype,"fy",void 0),o([Object(n.q)(50)],t.prototype,"r",void 0),t}(d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)("white")],t.prototype,"fill",void 0),o([Object(n.q)("black")],t.prototype,"strokeColor",void 0),o([Object(n.q)("")],t.prototype,"strokeDashArray",void 0),o([Object(n.q)(1)],t.prototype,"strokeWidth",void 0),o([Object(n.q)(1)],t.prototype,"opacity",void 0),o([Object(n.h)(a)],t.prototype,"gradient",void 0),t}(n.d),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)("transparent")],t.prototype,"fill",void 0),t}(f),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)("black")],t.prototype,"color",void 0),o([Object(n.q)("Arial")],t.prototype,"fontFamily",void 0),o([Object(n.q)(12)],t.prototype,"fontSize",void 0),o([Object(n.q)(!1)],t.prototype,"italic",void 0),o([Object(n.q)(!1)],t.prototype,"bold",void 0),o([Object(n.q)("CollapseSpace")],t.prototype,"whiteSpace",void 0),o([Object(n.q)("WrapWithOverflow")],t.prototype,"textWrapping",void 0),o([Object(n.q)("Center")],t.prototype,"textAlign",void 0),o([Object(n.q)("None")],t.prototype,"textDecoration",void 0),o([Object(n.q)("Wrap")],t.prototype,"textOverflow",void 0),o([Object(n.q)("transparent")],t.prototype,"fill",void 0),t}(f)},function(e,t,i){"use strict";i.d(t,"i",function(){return p}),i.d(t,"f",function(){return u}),i.d(t,"d",function(){return f}),i.d(t,"g",function(){return g}),i.d(t,"c",function(){return m}),i.d(t,"b",function(){return y}),i.d(t,"a",function(){return b}),i.d(t,"j",function(){return w}),i.d(t,"h",function(){return O}),i.d(t,"e",function(){return x});var n=i(7),r=i(18),o=i(9),a=i(2),s=i(6),c=i(11),l=i(3),h=i(12),d=i(1);function p(e,t,i,n){var r,o=!1;if(m(e,t,!0)){e.protectPropertyChange(!0);var a=(r=e.nameTable[t.parentId]).wrapper;if(r&&"Canvas"===r.container.type){if(n||a.bounds.x<=i.x&&a.bounds.right>=i.x&&a.bounds.y<=i.y&&a.bounds.bottom>=i.y){var s=void 0,c=a.bounds.y,l=a.bounds.x,d=e.nameTable[r.parentId]||r;if("SwimLane"===d.shape.type)o=w(r,d,t,e,!0);else{var p=e.nameTable[r.parentId]||r,u=p.shape;s=p.wrapper,a.actualSize.width<a.outerBounds.width&&!(a.bounds.x>a.outerBounds.x)&&(void 0!==r.rowIndex?(p.columns.length-1,s.updateColumnWidth(r.columnIndex,a.outerBounds.width,!0),"Horizontal"===u.orientation&&u.phaseSize&&Object(h.v)(p,e,a,r.columnIndex),Object(h.u)(e,p),e.drag(p,l-a.bounds.x,c-a.bounds.y)):e.scale(r,1+(a.outerBounds.width-a.actualSize.width)/a.actualSize.width,1,a.outerBounds.x<a.bounds.x?{x:1,y:.5}:{x:0,y:.5})),a.actualSize.height<a.outerBounds.height&&!(a.bounds.y>a.outerBounds.y)&&(void 0!==r.rowIndex?(s.updateRowHeight(r.rowIndex,a.outerBounds.height,!0),e.drag(p,l-a.bounds.x,c-a.bounds.y)):e.scale(r,1,1+(a.outerBounds.height-a.actualSize.height)/a.actualSize.height,a.outerBounds.y<a.bounds.y?{x:.5,y:1}:{x:.5,y:0}))}}e.select([t]),Object(h.t)([],e)}e.protectPropertyChange(!1)}return o}function u(e,t,i,n){var r;if(m(e,t,!0)){e.protectPropertyChange(!0);var o=(r=e.nameTable[t.parentId]).wrapper;if(r&&"Canvas"===r.container.type&&!n&&!(o.bounds.x<=i.x&&o.bounds.right>=i.x&&o.bounds.y<=i.y&&o.bounds.bottom>=i.y)){var s=Object(a.b)(t);e.clearSelection(),v(e,t),t.parentId="";var c={type:"ChildCollectionChanged",category:"Internal",undoObject:s,redoObject:Object(a.b)(t)};e.addHistoryEntry(c),e.commandHandler.isContainer&&(e.commandHandler.isContainer=!1,e.endGroupAction())}}}function f(e,t,i){for(var n=new c.a,r="SwimLane"===e.shape.type?e.wrapper.children[0].rows:e.wrapper.rows,o=i?1:0;o<r.length;o++)n.uniteRect(r[o].cells[t].bounds);return n}function g(e,t){var i,o;if(e.selectedObject.helperObject)o=e.selectedObject.helperObject;else if(e.selectedItems.nodes.length>0||e.selectedItems.connectors.length>0){i=t instanceof r.a&&t.nodes.length+t.connectors.length===1?t.nodes.length>0?t.nodes[0]:t.connectors[0]:t,e.selectedObject.actualObject=i;var a=e.selectedItems.wrapper.children[0];if(m(e,i))o=function(e,t){for(var i,r={},o=0,a=Object.keys(t);o<a.length;o++){var c=a[o];r[c]=t[c]}return Object(s.u)(t)===n.q&&((i=new n.q(e,"nodes",r,!0)).id=t.id,e.initObject(i)),e.updateDiagramObject(i),i}(e,{id:"helper",rotateAngle:a.rotateAngle,offsetX:a.offsetX,offsetY:a.offsetY,minWidth:a.minWidth,minHeight:a.minHeight,maxWidth:a.maxWidth,maxHeight:a.maxHeight,width:a.actualSize.width,height:a.actualSize.height,style:{strokeDashArray:"2 2",fill:"transparent",strokeColor:"#7D7D7D",strokeWidth:2}}),e.selectedObject.helperObject=o}return o}function m(e,t,i){var n=i?e.nameTable[t.parentId]:e.nameTable[t.parentId]||t;return!(!n||!n.container)}function y(e,t){var i=e.nameTable[t.parentId];"Canvas"===i.container.type&&(t.margin.left=t.offsetX-i.wrapper.bounds.x-t.width/2,t.margin.top=t.offsetY-i.wrapper.bounds.y-t.height/2),e.nodePropertyChange(t,{},{width:t.width,height:t.height,offsetX:t.offsetX,offsetY:t.offsetY,margin:{left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom},rotateAngle:t.rotateAngle}),i.isLane||(i.wrapper.measure(new o.a),i.wrapper.arrange(i.wrapper.desiredSize))}function v(e,t){if(""!==t.parentId){var i=e.nameTable[t.parentId];if(i.isLane&&i.parentId)for(var n=e.nameTable[i.parentId],r=i.id.slice(n.id.length),o=r.substring(0,r.length-1),a=n.shape.lanes,s=void 0,c=0;c<a.length;c++)if(o===(s=a[c]).id)for(var l=0;l<s.children.length;l++)s.children[l].id===t.id&&(s.children.splice(l,1),l--);e.deleteChild(t)}}function b(e,t,i,n){if(!e.currentSymbol){e.protectPropertyChange(!0);var r=void 0;i=e.getObject(i.id)||i;var o=-1!==e.nodes.indexOf(i)?i.id:i;if("Canvas"===t.container.type){var s=i.wrapper.offsetX-i.wrapper.actualSize.width/2-(t.wrapper.offsetX-t.wrapper.actualSize.width/2),c=i.wrapper.offsetY-i.wrapper.actualSize.height/2-(t.wrapper.offsetY-t.wrapper.actualSize.height/2);i.margin.left=s,i.margin.top=c}var l=e.nameTable[t.id];if(l.children||(l.children=[]),-1===l.children.indexOf(i.id)){v(e,i),e.getObject(i.id)&&e.removeElements(i);var h=Object(a.b)(i);if(e.addChild(l,o),i=e.getObject(i.id),l.isLane&&l.parentId)for(var p=(r=e.nameTable[l.parentId]).shape.lanes,u=l.id.slice(r.id.length),f=u.substring(0,u.length-1),g=0;g<p.length;g++)l.isLane&&f===p[g].id&&p[g].children.push(i);if(e.updateDiagramObject(i),l.parentId?n||w(l,r,i,e):e.updateDiagramObject(l),!(e.diagramActions&d.c.UndoRedo)){var m={type:"ChildCollectionChanged",category:"Internal",undoObject:h,redoObject:Object(a.b)(i)};e.addHistoryEntry(m)}}e.protectPropertyChange(!1)}}function w(e,t,i,n,r){var o,s=Object(a.b)(e),c=!1,l=t.shape.padding,p=e.wrapper.bounds,u=e.wrapper.outerBounds,f=i.wrapper.bounds;if(t&&"SwimLane"===t.shape.type&&(p.right<f.right+l||p.bottom<f.bottom+l)){var g=t.wrapper.children[0],m=g.bounds.x,y=g.bounds.y,v=void 0;if(p.right<f.right+l&&u.x<=p.x&&(v=f.right-p.right,o=!1,g.updateColumnWidth(e.columnIndex,p.width+v,!0,l)),p.bottom<f.bottom+l&&u.y<=p.y&&(v=f.bottom-p.bottom,o=!0,g.updateRowHeight(e.rowIndex,p.height+v,!0,l)),!(n.diagramActions&d.c.UndoRedo)&&(r&&(n.startGroupAction(),c=!0),void 0!==o)){var b={category:"Internal",type:o?"RowHeightChanged":"ColumnWidthChanged",undoObject:s,redoObject:Object(a.b)(e)};n.addHistoryEntry(b)}t.width=t.wrapper.width=g.width,t.height=t.wrapper.height=g.height,Object(h.r)(t),"Horizontal"===t.shape.orientation&&Object(h.v)(t,n,e.wrapper,e.columnIndex),Object(h.u)(n,t),n.drag(t,m-g.bounds.x,y-g.bounds.y),Object(h.e)(t,n),Object(h.d)(t)}return Object(h.f)(n,i,l),c}function O(e,t,i,n,r,o){var a=Object(l.g)(n.element.id);n.diagramRenderer.renderStackHighlighter(e,a,n.scroller.transform,t,i,r,o)}function x(e,t,i,n){var r=e,o=i.nameTable[r.parentId],a=i.nameTable[r.parentId];if(t&&a&&a.container&&"Stack"===a.container.type&&t.container&&"Stack"===t.container.type&&a.id!==t.parentId){var s=a.wrapper.children.indexOf(r.wrapper);s>-1&&(i.nameTable[r.id].parentId=t.id,a.wrapper.children.splice(s,1))}if(t&&t.parentId&&r.parentId&&"Drag"===n&&"Stack"===a.container.type){var c=o.wrapper.children.indexOf(t.wrapper),l=o.wrapper.children.indexOf(r.wrapper),h={targetIndex:c,target:t,sourceIndex:l,source:e};o.wrapper.children.splice(l,1),o.wrapper.children.splice(c,0,r.wrapper);var d={type:"StackChildPositionChanged",redoObject:{targetIndex:l,target:t,sourceIndex:c,source:e},undoObject:h,category:"Internal"};i.commandHandler.addHistoryEntry(d)}}},function(e,t,i){"use strict";i.d(t,"a",function(){return d}),i.d(t,"c",function(){return p}),i.d(t,"b",function(){return u});var n=i(0),r=i(14),o=i(4),a=i(1),s=i(2),c=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),l([Object(n.q)("blue")],t.prototype,"color",void 0),l([Object(n.q)("")],t.prototype,"content",void 0),l([Object(n.q)("")],t.prototype,"link",void 0),l([Object(n.q)("None")],t.prototype,"textDecoration",void 0),t}(n.d),d=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return n.id||(t.parentObj&&t.parentObj.propName&&"phases"===t.parentObj.propName?o.id=t.parentObj.id:o.id=Object(s.i)()),o}return c(t,e),l([Object(n.q)("")],t.prototype,"content",void 0),l([Object(n.q)(void 0)],t.prototype,"template",void 0),l([Object(n.q)(!0)],t.prototype,"visibility",void 0),l([Object(n.q)(a.a.InheritReadOnly)],t.prototype,"constraints",void 0),l([Object(n.g)(void 0,h)],t.prototype,"hyperlink",void 0),l([Object(n.q)("")],t.prototype,"id",void 0),l([Object(n.q)()],t.prototype,"width",void 0),l([Object(n.q)()],t.prototype,"height",void 0),l([Object(n.q)(0)],t.prototype,"rotateAngle",void 0),l([Object(n.g)({strokeWidth:0,strokeColor:"transparent",fill:"transparent"},r.f)],t.prototype,"style",void 0),l([Object(n.q)("Center")],t.prototype,"horizontalAlignment",void 0),l([Object(n.q)("Center")],t.prototype,"verticalAlignment",void 0),l([Object(n.g)({},r.a)],t.prototype,"margin",void 0),l([Object(n.g)({top:void 0,bottom:void 0,left:void 0,right:void 0},r.a)],t.prototype,"dragLimit",void 0),l([Object(n.q)("Shape")],t.prototype,"type",void 0),l([Object(n.q)()],t.prototype,"addInfo",void 0),t}(n.d),p=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return c(t,e),t.prototype.getClassName=function(){return"ShapeAnnotation"},l([Object(n.g)({x:.5,y:.5},o.a)],t.prototype,"offset",void 0),t}(d),u=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return c(t,e),t.prototype.getClassName=function(){return"PathAnnotation"},l([Object(n.q)(.5)],t.prototype,"offset",void 0),l([Object(n.g)({x:0,y:0},o.a)],t.prototype,"displacement",void 0),l([Object(n.q)("Center")],t.prototype,"alignment",void 0),l([Object(n.q)(!1)],t.prototype,"segmentAngle",void 0),t}(d)},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(9),r=i(22),o=i(11),a=i(3),s=i(19),c=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(e){function t(){var t=e.call(this)||this;return t.pathData="",t.transformPath=!0,t.absolutePath="",t.canMeasurePath=!1,t.absoluteBounds=new o.a,t}return c(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.pathData},set:function(e){this.pathData!==e&&(this.pathData=e,this.isDirt=!0)},enumerable:!0,configurable:!0}),t.prototype.getPoints=function(){var e=this;return this.pointTimer||(this.pointTimer=setTimeout(function(){e.points=null,e.pointTimer=null},200)),this.points=this.points||Object(a.e)(this),Object(a.H)(this,this.points)},t.prototype.measure=function(e){return this.staticSize&&void 0!==this.width&&void 0!==this.height?this.absoluteBounds=new o.a(this.offsetX-this.width*this.pivot.x,this.offsetY-this.height*this.pivot.y,this.width,this.height):(!this.isDirt||!this.transformPath&&void 0!==this.width&&void 0!==this.height||this.absoluteBounds&&0!==this.absoluteBounds.height)&&!this.canMeasurePath||(this.absoluteBounds=Object(a.B)(this.data?this.data:"")),void 0===this.width?this.desiredSize=new n.a(this.absoluteBounds.width,this.height||this.absoluteBounds.height):void 0===this.height?this.desiredSize=new n.a(this.width||this.absoluteBounds.width,this.absoluteBounds.height):this.desiredSize=new n.a(this.width,this.height),this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.canMeasurePath=!1,this.desiredSize},t.prototype.arrange=function(e){return(this.isDirt||this.actualSize.width!==e.width||this.actualSize.height!==e.height)&&(this.isDirt=!0,this.absolutePath=this.updatePath(this.data,this.absoluteBounds,e),this.staticSize||(this.points=null)),this.actualSize=this.desiredSize,this.updateBounds(),this.isDirt=!1,this.actualSize},t.prototype.updatePath=function(e,t,i){var n=!1,r="",o=-t.x,a=-t.y,c=[];return i.width===t.width&&i.height===t.height||(o=i.width/Number(t.width?t.width:1),a=i.height/Number(t.height?t.height:1),n=!0),c=Object(s.e)(e),c=Object(s.f)(c),r=(n||this.isDirt)&&this.transformPath?Object(s.g)(c,o,a,n,t.x,t.y,0,0):Object(s.a)(c),n=!1,r},t}(r.a)},function(e,t,i){"use strict";i.d(t,"b",function(){return u}),i.d(t,"a",function(){return f});var n=i(0),r=i(25),o=i(7),a=i(10),s=i(4),c=i(9),l=i(1),h=i(14),d=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.getClassName=function(){return"UserHandle"},p([Object(n.q)("")],t.prototype,"name",void 0),p([Object(n.q)("")],t.prototype,"pathData",void 0),p([Object(n.q)("#000000")],t.prototype,"backgroundColor",void 0),p([Object(n.q)("top")],t.prototype,"side",void 0),p([Object(n.q)("")],t.prototype,"borderColor",void 0),p([Object(n.q)(.5)],t.prototype,"borderWidth",void 0),p([Object(n.q)(25)],t.prototype,"size",void 0),p([Object(n.q)("white")],t.prototype,"pathColor",void 0),p([Object(n.q)(10)],t.prototype,"displacement",void 0),p([Object(n.q)(!0)],t.prototype,"visible",void 0),p([Object(n.q)(0)],t.prototype,"offset",void 0),p([Object(n.g)({},h.a)],t.prototype,"margin",void 0),p([Object(n.q)("Center")],t.prototype,"horizontalAlignment",void 0),p([Object(n.q)("Center")],t.prototype,"verticalAlignment",void 0),t}(n.d),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),t.prototype.init=function(e){var t=new r.a;t.measureChildren=!1;new c.a;if(t.children=[],this.annotation){var i=this.nodes.length>0?e.nameTable[this.nodes[0].id].wrapper:e.nameTable[this.connectors[0].id].wrapper,n=e.getWrapper(i,this.annotation.id);t.children.push(n)}else if(this.nodes||this.connectors){for(var o=0;o<this.nodes.length;o++){n=e.nameTable[this.nodes[o].id].wrapper;t.children.push(n)}for(var a=0;a<this.connectors.length;a++){n=e.nameTable[this.connectors[a].id].wrapper;t.children.push(n)}}return this.wrapper=t,t},p([Object(n.q)(null)],t.prototype,"wrapper",void 0),p([Object(n.e)([],o.q)],t.prototype,"nodes",void 0),p([Object(n.e)([],a.b)],t.prototype,"connectors",void 0),p([Object(n.q)()],t.prototype,"width",void 0),p([Object(n.q)()],t.prototype,"height",void 0),p([Object(n.q)(0)],t.prototype,"rotateAngle",void 0),p([Object(n.q)(0)],t.prototype,"offsetX",void 0),p([Object(n.q)(0)],t.prototype,"offsetY",void 0),p([Object(n.g)({x:.5,y:.5},s.a)],t.prototype,"pivot",void 0),p([Object(n.q)("CompleteIntersect")],t.prototype,"rubberBandSelectionMode",void 0),p([Object(n.e)([],u)],t.prototype,"userHandles",void 0),p([Object(n.q)(l.p.All)],t.prototype,"constraints",void 0),t}(n.d)},function(e,t,i){"use strict";function n(e){var t,i=[],n=function(e){var t=/([a-z]+)|([+-]?(?:\d+\.?\d*|\.\d+))/gi,i=[],n=[],r={};t.lastIndex=0;var o=!1;r=t.exec(e);for(;r;){if("e"===r[1]){o=!0}else r[1]?("zm"===r[1].toLowerCase()?(i.length&&n.push(i),n.push(["Z"]),i=[r[1].substring(1,2)]):(i.length&&n.push(i),i=[r[1]]),o=!1):(i.length||(i=[]),o||i.push(Number(r[2])),o=!1);r=t.exec(e)}i.length&&n.push(i);return n}(e);if(n.length>0)for(var r=0;r<n.length;r++){var o=n[r],a="";switch((a=o[0]).toLowerCase()){case"m":for(t=1;t<o.length;t++)i.push({command:a,x:o[t],y:o[t+1]}),t+=1,"m"===a?a="l":"M"===a&&(a="L");break;case"l":case"t":for(t=1;t<o.length;t++)i.push({command:a,x:o[t],y:o[t+1]}),t+=1;break;case"h":for(t=1;t<o.length;t++)i.push({command:a,x:o[t]});break;case"v":for(t=1;t<o.length;t++)i.push({command:a,y:o[t]});break;case"z":i.push({command:a});break;case"c":for(t=1;t<o.length;t++)i.push({command:a,x1:o[t],y1:o[t+1],x2:o[t+2],y2:o[t+3],x:o[t+4],y:o[t+5]}),t+=5;break;case"s":for(t=1;t<o.length;t++)i.push({command:a,x2:o[t],y2:o[t+1],x:o[t+2],y:o[t+3]}),t+=3;break;case"q":for(t=1;t<o.length;t++)i.push({command:a,x1:o[t],y1:o[t+1],x:o[t+2],y:o[t+3]}),t+=3;break;case"a":for(t=1;t<o.length;t++)i.push({command:a,r1:o[t],r2:o[t+1],angle:o[t+2],largeArc:o[t+3],sweep:o[t+4],x:o[t+5],y:o[t+6]}),t+=6}}return i}function r(e,t,i){var n,r,o,a="",s=[{x:0+e,y:0},{x:0+i-e,y:0},{x:0+i,y:0+e},{x:0+i,y:0+t-e},{x:0+i-e,y:0+t},{x:0+e,y:0+t},{x:0,y:0+t-e},{x:0,y:0+e}],c=[{x:0+i,y:0},{x:0+i,y:0+t},{x:0,y:0+t},{x:0,y:0}],l=0;for(a="M"+s[0].x+" "+s[0].y,o=0;o<s.length;o+=2)a+="L"+(n=s[o+1]).x+" "+n.y,r=s[o+2]||s[0],a+="Q"+c[l].x+" "+c[l].y+" "+r.x+" "+r.y,l++;return a}function o(e){var t,i,n="";for(n="M"+e[0].x+" "+e[0].y,i=1;i<e.length;i++)n+="L"+(t=e[i]).x+" "+t.y;return n+="Z"}function a(e){var t,i,n,r,o,a,s,c,l,h,d=[];for(s=0,c=0,h=0,l=e.length;h<l;++h){var p,u=e[h];p=u.command,"y1"in u&&(r=u.y1),"y2"in u&&(a=u.y2),"x1"in u&&(n=u.x1),"x2"in u&&(o=u.x2),"x"in u&&(s=u.x),"y"in u&&(c=u.y);var f=d[d.length-1];switch(p){case"M":d.push({command:"M",x:s,y:c});break;case"L":d.push({command:"L",x0:t,y0:i,x:s,y:c});break;case"H":d.push({command:"L",x0:t,y0:i,x:s,y:i});break;case"V":d.push({command:"L",x0:t,y0:i,x:t,y:c});break;case"C":d.push({command:"C",x0:t,y0:i,x1:n,y1:r,x2:o,y2:a,x:s,y:c});break;case"S":if(f){var g=void 0,m={x:2*t-(g="C"===f.command||"S"===f.command?{x:f.x2,y:f.y2}:{x:t,y:i}).x,y:2*i-g.y};d.push({command:"C",x0:t,y0:i,x1:m.x,y1:m.y,x2:o,y2:a,x:s,y:c})}break;case"Q":d.push({command:"Q",x0:t,y0:i,x1:n,y1:r,x:s,y:c});break;case"T":if(f){g=void 0,m={x:2*t-(g="Q"===f.command?{x:f.x1,y:f.y1}:{x:t,y:i}).x,y:2*i-g.y};d.push({command:"Q",x0:t,y0:i,x1:m.x,y1:m.y,x:s,y:c})}break;case"A":var y=u;y.command="A",d.push(y);break;case"Z":case"z":d.push({command:"Z"}),s=t,c=i}"M"!==p&&"m"!==p||(s,c),t=s,i=c}return d}function s(e,t,i,n,r,o,a,s){var h,p,u,f,g,m,y,v,b;for(g=0,m=0,v=0,y=e.length;v<y;++v){var w=e[v],O=w.command;"x"in w&&(g=w.x),"y"in w&&(m=w.y),"y1"in w&&(p=w.y1),"y2"in w&&(f=w.y2),"x1"in w&&(h=w.x1),"x2"in w&&(u=w.x2),n?(void 0!==g&&(g=l(g,t,r,a)),void 0!==m&&(m=l(m,i,o,s)),void 0!==h&&(h=l(h,t,r,a)),void 0!==p&&(p=l(p,i,o,s)),void 0!==u&&(u=l(u,t,r,a)),void 0!==f&&(f=l(f,i,o,s))):(void 0!==g&&(g=Number((g+t).toFixed(2))),void 0!==m&&(m=Number((m+i).toFixed(2))),void 0!==h&&(h=Number((h+t).toFixed(2))),void 0!==p&&(p=Number((p+i).toFixed(2))),void 0!==u&&(u=Number((u+t).toFixed(2))),void 0!==f&&(f=Number((f+i).toFixed(2)))),(b=c(w,O,{x:g,y:m,x1:h,y1:p,x2:u,y2:f,r1:w.r1,r2:w.r2},n,t,i))&&(e[v]=b),"M"!==O&&"m"!==O||(g,m)}return d(e)}function c(e,t,i,n,r,o){switch(t){case"M":case"L":e.x=i.x,e.y=i.y;break;case"H":e.x=i.x;break;case"V":e.y=i.y;break;case"C":e.x=i.x,e.y=i.y,e.x1=i.x1,e.y1=i.y1,e.x2=i.x2,e.y2=i.y2;break;case"S":e.x=i.x,e.y=i.y,e.x2=i.x2,e.y2=i.y2;break;case"Q":e.x=i.x,e.y=i.y,e.x1=i.x1,e.y1=i.y1;break;case"T":e.x=i.x,e.y=i.y;break;case"A":var a=i.r1,s=i.r2;n&&(i.r1=a*=r,i.r2=s*=o),e.x=i.x,e.y=i.y,e.r1=i.r1,e.r2=i.r2;break;case"z":case"Z":e={command:"Z"}}return e}function l(e,t,i,n){return e!==i?e=n!==i?e*t-(Number(i)*t-Number(i))+(n-Number(i)):Number(e)*t-(Number(i)*t-Number(i)):n!==i&&(e=n),Number(e.toFixed(2))}function h(e){var t,i,n,r,o,a,s,c,l,h;for(s=0,c=0,h=0,l=e.length;h<l;++h){var d=e[h],p=d.command;if(/[MLHVCSQTA]/.test(p))"x"in d&&(d.x=s=d.x),"y"in d&&(d.y=c=d.y);else{"x1"in d&&(d.x1=n=s+d.x1),"x2"in d&&(d.x2=o=s+d.x2),"y1"in d&&(d.y1=r=c+d.y1),"y2"in d&&(d.y2=a=c+d.y2),"x"in d&&(d.x=s+=d.x),"y"in d&&(d.y=c+=d.y);var u=void 0;switch(p){case"m":case"M":u={command:"M",x:s,y:c};break;case"l":case"L":u={command:"L",x:s,y:c};break;case"h":case"H":u={command:"H",x:s};break;case"v":case"V":u={command:"V",y:c};break;case"c":case"C":u={command:"C",x:s,y:c,x1:n,y1:r,x2:o,y2:a};break;case"s":case"S":u={command:"S",x:s,y:c,x2:o,y2:a};break;case"q":case"Q":u={command:"Q",x:s,y:c,x1:n,y1:r};break;case"t":case"T":u={command:"T",x:s,y:c};break;case"a":case"A":(u={command:"A",x:s,y:c}).r1=d.r1,u.r2=d.r2,u.angle=d.angle,u.largeArc=d.largeArc,u.sweep=d.sweep;break;case"z":case"Z":u={command:"Z"},s=t,c=i,u=e[h]}u&&(e[h]=u)}"M"!==p&&"m"!==p||(t=s,i=c)}return e}function d(e){var t,i="";for(t=0;t<e.length;t++)i+=0===t?p(e[t]):" "+p(e[t]);return i}function p(e){var t="";switch(e.command){case"Z":case"z":t=e.command;break;case"M":case"m":case"L":case"l":t=e.command+" "+e.x+" "+e.y;break;case"C":case"c":t=e.command+" "+e.x1+" "+e.y1+" "+e.x2+" "+e.y2+" "+e.x+" "+e.y;break;case"Q":case"q":t=e.command+" "+e.x1+" "+e.y1+" "+e.x+" "+e.y;break;case"A":case"a":var i=e.command,n=e.angle,r=e.largeArc?"1":"0",o=e.sweep?"1":"0";t=i+" "+e.r1+" "+e.r2+" "+n+" "+r+" "+o+" "+e.x+" "+e.y;break;case"H":case"h":t=e.command+" "+e.x;break;case"V":case"v":t=e.command+" "+e.y;break;case"S":case"s":t=e.command+" "+e.x2+" "+e.y2+" "+e.x+" "+e.y;break;case"T":case"t":t=e.command+" "+e.x+" "+e.y}return t}i.d(t,"e",function(){return n}),i.d(t,"c",function(){return r}),i.d(t,"b",function(){return o}),i.d(t,"d",function(){return a}),i.d(t,"g",function(){return s}),i.d(t,"f",function(){return h}),i.d(t,"a",function(){return d})},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(25),r=i(2),o=i(1),a=i(9),s=i(11),c=i(13),l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.measureChildren=void 0,t}return l(t,e),t.prototype.measure=function(t){var i=void 0,n=void 0;if(this.hasChildren()){for(var o=0,l=this.children;o<l.length;o++){var h=l[o];if(h instanceof c.a){if(!h.canMeasure)break;t.width=t.width||this.maxWidth||this.minWidth,h.measure(t)}else h instanceof c.a||h.measure(t);var d=h.desiredSize.clone();0!==h.rotateAngle&&(d=Object(r.k)(d,h.rotateAngle));var p=d.width+h.margin.right,u=d.height+h.margin.bottom,f=new s.a(h.margin.left,h.margin.top,p,u);if(h.float)if(void 0!==h.getAbsolutePosition(d))continue;h instanceof c.a&&!(h instanceof c.a&&h.canConsiderBounds)||(void 0===n?n=f:n.uniteRect(f))}if(n){var g,m;g=Math.max(n.left,0),m=Math.max(n.top,0),i=new a.a(n.width+g,n.height+m)}}return i=e.prototype.validateDesiredSize.call(this,i,t),e.prototype.stretchChildren.call(this,i),i.width+=this.padding.left+this.padding.right,i.height+=this.padding.top+this.padding.bottom,this.desiredSize=i,i},t.prototype.arrange=function(t,i){if(this.outerBounds=new s.a,this.hasChildren()){var n,r;n=this.offsetY-t.height*this.pivot.y+this.padding.top,r=this.offsetX-t.width*this.pivot.x+this.padding.left;for(var a=0,l=this.children;a<l.length;a++){var h=l[a];if(0!==(h.transform&o.s.Parent)){h.parentTransform=this.parentTransform+this.rotateAngle,("None"!==this.flip||this.elementActions&o.g.ElementIsGroup)&&(h.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-h.parentTransform:h.parentTransform);var d,p=h.desiredSize.clone(),u=void 0,f=r,g=n;if("Point"===h.relativeMode){var m=h.getAbsolutePosition(t);void 0!==m&&(f+=m.x,g+=m.y)}d={x:(u="Object"===h.relativeMode?this.alignChildBasedOnParent(h,p,t,f,g):this.alignChildBasedOnaPoint(h,f,g)).x+p.width/2,y:u.y+p.height/2},e.prototype.findChildOffsetFromCenter.call(this,h,d)}!i||"Stretch"!==h.horizontalAlignment&&"Stretch"!==h.verticalAlignment?h instanceof c.a&&h.canMeasure?(h.arrange(h.desiredSize),this.outerBounds.uniteRect(h.outerBounds)):h instanceof c.a||(h.arrange(h.desiredSize),this.outerBounds.uniteRect(h.outerBounds)):h.arrange(t)}}return this.actualSize=t,this.updateBounds(),this.outerBounds.uniteRect(this.bounds),t},t.prototype.alignChildBasedOnParent=function(e,t,i,n,r){switch(e.horizontalAlignment){case"Auto":case"Left":n+=e.margin.left;break;case"Right":n+=i.width-t.width-e.margin.right;break;case"Stretch":case"Center":n+=i.width/2-t.width/2}switch(e.verticalAlignment){case"Auto":case"Top":r+=e.margin.top;break;case"Bottom":r+=i.height-t.height-e.margin.bottom;break;case"Stretch":case"Center":r+=i.height/2-t.height/2}return{x:n,y:r}},t.prototype.alignChildBasedOnaPoint=function(e,t,i){switch(t+=e.margin.left-e.margin.right,i+=e.margin.top-e.margin.bottom,e.horizontalAlignment){case"Auto":case"Left":t=t;break;case"Stretch":case"Center":t-=e.desiredSize.width*e.pivot.x;break;case"Right":t-=e.desiredSize.width}switch(e.verticalAlignment){case"Auto":case"Top":i=i;break;case"Stretch":case"Center":i-=e.desiredSize.height*e.pivot.y;break;case"Bottom":i-=e.desiredSize.height}return{x:t,y:i}},t}(n.a)},function(e,t,i){"use strict";e.exports=i(54)},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1),r=i(9),o=i(11),a=i(2),s=function(){function e(){this.pivot={x:.5,y:.5},this.isDirt=!0,this.isExport=!1,this.exportScaleValue={x:0,y:0},this.exportScaleOffset={x:0,y:0},this.canApplyStyle=!0,this.visible=!0,this.offsetX=0,this.offsetY=0,this.cornerRadius=0,this.minHeight=void 0,this.minWidth=void 0,this.maxWidth=void 0,this.maxHeight=void 0,this.width=void 0,this.height=void 0,this.rotateAngle=0,this.margin={left:0,right:0,top:0,bottom:0},this.horizontalAlignment="Auto",this.verticalAlignment="Auto",this.flip="None",this.relativeMode="Point",this.transform=n.s.Self|n.s.Parent,this.style={fill:"white",strokeColor:"black",opacity:1,strokeWidth:1},this.desiredSize=new r.a,this.actualSize=new r.a,this.parentTransform=0,this.preventContainer=!1,this.isSvgRender=!1,this.bounds=new o.a(0,0,0,0),this.shadow=null,this.description="",this.staticSize=!1,this.isRectElement=!1,this.isCalculateDesiredSize=!0,this.flipOffset={x:0,y:0},this.elementActions=n.g.None,this.position=void 0,this.unitMode=void 0,this.float=!1,this.floatingBounds=void 0}return e.prototype.setOffsetWithRespectToBounds=function(e,t,i){this.unitMode=i,this.position={x:e,y:t}},e.prototype.getAbsolutePosition=function(e){if(void 0!==this.position)return"Absolute"===this.unitMode?this.position:{x:this.position.x*e.width,y:this.position.y*e.height}},Object.defineProperty(e.prototype,"outerBounds",{get:function(){return this.floatingBounds||this.bounds},set:function(e){this.floatingBounds=e},enumerable:!0,configurable:!0}),e.prototype.measure=function(e){var t=void 0!==this.width?this.width:(e.width||0)-this.margin.left-this.margin.right,i=void 0!==this.height?this.height:(e.height||0)-this.margin.top-this.margin.bottom;return this.desiredSize=new r.a(t,i),this.isCalculateDesiredSize&&(this.desiredSize=this.validateDesiredSize(this.desiredSize,e)),this.desiredSize},e.prototype.arrange=function(e){return this.actualSize=e,this.updateBounds(),this.actualSize},e.prototype.updateBounds=function(){this.bounds=Object(a.e)(this)},e.prototype.validateDesiredSize=function(e,t){return!this.isRectElement||this.width||this.minWidth||this.maxWidth||(e.width=50),!this.isRectElement||this.height||this.minHeight||this.maxHeight||(e.height=50),(void 0===e||void 0!==this.width&&void 0!==this.height)&&((e=e||new r.a).width=void 0===this.width?(t.width||0)-this.margin.left-this.margin.right:this.width,e.height=void 0===this.height?(t.height||0)-this.margin.top-this.margin.bottom:this.height),void 0!==this.minWidth&&(e.width=Math.max(e.width,this.minWidth)),void 0!==this.minHeight&&(e.height=Math.max(e.height,this.minHeight)),void 0!==this.maxWidth&&(e.width=Math.min(e.width,this.maxWidth)),void 0!==this.maxHeight&&(e.height=Math.min(e.height,this.maxHeight)),e},e}()},function(e,t,i){"use strict";i.d(t,"b",function(){return h}),i.d(t,"i",function(){return O}),i.d(t,"a",function(){return I}),i.d(t,"c",function(){return A}),i.d(t,"d",function(){return z}),i.d(t,"h",function(){return _}),i.d(t,"g",function(){return U}),i.d(t,"f",function(){return X}),i.d(t,"e",function(){return Y});var n=i(4),r=i(11),o=i(6),a=i(1),s=i(10),c=i(17),l=i(2);function h(e,t){var i;return i=function(e,t,i,r){var c,h,f=e.sourceWrapper,w=e.targetWrapper,j=e.sourcePortWrapper,I=e.targetPortWrapper,D=[],L={corners:void 0,point:t,direction:void 0,margin:{left:5,right:5,bottom:5,top:5}},R={corners:void 0,point:i,direction:void 0,margin:{left:5,right:5,bottom:5,top:5}};void 0!==f&&void 0!==w&&(c=Object(l.c)(f),h=Object(l.c)(w),L.corners=f.corners,R.corners=w.corners);if(void 0!==j){var N={x:j.offsetX,y:j.offsetY};L.direction=U(N,c,f.bounds,!1)}if(void 0!==I){var q={x:I.offsetX,y:I.offsetY};R.direction=U(q,h,w.bounds,!1)}if(void 0!==f&&void 0!==w)return void 0!==L.direction&&void 0!==R.direction||(r?function(e,t,i){"LeftToRight"===i?(e.direction=e.direction?e.direction:"Right",t.direction=t.direction?t.direction:"Left"):"RightToLeft"===i?(e.direction=e.direction?e.direction:"Left",t.direction=t.direction?t.direction:"Right"):"TopToBottom"===i?(e.direction=e.direction?e.direction:"Bottom",t.direction=t.direction?t.direction:"Top"):"BottomToTop"===i&&(e.direction=e.direction?e.direction:"Top",t.direction=t.direction?t.direction:"Bottom")}(L,R,r):L.corners.top>R.corners.bottom&&Math.abs(L.corners.top-R.corners.bottom)>L.margin.top+L.margin.bottom?(L.direction=L.direction?L.direction:"Top",R.direction=R.direction?R.direction:"Bottom"):L.corners.bottom<R.corners.top&&Math.abs(L.corners.bottom-R.corners.top)>L.margin.bottom+L.margin.top?(L.direction=L.direction?L.direction:"Bottom",R.direction=R.direction?R.direction:"Top"):L.corners.right<R.corners.left&&Math.abs(L.corners.right-R.corners.left)>L.margin.right+L.margin.left||L.corners.right+13<R.corners.left||R.corners.right>=L.corners.left-13&&L.corners.left>R.corners.left?(L.direction=L.direction?L.direction:"Right",R.direction=R.direction?R.direction:"Left"):L.corners.left>R.corners.right&&Math.abs(L.corners.left-R.corners.right)>L.margin.left+L.margin.right||R.corners.right+13<L.corners.left||L.corners.right>=R.corners.left-13&&L.corners.left<R.corners.left?(L.direction=L.direction?L.direction:"Left",R.direction=R.direction?R.direction:"Right"):f.id!==w.id&&!c.equals(c,h)&&h.containsPoint(c.topCenter,L.margin.top)?(L.direction=L.direction?L.direction:"Bottom",R.direction=R.direction?R.direction:"Top"):(L.direction=L.direction?L.direction:"Top",R.direction=R.direction?R.direction:"Bottom")),function(e,t,i,r,c){var h,p=e.sourceWrapper,u=e.targetWrapper,f=e.sourcePortWrapper,w=e.targetPortWrapper,j=[],k=p.corners,I=u.corners,D=(I.center,{corners:k,point:r,direction:t,margin:{left:5,right:5,bottom:5,top:5}}),L={corners:I,point:c,direction:i,margin:{left:5,right:5,bottom:5,top:5}},R=O(p,k,e.sourceWrapper.bounds),N=O(u,I,e.targetWrapper.bounds),q=!1;e.sourceWrapper&&e.targetWrapper&&(q=function(e,t,i){for(var n=b(e,i.sourcePadding),r=b(t,i.targetPadding),a=0;a<n.length-1;a++)for(var s=n[a],c=0;c<r.length-1;c++){var l=r[c];if(Object(o.E)(s,l).enabled)return!0}return!1}(e.sourceWrapper,e.targetWrapper,e));if(void 0!==f){switch(D.point={x:f.offsetX,y:f.offsetY},D.direction){case"Bottom":case"Top":D.point.y=D.point.y;break;case"Left":case"Right":D.point.x=D.point.x}e.sourcePadding&&!q&&(w&&(L.point={x:w.offsetX,y:w.offsetY}),D.point=v(e,D,L,!1))}else"Orthogonal"===e.type?(e.segments&&e.segments.length>0&&e.segments[0].direction&&(D.direction=e.segments[0].direction),D.point=A(R,D.direction),h=A(R,Y(D.direction)),D.point=z(e,p,D.point,h,!1)):D.point=p.corners.center;if(void 0!==w){switch(L.point={x:w.offsetX,y:w.offsetY},L.direction){case"Bottom":case"Top":L.point.y=L.point.y;break;case"Left":case"Right":L.point.x=L.point.x}e.targetPadding&&!q&&(L.point=v(e,D,L,!0))}else"Orthogonal"===e.type?(L.point=A(N,L.direction),h=A(N,Y(L.direction)),L.point=z(e,u,L.point,h,!0)):L.point=u.corners.center;if("Orthogonal"!==e.type){var U=void 0,X=void 0;if(S(e),void 0===e.sourcePortWrapper){D.point=D.corners.center,e.segments&&e.segments.length>0&&(X=e.segments[0],U=n.a.isEmptyPoint(X.point)?void 0:X);var V=void 0!==U?U.point:L.point;if("Bezier"===e.type&&e.segments.length>0&&e.segments[0].vector1.angle&&e.segments[0].vector1.distance){var G=Math.max(D.corners.width,D.corners.height);V=n.a.transform(D.point,e.segments[0].vector1.angle,G/2)}D.point=q?e.sourceWrapper.bounds.center:z(e,p,D.point,V,!1)}if(void 0===e.targetPortWrapper){L.point=L.corners.center,e.segments&&e.segments.length>1&&(X=e.segments[e.segments.length-2],U=n.a.isEmptyPoint(X.point)?void 0:X);var Z=U?U.point:D.point;if("Bezier"===e.type&&e.segments.length>0&&e.segments[e.segments.length-1].vector2.angle&&e.segments[e.segments.length-1].vector2.distance){var G=Math.max(D.corners.width,D.corners.height);Z=n.a.transform(L.point,e.segments[0].vector2.angle,G/2)}L.point=q?e.targetWrapper.bounds.center:z(e,u,Z,L.point,!0)}j=x(e,D,L)}else if("Orthogonal"===e.type&&e.segments&&e.segments.length>0&&null!==e.segments[0].direction)j=function(e,t,i,n,r,o,a){var s,c,l,h;S(e);for(var p=0;p<e.segments.length;p++){if(c=e.segments[p],n&&t.direction===Y(c.direction)&&(c.direction=t.direction),p>0&&e.segments[p-1].direction===c.direction)p=P(e,p,t);else if(c.direction)t.point=d(t,e.segments[p]);else{var u=e.segments[p-1];t.point=u.points[u.points.length-1]}if(p===e.segments.length-1)if(E(e,t),y(s=void 0===r?C(e,t,i):g(e,t,i),e,t),c.points=[],s.length>=2)for(l=0;l<s.length;l++)c.points.push(s[l]);else h=p;if(void 0!==h&&(h===e.segments.length-1&&(e.segments[h-1].direction=null,e.segments[h-1].length=null),e.segments.splice(h,1)),n&&0===p){var f=m(e,n,o);f&&(t.point=f)}}return T(e,[])}(e,D,L,f,w,p);else{if(!e.segments[0]){var U=new s.c(e,"segments",{type:"Orthogonal"},!0);e.segments.push(U)}e.segments[0].points=j=function(e,t,i,n){var r,o=!1;(o=function(e,t){var i=!1;switch(e){case"Left":switch(t){case"Right":case"Bottom":i=!0}break;case"Top":switch(t){case"Left":case"Right":case"Bottom":i=!0}break;case"Bottom":switch(t){case"Right":i=!0}}return i}(t.direction,i.direction))&&F(t,i);"Right"===t.direction&&"Left"===i.direction?r=function(e,t,i,n){var r,o=e.sourcePortWrapper,s=(e.targetPortWrapper,Math.round(Math.abs(t.point.y-i.point.y))),c=(Math.round(Math.abs(t.point.x-i.point.x)),{x:Math.max(t.point.x,t.corners.right),y:t.point.y}),h={x:Math.min(i.point.x,i.corners.left),y:i.point.y},d=10;if(n){var p=void 0;p=h,h=c,c=p}t.corners.bottom+d<i.corners.top-d||t.corners.top-d>i.corners.bottom+d||(d=0);t.margin={left:d,right:d,top:d,bottom:d},i.margin={left:d,right:d,top:d,bottom:d},r=0===s&&(t.corners.right<i.corners.left||n&&t.corners.right<i.corners.left)?a.j.One:t.point.x+t.margin.right<i.point.x-i.margin.left?a.j.Three:e.sourceWrapper!==e.targetWrapper&&(Object(l.c)(e.sourceWrapper).containsPoint(h)||Object(l.c)(e.targetWrapper).containsPoint(c))?a.j.Three:t.corners.bottom<=i.corners.top?a.j.Five:t.corners.top>=i.corners.top?a.j.Five:void 0!==o&&o.offsetY<=i.corners.top||void 0===o&&t.corners.right<=i.corners.top?a.j.Five:(void 0!==o&&o.offsetY>=i.corners.bottom||void 0===o&&(t.corners.right,i.corners.bottom),a.j.Five);return r}(e,t,i,o):"Right"===t.direction&&"Right"===i.direction?r=function(e,t,i){var n,r=e.sourcePortWrapper,o=e.targetPortWrapper,s=t.point.x-i.point.x,c=t.point.y-i.point.y;i.margin={left:10,right:10,top:10,bottom:10},t.margin={left:10,right:10,top:10,bottom:10},n=t.corners.right>=i.corners.right?void 0!==r&&(r.offsetY<i.corners.top||r.offsetY>i.corners.bottom)||void 0===r&&t.corners.middleRight.y<i.corners.top?a.j.Three:void 0!==r&&r.offsetY>i.corners.bottom+i.margin.bottom&&t.corners.top>i.corners.bottom||void 0===r&&t.corners.middleRight.y>i.corners.bottom?a.j.Three:void 0!==r&&r.offsetY<i.corners.top&&t.corners.bottom>i.corners.top||void 0===r&&t.corners.middleRight.y>i.corners.bottom?a.j.Three:t.corners.right<i.corners.left||i.corners.right<t.corners.left?a.j.Five:0===s||0===c?a.j.One:a.j.Three:void 0!==o&&t.corners.bottom<o.offsetY||void 0===o&&t.corners.bottom<i.corners.middleRight.y?a.j.Three:void 0!==o&&t.corners.top>o.offsetY||void 0===o&&t.corners.top>i.corners.middleRight.y?a.j.Three:void 0!==o&&(void 0!==r&&r.offsetX<i.corners.left&&r.offsetX!==o.offsetX&&r.offsetY!==o.offsetY&&Math.abs(t.corners.right-i.corners.left)<=20||void 0===r&&t.corners.right<i.corners.left&&t.corners.center.x!==i.corners.center.x&&t.corners.center.y!==i.corners.center.y)?a.j.Three:t.corners.right<i.corners.left?a.j.Five:0===s||0===c?a.j.One:a.j.Three;return n}(e,t,i):"Right"===t.direction&&"Top"===i.direction?r=function(e,t,i,n){var r,o=e.targetPortWrapper,s=e.sourcePortWrapper,c={x:Math.max(t.point.x,t.corners.right),y:t.point.y},h={x:i.point.x,y:Math.min(i.point.y,i.corners.top)};if(i.margin={left:5,right:5,top:5,bottom:5},t.margin={top:5,bottom:5,left:5,right:5},n){var d=void 0;d=s,s=o,o=d}r=void 0!==s&&s.offsetY<i.corners.top-i.margin.top||void 0===s&&t.corners.bottom<i.corners.top-i.margin.top?t.corners.bottom<i.corners.top?void 0!==o&&t.corners.right+t.margin.right<o.offsetX||void 0===o&&t.corners.right+t.margin.right<i.corners.topCenter.x?a.j.Two:a.j.Four:void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>i.corners.topCenter.x?a.j.Four:a.j.Two:void 0!==s&&Math.abs(t.corners.right-i.corners.left)<=25&&Math.abs(s.offsetY-i.corners.top)<=25?a.j.Two:void 0!==o&&Math.abs(o.offsetX-t.corners.topCenter.x)>=25&&t.corners.middleRight.y<o.offsetY?a.j.Two:t.corners.right<i.corners.left?a.j.Four:e.sourceWrapper!==e.targetWrapper&&(Object(l.c)(e.sourceWrapper).containsPoint(h)||Object(l.c)(e.targetWrapper).containsPoint(c))?a.j.Two:a.j.Four;return r}(e,t,i,o):"Right"===t.direction&&"Bottom"===i.direction?r=function(e,t,i,n){var r;t.margin={left:10,right:10,top:10,bottom:10},i.margin={left:10,right:10,top:10,bottom:10};var o=e.sourcePortWrapper,s=e.targetPortWrapper;Math.max(t.point.x,t.corners.right),t.point.y,i.point.x,Math.max(i.point.y,i.corners.bottom);if(n){var c=void 0;c=o,o=s,s=c}r=void 0!==o&&o.offsetY>i.corners.bottom+i.margin.bottom||void 0===o&&t.corners.middleRight.y>i.corners.bottom+i.margin.bottom?t.corners.top>i.corners.bottom?void 0!==s&&t.corners.right+t.margin.right<s.offsetX||void 0===s&&t.corners.right+t.margin.right<i.corners.bottomCenter.x?a.j.Two:a.j.Four:void 0!==s&&t.corners.left>s.offsetX||void 0===s&&t.corners.left>i.corners.bottomCenter.x?a.j.Four:a.j.Two:void 0!==o&&Math.abs(t.corners.right-i.corners.left)<=25&&Math.abs(o.offsetY-i.corners.bottom)<=25?a.j.Two:(t.corners.right,i.corners.left,a.j.Four);return r}(e,t,i,o):"Bottom"===t.direction&&"Top"===i.direction?r=function(e,t){var i,n=e.point.x-t.point.x,r=(e.point.y,t.point.y,e.point.x,Math.max(e.point.y,e.corners.bottom),t.point.x,Math.min(t.point.y,t.corners.top),10);e.corners.right+r<t.corners.left-r||e.corners.left-r>t.corners.right+r||(r=0);e.margin={left:r,right:r,top:r,bottom:r},t.margin={left:r,right:r,top:r,bottom:r},i=0===n&&e.corners.bottom<t.corners.top?a.j.One:e.corners.bottom+e.margin.bottom<t.corners.top-t.margin.top?a.j.Three:e.corners.right+e.margin.right<t.corners.left-t.margin.left?a.j.Five:(e.corners.left,e.margin.left,t.corners.right,t.margin.right,a.j.Five);return i}(t,i):"Bottom"===t.direction&&"Bottom"===i.direction?(t.margin={left:10,right:10,top:10,bottom:10},i.margin={left:10,right:10,top:10,bottom:10},r=function(e,t,i){var n,r=e.sourcePortWrapper,o=e.targetPortWrapper,s=Math.round(Math.abs(t.point.x-i.point.x)),c=Math.round(Math.abs(i.point.y-i.point.y));n=t.corners.bottom<i.corners.bottom?void 0!==r&&r.offsetX<i.corners.left-i.margin.left||void 0===r&&t.corners.bottomCenter.x<i.corners.left-i.margin.left?a.j.Three:void 0!==r&&r.offsetX>i.corners.right+i.margin.right||void 0===r&&t.corners.bottomCenter.x>i.corners.right+i.margin.right?a.j.Three:t.corners.bottom<i.corners.top?a.j.Five:0===s||0===c?a.j.One:a.j.Three:void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>i.corners.left?a.j.Three:void 0!==o&&t.corners.right<o.offsetX||void 0===o&&t.corners.right<i.corners.right?a.j.Three:t.corners.top>i.corners.bottom?a.j.Five:0===s||0===c?a.j.One:a.j.Three;return n}(e,t,i)):"Bottom"===t.direction&&"Left"===i.direction?r=function(e,t,i,n){var r,o=e.sourcePortWrapper,s=e.targetPortWrapper;t.point.x,Math.max(t.point.y,t.corners.bottom),Math.min(i.point.x,i.corners.left),i.point.y;if(n){var c=void 0;c=o,o=s,s=c}r=void 0!==o&&o.offsetX<i.corners.left-i.margin.left||void 0===o&&t.corners.bottomCenter.x<i.corners.bottomLeft.x-i.margin.left?t.corners.right<i.corners.left?void 0!==s&&t.corners.bottom+t.margin.bottom<s.offsetY||void 0===s&&t.corners.bottom+t.margin.bottom<i.corners.middleLeft.y?a.j.Two:a.j.Four:void 0!==s&&t.corners.top>s.offsetY||void 0===s&&t.corners.top>i.corners.middleLeft.y?a.j.Four:a.j.Two:void 0!==s&&Math.abs(t.corners.right-i.corners.left)<=25&&Math.abs(s.offsetY-t.corners.bottom)<=25?a.j.Two:a.j.Four;return r}(e,t,i,o):"Left"===t.direction&&"Left"===i.direction?r=function(e,t,i){var n=e.sourcePortWrapper,r=e.targetPortWrapper;t.margin={left:10,right:10,top:10,bottom:10},i.margin={left:10,right:10,top:10,bottom:10};var o,s=Math.round(Math.abs(t.point.x-i.point.x)),c=Math.round(Math.abs(t.point.y-i.point.y));o=t.corners.left<i.corners.left?void 0!==r&&t.corners.bottom+t.margin.bottom<r.offsetY||void 0===r&&t.corners.bottom+t.margin.bottom<i.corners.middleLeft.y?a.j.Three:void 0!==r&&t.corners.top-t.margin.top>r.offsetY||void 0===r&&t.corners.top-t.margin.top>i.corners.middleLeft.y?a.j.Three:t.corners.right<i.corners.left||i.corners.right<t.corners.left?a.j.Five:0===s||0===c?a.j.One:a.j.Three:void 0!==n&&n.offsetY<i.corners.top-i.margin.top||void 0===n&&t.corners.middleLeft.y<i.corners.top?a.j.Three:void 0!==n&&n.offsetY>i.corners.bottom+i.margin.bottom||void 0===n&&t.corners.middleLeft.y>i.corners.bottom+i.margin.bottom?a.j.Three:t.corners.left>i.corners.right?a.j.Five:0===s||0===c?a.j.One:a.j.Three;return o}(e,t,i):"Left"===t.direction&&"Top"===i.direction?r=function(e,t,i,n){var r,o=e.sourcePortWrapper,s=e.targetPortWrapper,c={x:Math.min(t.point.x,t.corners.left),y:t.point.y},h={x:i.point.x,y:Math.min(i.point.y,i.corners.top)};if(n){var d=void 0;d=o,o=s,s=d}r=void 0!==o&&o.offsetY<i.corners.top-i.margin.top||void 0===o&&(t.corners.bottom<i.corners.top-i.margin.top||t.corners.middleLeft.y<i.corners.top-i.margin.top)?t.corners.bottom<i.corners.top?void 0!==s&&t.corners.left-t.margin.left>s.offsetX||void 0===s&&t.corners.left-t.margin.left>i.corners.topCenter.x?a.j.Two:a.j.Four:void 0!==s&&t.corners.right<s.offsetX||void 0===s&&t.corners.right<i.corners.topCenter.x?a.j.Four:a.j.Two:void 0!==o&&Math.abs(t.corners.left-i.corners.right)<=25&&Math.abs(o.offsetY-i.corners.top)<=25?a.j.Two:e.sourceWrapper!==e.targetWrapper&&(Object(l.c)(e.sourceWrapper).containsPoint(h)||Object(l.c)(e.targetWrapper).containsPoint(c))?a.j.Two:(t.corners.left,i.corners.right,a.j.Four);return r}(e,t,i,o):"Top"===t.direction&&"Top"===i.direction&&(r=function(e,t,i){var n,r=e.sourcePortWrapper,o=e.targetPortWrapper,s=Math.round(Math.abs(t.point.x-i.point.x)),c=Math.round(Math.abs(t.point.y-i.point.y));t.margin={left:10,right:10,top:10,bottom:10},i.margin={left:10,right:10,top:10,bottom:10},n=t.corners.top<i.corners.top?void 0!==o&&t.corners.left>o.offsetX||void 0===o&&t.corners.left>i.corners.left?a.j.Three:void 0!==o&&t.corners.right<o.offsetX||void 0===o&&t.corners.right<i.corners.right?a.j.Three:t.corners.bottom<i.corners.top?a.j.Five:0===s||0===c?a.j.One:a.j.Three:void 0!==r&&r.offsetX>i.corners.right||void 0===r&&t.corners.left>i.corners.right?a.j.Three:void 0!==r&&r.offsetX<i.corners.left||void 0===r&&t.corners.bottomRight.x<i.corners.left?a.j.Three:t.corners.top>i.corners.bottom?a.j.Five:0===s||0===c?a.j.One:a.j.Three;return n}(e,t,i));o&&F(t,i);return function(e,t,i,n,r){var o,s=e.sourceWrapper,c=e.targetWrapper,l=(e.targetPortWrapper,s.corners),h=c.corners,d=20;if((i.direction!==n.direction||t===a.j.Five)&&(i.direction===Y(n.direction)||t===a.j.Three))switch(i.direction){case"Left":l.middleLeft.x>h.middleRight.x&&(d=Math.min(d,(l.middleLeft.x-h.middleRight.x)/2));break;case"Right":l.middleRight.x<h.middleLeft.x&&(d=Math.min(d,(h.middleLeft.x-l.middleRight.x)/2));break;case"Top":l.topCenter.y>h.bottomCenter.y&&(d=Math.min(d,(l.topCenter.y-h.bottomCenter.y)/2));break;case"Bottom":l.bottomCenter.y<h.topCenter.y&&(d=Math.min(d,(h.topCenter.y-l.bottomCenter.y)/2))}if(d=H(l,i,d),r&&(d=Math.max(d,r)),t===a.j.One&&(o=[i.point,n.point]),t===a.j.Two&&(o=_(i,n)),t===a.j.Three&&(o=B(e,i,n,d)),t===a.j.Four){var p=void 0;o=W(i,n,p,o,d)}return t===a.j.Five&&(o=function(e,t,i){void 0===i&&(i=20);var n,r,o=i,a=e.corners.left-e.margin.left,s=e.corners.right+e.margin.right,c=e.corners.bottom+e.margin.bottom,l=e.corners.top-e.margin.top,h=t.corners.left-t.margin.left,d=t.corners.right+t.margin.right,p=t.corners.bottom+t.margin.bottom,u=t.corners.top-t.margin.top;switch(e.direction){case"Left":(l>u&&l<p||c<p&&c>u)&&a>h&&a<=d&&i>=20&&(o=e.point.x-t.corners.left+o),r=M(e.point,o,180);break;case"Top":(a>h&&a<d||s<d&&s>h)&&l>u&&l<=p&&i>=20&&(o=e.point.y-t.corners.top+o),r=M(e.point,o,270);break;case"Right":(l>u&&l<p||c<p&&c>u)&&s<d&&s>=h&&i>=20&&(o=t.corners.right-e.point.x+o),r=M(e.point,o,0);break;case"Bottom":(a>h&&a<d||s<d&&s>h)&&c<p&&c>=u&&i>=20&&(o=t.corners.bottom-e.point.y+o),r=M(e.point,o,90)}if(n=[e.point,r],"Top"===e.direction||"Bottom"===e.direction){var f=e.direction;e.direction=r.x>t.point.x?"Left":"Right",e.point=r,n=W(e,t,f,n)}else{var f=e.direction;e.direction=r.y>t.point.y?"Top":"Bottom",e.point=r,n=W(e,t,f,n)}return n}(i,n,d)),o}(e,r,t,i,n)}(e,D,L)}return j}(e,L.direction,R.direction,L.point,R.point);S(e),(e.sourceWrapper||e.targetWrapper)&&function(e,t,i){var n,r=e.sourcePortWrapper,o=e.targetPortWrapper,a=e.sourceWrapper,s=t.point,c={left:0,right:0,top:0,bottom:0},l={x:0,y:0},h="Top";a?(s=i.point,c=t.margin):(a=e.targetWrapper,c=i.margin);if("Orthogonal"===e.type)if(e.segments&&e.segments.length>0&&e.sourceWrapper&&e.segments[0].direction)t.direction=e.segments[0].direction,l=A(a.corners,t.direction),n=A(a.corners,Y(t.direction)),l=z(e,a,l,n,!1);else{var d={corners:null,direction:null,point:s,margin:c},p={corners:null,direction:null,point:null,margin:null};k(a,d,p,e),l=p.point,h=p.direction}else{var u=void 0;e.segments&&e.segments.length>1&&(u=a===e.sourceWrapper?e.segments[0].point:e.segments[e.segments.length-2].point),l=z(e,a,a.bounds.center,e.segments&&e.segments.length>1?u:s,a===e.targetWrapper)}a===e.sourceWrapper?(t.direction=t.direction||h,t.point=l,e.sourcePortWrapper&&(t.point={x:r.offsetX,y:r.offsetY},e.sourcePadding&&(t.point=v(e,t,i,!1)))):(i.direction=i.direction||h,i.point=l,e.targetPortWrapper&&(i.point={x:o.offsetX,y:o.offsetY},e.targetPadding&&(i.point=v(e,t,i,!0))))}(e,L,R);if("Straight"===e.type||"Bezier"===e.type)D=x(e,L,R);else if("Orthogonal"===e.type&&e.segments&&e.segments.length>0&&null!==e.segments[0].length&&null!==e.segments[0].direction)D=function(e,t,i,n,r,o,a){var s,c,h,f,v,b=[];if(S(e),e.segments.length>0){for(var w=0;w<e.segments.length;w++){var O=e.segments[w];if(0===w&&void 0!==e.sourcePortWrapper&&(f={x:o.offsetX,y:o.offsetY},h=U(f,Object(l.c)(n),n.bounds,!1),O.direction===Y(h)&&(O.direction=h)),w>0&&e.segments[w-1].direction===O.direction)w=P(e,w,t);else{var x=e.segments[w-1];t.point=O.direction?d(t,O):x.points[x.points.length-1]}if(w===e.segments.length-1)if(a||r?e.targetWrapper&&void 0===e.targetPortWrapper?(E(e,t),c=u(e,t,i)):c=g(e,t,i):c=p(e,t,i),y(c,e,t),O.points=[],c.length>=2)for(s=0;s<c.length;s++)O.points.push(c[s]);else v=w;if(o&&0===w){var j=m(e,o,n);j&&(t.point=j)}}void 0!==v&&(v===e.segments.length-1&&(e.segments[v-1].direction=null,e.segments[v-1].length=null),e.segments.splice(v,1)),b=T(e,b)}return b}(e,L,R,f,w,j,I);else{var X=void 0;L.direction?X=H(f.bounds,L,20):L.direction=R.direction?void 0!==e.targetPortWrapper?R.direction:Y(R.direction):n.a.direction(L.point,R.point),e.segments[0].points=D=B(e,L,R,X)}return D}(e,"Straight"!==e.type&&e.sourceWrapper?e.sourceWrapper.corners.center:function(e){var t;if(e.sourcePortWrapper){var i=e.sourcePortWrapper,n=e.sourceWrapper,r={x:i.offsetX,y:i.offsetY};U(r,Object(l.c)(n),n.bounds,!1);t=r}else if(e.sourceID&&e.sourceWrapper)if(e.targetWrapper){var o=e.sourceWrapper.corners.center,a=e.targetWrapper.corners.center;t=z(e,e.sourceWrapper,o,a,!1)}else t=e.sourcePoint;else t=e.sourcePoint;return t}(e),e.targetPoint,t),D(e,i[0],!1),D(e,i[i.length-1],!0),i}function d(e,t){var i,n,r;return e.direction=t.direction,t.points=[],t.points.push(e.point),r="Left"===t.direction||"Top"===t.direction?-t.length:t.length,n="Left"===t.direction||"Right"===t.direction?0:90,i=M(e.point,r,n),t.points.push(i),i}function p(e,t,i){var n,r,o,a;(t.corners=e.sourceWrapper?e.sourceWrapper.corners:void 0,e.sourcePortWrapper)&&(o=U({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},Object(l.c)(e.sourceWrapper),e.sourceWrapper.bounds,!1),!t.corners||"Bottom"!==t.direction&&"Top"!==t.direction?!t.corners||"Left"!==t.direction&&"Right"!==t.direction||i.point.y>t.corners.top&&i.point.y<t.corners.bottom&&(r=t.point.x>i.point.x?"Left":"Right"):i.point.x>t.corners.left&&i.point.x<t.corners.right&&(r=t.point.y>i.point.y?"Top":"Bottom"));e.sourcePortWrapper&&o===Y(r)?(("Left"===o||"Right"===o)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.center.y&&i.point.y>=t.corners.top&&i.point.y<=t.corners.center.y?(t.direction="Top",a=t.point.y-t.corners.top+20):("Left"===o||"Right"===o)&&t.point.y>t.corners.center.y&&t.point.y<=t.corners.bottom&&i.point.y>t.corners.center.y&&i.point.y<=t.corners.bottom?(t.direction="Bottom",a=t.corners.bottom-t.point.y+20):("Top"===o||"Bottom"===o)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.center.x&&i.point.x>=t.corners.left&&i.point.x<=t.corners.center.x?(t.direction="Left",a=t.point.x-t.corners.left+20):("Top"===o||"Bottom"===o)&&t.point.x<=t.corners.right&&t.point.x>t.corners.center.x&&i.point.x<=t.corners.right&&i.point.x<t.corners.center.x&&(t.direction="Right",a=t.corners.right-t.point.x+20),t.direction&&a&&(n=B(e,t,i,a,!0))):(t.direction=r||j(t.direction,t.point,i.point),n=_(t,i));return n}function u(e,t,i){var n;i.corners=e.targetWrapper.corners,k(e.targetWrapper,t,i,e);var r=j(i.direction,t.point,i.point);t.direction!==i.direction||"Left"!==t.direction&&"Right"!==t.direction?(t.direction=r,n=_(t,i)):(t.direction=r,n=B(e,t,i,e.targetWrapper.width/2+20),t.point=n[1],k(e.targetWrapper,t,i,e),n=B(e,t,i));return n}function f(e,t,i){var r,o,a;i.corners=e.targetWrapper.corners,"Left"!==t.direction&&"Right"!==t.direction?i.corners.center.y!==t.point.y||i.corners.left<=t.point.x&&t.point.x<=i.corners.right?i.corners.center.y===t.point.y&&"Bottom"===e.segments[e.segments.length-2].direction||i.corners.center.y>t.point.y&&t.point.y>=i.corners.top?(o="Top",a=t.point.y-i.corners.top+20):i.corners.center.y===t.point.y&&"Top"===e.segments[e.segments.length-2].direction||i.corners.center.y<t.point.y&&t.point.y<=i.corners.bottom?(o="Bottom",a=i.corners.bottom-t.point.y+20):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&t.corners.top<=t.point.y&&t.point.y<=t.corners.bottom&&(o=t.direction,a=t.point.y>i.point.y?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):(o="Top",a=i.corners.height/2+20):i.corners.center.x!==t.point.x||i.corners.top<t.point.y&&t.point.y<=i.corners.bottom?i.corners.center.x===t.point.x&&"Right"===e.segments[e.segments.length-2].direction||i.corners.center.x>t.point.x&&t.point.x>=i.corners.left?(o="Left",a=t.point.x-i.corners.left+20):i.corners.center.x===t.point.x&&"Left"===e.segments[e.segments.length-2].direction||i.corners.center.x<=t.point.x&&t.point.x<=i.corners.right?(o="Right",a=i.corners.right-t.point.x+20):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&t.corners.left<=t.point.x&&t.point.x<=t.corners.right&&(o=t.direction,a=t.point.x>i.point.x?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20):(o="Left",a=i.corners.width/2+20);var s="Left"===o||"Top"===o?-a:a,c="Left"===o||"Right"===o?0:90;r=t.point,t.point=M(t.point,s,c),t.direction=n.a.direction(t.point,i.point),void 0===e.sourcePortWrapper||void 0===e.targetPortWrapper||t.corners.center.x!==i.corners.center.x&&t.corners.center.y!==i.corners.center.y||(t.direction=i.direction);var l=B(e,t,i);return l.splice(0,0,r),l}function g(e,t,i){var n,r;(i.corners=e.targetWrapper.corners,void 0!==e.sourcePortWrapper)&&(r=U({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},Object(l.c)(e.sourceWrapper),e.sourceWrapper.bounds,!1));var o=function(e,t,i,n){var r=!1;switch(i.direction){case"Left":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Right"===n&&t.point.x>i.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||("Bottom"===n&&t.point.y>i.point.y||"Top"===n&&t.point.y<i.point.y)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction="Right"===n?t.point.y>i.point.y?"Top":"Bottom":t.point.x<i.point.x?"Right":"Left",r=!0):t.point.x>i.point.x&&(t.point.y>i.point.y||t.point.y<i.point.y)&&!(i.corners.top>t.point.y&&i.corners.bottom<t.point.y)?t.direction="Left":t.point.x<i.point.x&&t.point.y>i.point.y||t.point.x>i.point.x&&t.point.y<=i.point.y&&i.corners.top<t.point.y&&i.corners.center.y>=t.point.y?t.direction="Top":t.point.x<i.point.x&&t.point.y<i.point.y||t.point.x>i.point.x&&t.point.y>i.point.y&&i.corners.bottom<t.point.y&&i.corners.center.y>t.point.y?t.direction="Bottom":t.point.y===i.point.y&&t.point.x<i.point.x&&(t.direction="Right");break;case"Right":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&("Bottom"===n&&t.point.y>i.point.y||"Top"===n&&t.point.y<i.point.y)&&t.point.x>i.point.x&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right?(t.direction=t.point.x>i.point.x?"Left":"Right",r=!0):void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Left"===n&&t.point.x<i.point.x&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=t.point.y>i.point.y?"Top":"Bottom",r=!0):t.point.x<i.point.x&&i.corners.top<=t.point.y&&i.corners.bottom>=t.point.y&&t.point.y===i.point.y?t.direction="Top":t.point.y>i.point.y&&t.point.x>i.point.x?t.direction="Top":t.point.y<i.point.y&&t.point.x>i.point.x?t.direction="Bottom":t.point.x<i.point.x&&(t.point.y>i.point.y||t.point.y<i.point.y)?t.direction="Right":t.point.y===i.point.y&&t.point.x>i.point.x&&(t.direction="Left");break;case"Top":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&"Bottom"===n&&t.point.y>i.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right||("Right"===n&&t.point.x>i.point.x||"Left"===n&&i.point.y>t.point.y&&i.point.x>t.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction="Bottom"===n?t.point.x>i.point.x?"Left":"Right":t.point.y<i.point.y?"Bottom":"Top",r=!0):t.point.x===i.point.x&&t.point.y<i.point.y?t.direction="Bottom":t.point.y>i.point.y&&t.point.x>i.corners.left&&t.point.x<i.corners.right?t.direction="Left":t.point.y>=i.point.y?t.direction="Top":t.point.y<i.point.y&&t.point.x>i.point.x?t.direction="Left":t.point.y<i.point.y&&t.point.x<i.point.x&&(t.direction="Right");break;case"Bottom":void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&(("Right"===n||"Left"===n&&i.point.x>t.point.x)&&t.point.y>i.point.y&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Top"===n&&t.point.y<i.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?(t.direction="Right"===n||"Left"===n?t.point.y>i.point.y?"Top":"Bottom":t.point.x>i.point.x?"Left":"Right",r=!0):t.point.y<i.point.y&&t.point.x>i.corners.left&&i.corners.right>t.point.x?t.point.y<i.point.y&&t.point.x>i.corners.left&&i.corners.center.x>=t.point.x?t.direction="Left":t.point.y<i.point.y&&t.point.x<i.corners.right&&i.corners.center.x<t.point.x&&(t.direction="Right"):t.point.y>i.point.y&&t.point.x>i.point.x?t.direction="Left":t.point.y>i.point.y&&t.point.x<i.point.x?t.direction="Right":t.point.y<=i.point.y&&(t.point.x>i.point.x||i.point.x>t.point.x)&&(t.direction="Bottom")}return r}(e,t,i,r);return void 0!==e.sourcePortWrapper&&void 0!==e.targetPortWrapper&&i.direction===Y(r)&&(("Left"===i.direction&&t.point.x>i.point.x||"Right"===i.direction&&t.point.x<i.point.x)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom||"Bottom"===i.direction&&t.point.y<i.point.y&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right)?n=f(e,t,i):t.direction===i.direction?n=B(e,t,i):("Left"===i.direction&&t.point.x>i.point.x||"Right"===i.direction&&t.point.x<i.point.x)&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.y<=i.point.y&&i.corners.top<=t.point.y&&i.corners.bottom>=t.point.y||"Top"===i.direction&&t.point.y>i.point.y||"Bottom"===i.direction&&t.point.y<i.point.y&&i.corners.left<=t.point.x&&i.corners.right>=t.point.x?n=f(e,t,i):void 0!==e.sourceWrapper&&void 0!==e.targetWrapper&&void 0!==e.targetPortWrapper&&("Left"===t.direction||"Right"===t.direction)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom&&("Top"===i.direction||"Bottom"===i.direction)&&i.corners.center.x===t.corners.center.x?(t.direction="Top"===i.direction?"Bottom":"Top",n=B(e,t,i,"Top"===i.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20)):void 0!==e.sourceWrapper&&void 0!==e.targetWrapper&&void 0!==e.targetPortWrapper&&("Top"===t.direction||"Bottom"===t.direction)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&("Left"===i.direction||"Right"===i.direction)&&i.corners.center.y===t.corners.center.y?(t.direction="Left"===i.direction?"Right":"Left",n=B(e,t,i,"Left"===i.direction?t.corners.right-t.point.x+20:t.point.x-t.corners.left+20)):n=o?B(e,t,i,"Left"===t.direction||"Right"===t.direction?"Left"===t.direction?t.point.x-t.corners.left+20:t.corners.right-t.point.x+20:"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20):_(t,i),n}function m(e,t,i){var r,o={x:t.offsetX,y:t.offsetY},a=Object(l.c)(i),s=U(o,a,i.bounds,!1),c=e.segments[0];return c.direction!==s&&(!function(e,t,i,n,r,o){var a,s,c=[];c.push(n),n.y===r.y&&("Left"===t&&r.x<n.x||"Right"===t&&r.x>n.x)||n.x===r.x&&("Top"===t&&r.y<n.y||"Bottom"===t&&r.y>n.y)||("Top"===t||"Bottom"===t?"Top"===t&&r.y<n.y&&r.y>n.y-13||"Bottom"===t&&r.y>n.y&&r.y<n.y+13?(s="Top"===t?i.top-13:i.bottom+13,c.push({x:n.x,y:s}),c.push({x:n.x+(r.x-n.x)/2,y:s}),c.push({x:n.x+(r.x-n.x)/2,y:r.y})):Math.abs(n.x-r.x)>13&&("Top"===t&&r.y<n.y||"Bottom"===t&&r.y>n.y)?c.push({x:n.x,y:r.y}):(s="Top"===t?i.top-13:i.bottom+13,a=r.x<n.x?i.left-13:i.right+13,c.push({x:n.x,y:s}),c.push({x:r.x,y:s})):"Left"===t&&r.x<n.x&&r.x>n.x-13||"right"===t&&r.x>n.x&&r.x<n.x+13?(a="Left"===t?i.left-13:i.right+13,c.push({x:a,y:n.y}),c.push({x:a,y:n.y+(r.y-n.y)/2}),c.push({x:r.x,y:n.y+(r.y-n.y)/2})):Math.abs(n.y-r.y)>13&&("Left"===t&&r.x<n.x||"Right"===t&&r.x>n.x)?c.push({x:r.x,y:n.y}):(a="Left"===t?i.left-13:i.right+13,c.push({x:a,y:n.y}),c.push({x:a,y:r.y})),o&&(c.push(e.points[0]),c.reverse()),e.points=c)}(c,s,a,c.points[0],c.points[c.points.length-1],!1),r=c.points[c.points.length-1],c.direction=n.a.direction(c.points[c.points.length-2],c.points[c.points.length-1])),r}function y(e,t,i){var r,o=t.segments[t.segments.length-2],a=o.points[o.points.length-1];("Top"!==o.direction&&"Bottom"!==o.direction||a.x!==e[1].x)&&("Left"!==o.direction&&"Right"!==o.direction||a.y!==e[1].y)||(o.points[o.points.length-1]=e[1],r=n.a.direction(o.points[0],o.points[o.points.length-1]),void 0!==t.sourceWrapper&&void 0===t.sourcePortWrapper&&r===Y(o.direction)&&("Left"===o.direction||"Right"===o.direction?o.points[0].x="Right"===o.direction?o.points[0].x-t.sourceWrapper.corners.width:o.points[0].x+t.sourceWrapper.corners.width:o.points[0].y="Bottom"===o.direction?o.points[0].y-t.sourceWrapper.corners.height:o.points[0].y+t.sourceWrapper.corners.height),o.direction=r,o.length=n.a.distancePoints(o.points[0],o.points[o.points.length-1]),e.splice(0,1))}function v(e,t,i,n){var o=e.sourcePortWrapper,a=e.targetPortWrapper,s=n?e.targetPadding:e.sourcePadding,c=n?a:o,l=new r.a(c.bounds.x-s,c.bounds.y-s,c.actualSize.width+2*s,c.actualSize.height+2*s),h=[l.topLeft,l.topRight,l.bottomRight,l.bottomLeft];h[h.length]=h[0];h.length;var d={x1:t.point.x,y1:t.point.y,x2:i.point.x,y2:i.point.y},p=n?i.point:t.point;return L(d,h,!0,p)||p}function b(e,t){var i=[],n=Object(o.x)(e,e.corners,t);n.push(n[0]);for(var r=0;r<n.length-1;r++)i.push(w(n[r],n[r+1]));return i}function w(e,t){return{x1:e.x,y1:e.y,x2:t.x,y2:t.y}}function O(e,t,i){var n,r=e.rotateAngle+e.parentTransform;if(r){if(r<45)return t;if(r<=135)n={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.middleLeft,topRight:t.topLeft,middleLeft:t.bottomCenter,center:i.center,middleRight:t.topCenter,bottomLeft:t.bottomRight,bottomCenter:t.middleRight,bottomRight:t.topRight,left:i.left,right:i.right,top:i.top,bottom:i.bottom};else if(r<=225)n={width:t.width,height:t.height,topLeft:t.bottomLeft,topCenter:t.bottomCenter,topRight:t.bottomRight,middleLeft:t.middleRight,center:i.center,middleRight:t.middleLeft,bottomLeft:t.topLeft,bottomCenter:t.topCenter,bottomRight:t.topRight,left:i.left,right:i.right,top:i.top,bottom:i.bottom};else{if(!(r<=315))return t;n={width:t.width,height:t.height,topLeft:t.topRight,topCenter:t.middleRight,topRight:t.bottomRight,middleLeft:t.topCenter,center:i.center,middleRight:t.bottomCenter,bottomLeft:t.topLeft,bottomCenter:t.middleLeft,bottomRight:t.bottomLeft,left:i.left,right:i.right,top:i.top,bottom:i.bottom}}return n}return t}function x(e,t,i){var r=[];if(e.segments&&e.segments.length>0){var o=void 0,a=[],s=t.point;for(o=0;o<e.segments.length;o++){var c=e.segments[o];if((a=[]).push(s),o!==e.segments.length-1?(a.push(c.point),s=c.point):a.push(i.point),e.segments[o].points=a,e.segments.length>1&&n.a.equals(c.points[0],c.points[1])&&e.segments.splice(o,1),c)for(var l=0;l<c.points.length;l++)(l>0||0===o)&&r.push(c.points[l])}}return r}function j(e,t,i){return"Top"===e||"Bottom"===e?i.x>t.x?"Right":"Left":i.y>t.y?"Bottom":"Top"}function S(e){if("Straight"===e.type||"Bezier"===e.type){if(0===e.segments.length||e.segments.length>0&&!n.a.isEmptyPoint(e.segments[e.segments.length-1].point)){var t=void 0;t="Bezier"===e.type?new s.a(e,"segments",{type:"Bezier"},!0):new s.d(e,"segments",{type:"Straight"},!0),e.segments.push(t)}}else if(0===e.segments.length||e.segments[e.segments.length-1].direction){t=new s.c(e,"segments",{type:"Orthogonal"},!0);e.segments.push(t)}}function P(e,t,i){var n=e.segments[t],r="Left"===n.direction||"Top"===n.direction?-n.length:n.length,o="Left"===n.direction||"Right"===n.direction?0:90,a=M(i.point,r,o);return e.segments[t-1].length+=n.length,e.segments[t-1].points[1]=i.point=a,e.segments.splice(t,1),--t}function C(e,t,i){var n,r;e.sourcePortWrapper&&(r=U({x:e.sourcePortWrapper.offsetX,y:e.sourcePortWrapper.offsetY},Object(l.c)(e.sourceWrapper),e.sourceWrapper.bounds,!1));k(e.targetWrapper,t,i,e);var o=j(i.direction,t.point,i.point);if(void 0===e.sourcePortWrapper||t.direction!==i.direction||("Top"!==t.direction&&"Bottom"!==t.direction||t.corners.center.x!==i.corners.center.x)&&("Left"!==t.direction&&"Right"!==t.direction||t.corners.center.y!==i.corners.center.y))if(i.point.x>=t.corners.left&&i.point.x<=t.corners.right&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom){t.direction=i.point.y>t.point.y?"Bottom":"Top",n=B(e,t,i,"Top"===t.direction?t.point.y-t.corners.top+20:t.corners.bottom-t.point.y+20)}else if(e.sourcePortWrapper&&r===Y(o)){var a;("Left"===r||"Right"===r)&&t.point.y>=t.corners.top&&t.point.y<=t.corners.bottom?(t.direction=i.point.y>t.point.y?"Bottom":"Top",a=t.corners.height/2+20):("Top"===r||"Bottom"===r)&&t.point.x>=t.corners.left&&t.point.x<=t.corners.right&&(t.direction=i.point.x>t.point.x?"Right":"Left",a=t.corners.width/2+20),t.direction&&a?n=B(e,t,i,a,!0):(t.direction=o,n=_(t,i))}else if(!e.sourcePortWrapper||r!==i.direction||"Top"!==r&&"Bottom"!==r||t.corners.center.x!==i.corners.center.x)t.direction=o,n=_(t,i);else{t.direction=i.point.y>t.point.y?"Bottom":"Top",n=B(e,t,i,"Bottom"===t.direction?t.corners.bottom-t.point.y+20:t.point.y-t.corners.top+20)}else t.direction=o,n=B(e,t,i,"Top"===o||"Bottom"===o?e.sourceWrapper.height/2+20:e.sourceWrapper.width/2+20),t.point=n[1],"Left"===o||"Right"===o?(i.direction=o,i.point="Left"===o?i.corners.middleLeft:i.corners.middleRight):k(e.targetWrapper,t,i,e),n=B(e,t,i);return n}function E(e,t){if(void 0!==e.targetWrapper&&void 0===e.targetPortWrapper&&Object(l.c)(e.targetWrapper).containsPoint(t.point)){var i=e.targetWrapper,r=e.segments[e.segments.length-2],o=r.points[r.points.length-1],a=Y(r.direction);"Bottom"===a?o.y<i.corners.bottom&&(r.points[r.points.length-1].y=i.corners.bottom+20,r.length=n.a.distancePoints(r.points[0],r.points[r.points.length-1])):"Top"===a?o.y>i.corners.top&&(r.points[r.points.length-1].y=i.corners.top-20,r.length=n.a.distancePoints(r.points[0],r.points[r.points.length-1])):"Left"===a?o.x>i.corners.left&&(r.points[r.points.length-1].x=i.corners.left-20,r.length=n.a.distancePoints(r.points[0],r.points[r.points.length-1])):"Right"===a&&o.x<i.corners.right&&(r.points[r.points.length-1].x=i.corners.right+20,r.length=n.a.distancePoints(r.points[0],r.points[r.points.length-1])),t.point=r.points[r.points.length-1]}}function T(e,t){for(var i=0;i<e.segments.length;i++)for(var n=e.segments[i],r=0;r<n.points.length;r++)(r>0||0===i)&&t.push(n.points[r]);return t}function k(e,t,i,n){var r,o={x:0,y:0},a=O(e,e.corners,e.bounds),s=t.margin,c=t.point;if(a.bottomCenter.y+s.bottom<c.y)r="Bottom",o=a.bottomCenter;else if(a.topCenter.y-s.top>c.y)r="Top",o=a.topCenter;else if(a.middleLeft.x-s.left>c.x)r="Left",o=a.middleLeft;else if(a.middleRight.x+s.right<c.x)r="Right",o=a.middleRight;else{var l=Math.abs(c.y-a.topCenter.y),h=Math.abs(c.x-a.middleRight.x),d=Math.abs(c.y-a.bottomCenter.y),p=Math.abs(c.x-a.middleLeft.x),u=Number.MAX_VALUE;u=l,r="Top",o=a.topCenter,u>h&&(u=h,r="Right",o=a.middleRight),u>d&&(u=d,r="Bottom",o=a.bottomCenter),u>p&&(r="Left",o=a.middleLeft)}i.point=o,i.direction=r;var f=A(a,Y(i.direction));i.point=z(n,e,i.point,f,e===n.targetWrapper)}function I(e,t){var i={x:t.x,y:e.y},r=(n.a.findLength(e,i),n.a.findLength(i,t)),o=n.a.findLength(t,e),a=Math.asin(r/o);return a=180*a/Math.PI,e.x<t.x?e.y>t.y&&(a=360-a):a=e.y<t.y?180-a:180+a,a}function A(e,t){var i;switch(t){case"Left":i=e.middleLeft;break;case"Top":i=e.topCenter;break;case"Right":i=e.middleRight;break;case"Bottom":i=e.bottomCenter}return i}function M(e,t,i){return n.a.transform(e,i,t)}function z(e,t,i,a,s){i={x:i.x,y:i.y},a={x:a.x,y:a.y};var h,d,p,u=n.a.findAngle(a,i),f=s?e.targetWrapper:e.sourceWrapper,g=s?e.targetPadding:e.sourcePadding,m=s||"Orthogonal"===e.type?i:a;n.a.transform(i,u,Math.max(f.actualSize.height/2,f.actualSize.width/2));h=f;var y=Object(l.j)(-f.parentTransform,f.offsetX,f.offsetY,i),v=Object(l.j)(-f.parentTransform,f.offsetX,f.offsetY,a);if("Orthogonal"===e.type){y.x===v.x&&(y.y<v.y?y.y-=5:y.y+=5),y.y===v.y&&(y.x<v.x?y.x-=5:y.x+=5),i=Object(l.j)(f.parentTransform,f.offsetX,f.offsetY,y)}else{s?n.a.findAngle(i,a):n.a.findAngle(a,i);if(s){var b=n.a.findAngle(i,a);a=n.a.transform({x:a.x,y:a.y},b,Math.max(f.actualSize.width,f.actualSize.height))}else{var w=n.a.findAngle(a,i);i=n.a.transform({x:i.x,y:i.y},w,Math.max(f.actualSize.width,f.actualSize.height))}}f instanceof c.a&&f.data?(p=h.getPoints(),h.data.split("m").length-1+(h.data.split("M").length-1)===1&&(p[p.length]=p[0])):((e.sourcePadding||e.targetPadding)&&(d=new r.a(f.bounds.x-g,f.bounds.y-g,f.actualSize.width+2*g,f.actualSize.height+2*g)),(p=d?[d.topLeft,d.topRight,d.bottomRight,d.bottomLeft]:Object(o.x)(f,f.corners))[p.length]=p[0]);p.length;return L({x1:i.x,y1:i.y,x2:a.x,y2:a.y},p,!0,m)||i}function D(e,t,i){return t.x=Math.round(100*t.x)/100,t.y=Math.round(100*t.y)/100,i?e.targetPoint=t:e.sourcePoint=t,t}function L(e,t,i,r){var o,a=t.length,s={x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y},c=R(e,s);if(c&&(o=n.a.distancePoints(c,r)),isNaN(o)||o>0)for(var l=1;l<a-1;l++){var h=R(e,s={x1:t[l].x,y1:t[l].y,x2:t[l+1].x,y2:t[l+1].y});if(h){var d=n.a.distancePoints(h,r);if((isNaN(o)||o>d)&&(o=d,c=h),o>=0&&o<=1)break}}return c}function R(e,t){var i,n,r,o,a,s,c,l,h,d,p,u,f,g=e.x1,m=e.y1,y=e.x2,v=e.y2,b=t.x1,w=t.y1,O=t.x2,x=t.y2;return d=(i=v-m)*O+(r=g-y)*x+(a=y*m-g*v),0!==(h=i*b+r*w+a)&&0!==d&&N(h,d)?null:(l=(n=x-w)*y+(o=b-O)*v+(s=O*w-b*x),0!==(c=n*g+o*m+s)&&0!==l&&N(c,l)?null:0===(p=i*o-n*r)?null:(u=p<0?-p/2:p/2,u=0,{x:(f=r*s-o*a)<0?(f-u)/p:(f+u)/p,y:(f=n*a-i*s)<0?(f-u)/p:(f+u)/p}))}function N(e,t){return e*t>=0}function H(e,t,i){switch(t.direction){case"Left":t.point.x>e.left&&(i=t.point.x-e.left>i?t.point.x-e.left+i:i);break;case"Right":t.point.x<e.right&&(i=e.right-t.point.x>i?e.right-t.point.x+i:i);break;case"Top":t.point.y>e.top&&(i=t.point.y-e.top>i?t.point.y-e.top+i:i);break;case"Bottom":t.point.y<e.bottom&&(i=e.bottom-t.point.y>i?e.bottom-t.point.y+i:i)}return i}function _(e,t){var i;switch(e.direction){case"Left":case"Right":var r={x:t.point.x,y:e.point.y};i=n.a.equals(e.point,r)||n.a.equals(t.point,r)?[e.point,t.point]:[e.point,r,t.point];break;case"Top":case"Bottom":var o={x:e.point.x,y:t.point.y};i=n.a.equals(e.point,o)||n.a.equals(t.point,o)?[e.point,t.point]:[e.point,o,t.point]}return i}function B(e,t,i,n,r){n||(n=20);var o,a,s,c=e.sourcePortWrapper,l=i.point.x-t.point.x,h=i.point.y-t.point.y;if(!r&&(Math.abs(l)<.001||Math.abs(h)<.001)&&void 0===i.direction)return[t.point,i.point];if(void 0===e.targetWrapper&&Math.abs(l)<=31&&Math.abs(h)<=31){if("Left"===t.direction||"Right"===t.direction?Math.abs(h)<12&&(t.direction=t.point.y>i.point.y?"Top":"Bottom"):Math.abs(l)<12&&(t.direction=t.point.x>i.point.x?"Left":"Right"),Math.abs(l)>12||Math.abs(h)>12)return _(t,i);n+=5}return"Left"===t.direction||"Right"===t.direction?("Right"===t.direction?(void 0!==i.direction&&"Right"===i.direction&&(n=Math.max(t.point.x,i.point.x)-t.point.x+n),t.point.x>i.point.x&&void 0===c&&(n=-n)):(void 0!==i.direction&&"Left"===i.direction&&(n=t.point.x-Math.min(t.point.x,i.point.x)+n),(t.point.x>i.point.x||void 0!==c||"Left"===t.direction)&&(n=-n)),s=i.point.y-t.point.y,o=M(t.point,n,0),0!==(s=i.point.y-o.y)&&(a=M(o,i.point.y-o.y,90))):"Top"!==t.direction&&"Bottom"!==t.direction||("Bottom"===t.direction?void 0!==i.direction&&"Bottom"===i.direction&&(n=Math.max(t.point.y,i.point.y)-t.point.y+n):(void 0!==i.direction&&"Top"===i.direction&&(n=t.point.y-Math.min(t.point.y,i.point.y)+n),(t.point.y>i.point.y||void 0!==c||"Top"===t.direction)&&(n=-n)),s=i.point.x-t.point.x,o=(t.direction,M(t.point,n,90)),0!==(s=i.point.x-o.x)&&(a=M(o,i.point.x-o.x,0))),0===s?[t.point,i.point]:[t.point,o,a,i.point]}function W(e,t,i,n,r){var o;switch(void 0===r&&(r=20),void 0===i?(e.margin={left:2,right:2,top:2,bottom:2},t.margin={left:0,right:5,top:0,bottom:5}):"Bottom"===e.direction?t.corners.top>e.corners.bottom&&t.corners.top-e.corners.bottom<20&&(r=(t.corners.top-e.corners.bottom)/2):"Top"===e.direction?t.corners.bottom<e.corners.top&&e.corners.top-t.corners.bottom<20&&(r=(e.corners.top-t.corners.bottom)/2):"Right"===e.direction?t.corners.left>e.corners.right&&t.corners.left-e.corners.right<20&&(r=(t.corners.left-e.corners.right)/2):"Left"===e.direction&&t.corners.right<e.corners.left&&e.corners.left-t.corners.right<20&&(r=(e.corners.left-t.corners.right)/2),e.direction){case"Left":r=function(e,t,i,n){e.corners.left-e.margin.left>t.corners.left-t.margin.left&&e.corners.left-e.margin.left<=t.corners.right+t.margin.right?("Bottom"===t.direction&&e.point.y<t.point.y?n+=e.corners.left-t.corners.left:"Top"===t.direction&&e.point.y>t.point.y&&(n+=e.corners.left-t.corners.left),n+=e.point.x-e.corners.left):void 0!==i&&"Top"!==i&&"Bottom"===t.direction&&e.point.y<t.point.y?n+=Math.abs(e.point.x-t.corners.right):void 0!==i&&"Bottom"!==i&&"Top"===t.direction&&t.point.y<e.point.y?n+=Math.abs(e.point.x-t.corners.right):n+=e.point.x-e.corners.left;return n}(e,t,i,r),o=M(e.point,r,180);break;case"Right":r=function(e,t,i,n){e.corners.right+e.margin.right<t.corners.right+t.margin.right&&e.corners.right+e.margin.right>=t.corners.left-t.margin.left?("Bottom"===t.direction&&e.point.y<t.point.y?i+=t.corners.right-e.corners.right:"Top"===t.direction&&e.point.y>t.point.y&&(i+=t.corners.right-e.corners.right),i+=e.corners.right-e.point.x):void 0!==n&&"Top"!==n&&"Bottom"===t.direction&&e.point.y<t.point.y?i+=Math.abs(e.point.x-t.corners.right):void 0!==n&&"Bottom"!==n&&"Top"===t.direction&&t.point.y<e.point.y?i+=Math.abs(e.point.x-t.corners.right):i+=e.corners.right-e.point.x;return i}(e,t,r,i),o=M(e.point,r,0);break;case"Top":r=function(e,t,i,n){e.corners.top-e.margin.top>t.corners.top+t.margin.top&&e.corners.top-e.margin.top<=t.corners.bottom+t.margin.bottom?("Right"===t.direction&&e.point.x<t.point.x?n+=e.corners.top-t.corners.top:"Left"===t.direction&&e.point.x>t.point.x&&(n+=e.corners.top-t.corners.top),n+=e.point.y-e.corners.top):void 0!==i&&"Left"!==i&&"Right"===t.direction&&e.point.x<t.point.x?n+=Math.abs(e.point.y-t.corners.bottom):void 0!==i&&"Right"!==i&&"Left"===t.direction&&t.point.x<e.point.x?n+=Math.abs(e.point.y-t.corners.bottom):n+=e.point.y-e.corners.top;return n}(e,t,i,r),o=M(e.point,r,270);break;case"Bottom":r=function(e,t,i,n){e.corners.bottom+e.margin.bottom<t.corners.bottom+t.margin.bottom&&e.corners.bottom+e.margin.bottom>=t.corners.top-t.margin.top?("Right"===t.direction&&e.point.x<t.point.x?i+=t.corners.bottom-e.corners.bottom:"Left"===t.direction&&e.point.x>t.point.x&&(i+=t.corners.bottom-e.corners.bottom),i+=e.corners.bottom-e.point.y):void 0!==n&&"Left"!==n&&"Right"===t.direction&&e.point.x<t.point.x?i+=Math.abs(e.point.y-t.corners.bottom):void 0!==n&&"Right"!==n&&"Left"===t.direction&&t.point.x<e.point.x?i+=Math.abs(e.point.y-t.corners.bottom):i+=e.corners.bottom-e.point.y;return i}(e,t,r,i),o=M(e.point,r,90)}return void 0!==n?n.push(o):n=[e.point,o],"Top"===e.direction||"Bottom"===e.direction?q(o,"horizontal",e,t,n):"Right"!==e.direction&&"Left"!==e.direction||q(o,"vertical",e,t,n),n}function q(e,t,i,n,r){var o,a,s;"horizontal"===t?(i.margin={left:0,right:10,top:0,bottom:10},n.margin={left:0,right:10,top:0,bottom:10}):"vertical"===t&&(i.margin={left:10,right:0,top:10,bottom:0},n.margin={left:10,right:0,top:10,bottom:0});var c=20;if("horizontal"===t){switch(n.direction){case"Left":if(i.corners.right+i.margin.right<n.corners.left-n.margin.left&&(n.corners.left-i.corners.right>c||i.corners.top-i.margin.top<=n.point.y&&i.corners.bottom+i.margin.bottom>=n.point.y)){var l=Math.min(Math.abs(n.corners.left-i.corners.right)/2,20);c=i.corners.right-e.x+l}else c="Top"===i.direction&&e.y>n.point.y||"Bottom"===i.direction&&e.y<n.point.y?Math.min(n.corners.left,e.x)-e.x-20:e.x>=i.corners.left-i.margin.left&&e.x<=i.corners.right+i.margin.right?Math.min(n.corners.left,i.corners.left)-e.x-20:n.corners.left-e.x-20;break;case"Right":if(i.corners.left-i.margin.left>n.corners.right+n.margin.right&&(i.corners.left-n.corners.right>c||i.corners.top-i.margin.top<=n.point.y&&i.corners.bottom+i.margin.bottom>=n.point.y)){l=Math.min(Math.abs(i.corners.left-n.corners.right)/2,20);c=i.corners.left-e.x-l}else c="Top"===i.direction&&e.y>n.point.y||"Bottom"===i.direction&&e.y<n.point.y?Math.max(n.corners.right,e.x)-e.x+20:e.x>=i.corners.left-i.margin.left&&e.x<=i.corners.right+i.margin.right?Math.max(n.corners.right,i.corners.right)-e.x+20:n.corners.right-e.x+20}o=M(e,c,0),a=M(o,n.point.y-e.y,90),s=n.point}else if("vertical"===t){switch(n.direction){case"Top":if(i.corners.bottom+i.margin.bottom<n.corners.top-n.margin.top&&(n.corners.top-i.corners.bottom>c||i.corners.left-i.margin.left<=n.point.x&&i.corners.right+i.margin.right>=n.point.x)){l=Math.min(Math.abs(n.corners.top-i.corners.bottom)/2,20);c=i.corners.bottom-e.y+l}else c="Left"===i.direction&&e.x>n.point.x||"Right"===i.direction&&e.x<n.point.x?Math.min(n.corners.top,e.y)-e.y-20:e.y>=i.corners.top-i.margin.top&&e.y<=i.corners.bottom+i.margin.bottom?Math.min(n.corners.top,i.corners.top)-e.y-20:n.corners.top-e.y-20;break;case"Bottom":if(i.corners.top-i.margin.top>n.corners.bottom+n.margin.bottom&&(i.corners.top-n.corners.bottom>c||i.corners.left-i.margin.left<=n.point.x&&i.corners.right+i.margin.right>=n.point.x)){l=Math.min(Math.abs(i.corners.top-n.corners.bottom)/2,20);c=i.corners.top-e.y-l}else c="Left"===i.direction&&e.x>n.point.x||"Right"===i.direction&&e.x<n.point.x?Math.max(n.corners.bottom,e.y)-e.y+20:e.y>=i.corners.top-i.margin.top&&e.y<=i.corners.bottom+i.margin.bottom?Math.max(n.corners.bottom,i.corners.bottom)-e.y+20:n.corners.bottom-e.y+20}o=M(e,c,90),a=M(o,n.point.x-e.x,0),s=n.point}r.push(o),r.push(a),r.push(s)}function F(e,t){var i=e.direction;e.direction=t.direction,t.direction=i;var n=e.point;e.point=t.point,t.point=n;var r=e.corners;e.corners=t.corners,t.corners=r}function U(e,t,i,n){var r=void 0===t?i:t,o=r.topLeft,a=r.topRight,s=r.bottomRight,c=r.bottomLeft,l=r.center,h=I(l,e),d=I(l,s),p=I(l,c),u=I(l,o),f=I(l,a);return h>u&&h<f?"Top":h>=d&&h<p?"Bottom":h>=p&&h<=u?"Left":"Right"}function X(e){var t;return t=e.wrapper.children[0].bounds,"None"!==e.sourceDecorator.shape&&t.uniteRect(e.wrapper.children[1].bounds),"None"!==e.targetDecorator.shape&&t.uniteRect(e.wrapper.children[2].bounds),t}function Y(e){switch(e){case"Top":return"Bottom";case"Bottom":return"Top";case"Left":return"Right";case"Right":return"Left"}return"auto"}},function(e,t,i){"use strict";var n=i(3),r=i(0),o=i(9),a=i(2),s=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},l=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.offset=0,n.scale=1,n}return s(t,e),t.prototype.preRender=function(){this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.updateRulerGeometry()},t.prototype.getModuleName=function(){return"Ruler"},t.prototype.destroy=function(){this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),this.element.classList.remove("e-ruler")},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"length":case"interval":case"segmentWidth":case"tickAlignment":case"markerColor":case"thickness":this.updateRuler()}}},t.prototype.updateRulerGeometry=function(){this.element.style.textAlign="left",this.renderRulerSpace(),this.updateRuler()},t.prototype.renderRulerSpace=function(){var e=this.getRulerGeometry(),t=document.getElementById(this.element.id+"_ruler_space");return t||(t=Object(n.b)("div",{id:this.element.id+"_ruler_space",style:"height:"+e.height+"px;width:"+e.width+"px;cssFloat:left;"}),this.element.appendChild(t)),t},t.prototype.updateRuler=function(){var e=this.getRulerSize(),t=this.getRulerGeometry(),i=0,n=0,r=new o.a,a=this.getRulerSVG(t);if(a&&(i=this.length,r.height=e,n=this.offset,i&&i!==1/0)){var s=i+this.segmentWidth,c=n;this.updateSegments(c,s+Math.abs(c),a,e)}},t.prototype.updateSegments=function(e,t,i,n){for(var r=e,o={trans:0};r<t;){var a=this.getNewSegment(r,i);a&&(i.appendChild(a.segment),r=this.updateSegment(e,t,a,r,o,n))}},t.prototype.updateSegment=function(e,t,i,n,r,o){var a=this.updateSegmentWidth(this.scale);n===e?(this.startValue=Math.floor(e/a)*a/this.scale,this.startValue=this.startValue%1!==0?Number(this.startValue.toFixed(1)):this.startValue,i.label.textContent=this.startValue.toString(),this.defStartValue=n=this.startValue*this.scale,"Horizontal"===this.orientation?this.hRulerOffset=e-n:this.vRulerOffset=e-n):(this.startValue=n/this.scale,this.startValue=this.startValue%1!==0?Number(this.startValue.toFixed(1)):this.startValue,i.label.textContent=this.startValue.toString()),this.updateTickLabel(i,o);var s="Horizontal"===this.orientation?r.trans+.5+",0.5":"0.5,"+(r.trans+.5);return i.segment.setAttribute("transform","translate("+s+")"),r.trans+=a,n+=a},t.prototype.updateTickLabel=function(e,t){var i=e.segment.lastChild.getBBox(),r="Horizontal"===this.orientation,o="RightOrBottom"===this.tickAlignment,a=r?2:0,s=r?o?t/2+5.5-5.5:t/2+5.5:i.height,c=o?-(i.width+2)+","+(t/2-i.height):-(i.width+2)+","+(t/2-i.height/2),l=r?{x:a,y:s}:{x:a,y:s,transform:"rotate(270)translate("+c+")"};Object(n.G)(e.segment.lastChild,l)},t.prototype.getNewSegment=function(e,t){var i=this.createNewTicks(e,t);return{segment:i,label:this.createTickLabel(t,i)}},t.prototype.createNewTicks=function(e,t){var i,r,o,a=this.updateSegmentWidth(this.scale);o=Object(n.d)("g",{class:"e-ruler-segment"});for(var s=0;s<this.interval;s++)r=a/this.interval,i=this.createTick(t,r,s+1,e),o.appendChild(i);return o},t.prototype.getLinePoint=function(e,t,i){var n=this.updateSegmentWidth(this.scale),r=this.getRulerSize();return i=(t*=i-1)%n===0?r:.3*r},t.prototype.createTick=function(e,t,i,r){var o,s,c,l=this.getLinePoint(e,t,i),h=this.getRulerSize(),d="Horizontal"===this.orientation,p="RightOrBottom"===this.tickAlignment,u=Object(a.f)(this.arrangeTick);s={ruler:void 0,tickLength:l,tickInterval:this.segmentWidth/this.interval*(i-1)},u&&u(s),l=s.tickLength;var f=t*(i-1);return c={x1:d?f:p?h:0,y1:d?p?h:h-(h-l):f,x2:d?f:p?h-l:h-(h-l),y2:d?p?h-l:0:f,"stroke-width":"1",stroke:"black"},(o=Object(n.d)("line",c)).setAttribute("class","e-ruler-tick"),o},t.prototype.createTickLabel=function(e,t){var i;if(t){i=Object(n.d)("text",{class:"e-ruler-tick-label"}),t.appendChild(i)}return i},t.prototype.updateSegmentWidth=function(e){if(100!==this.segmentWidth)return this.segmentWidth;var t,i=1;for(t=100,t=100/Math.pow(2,Math.round(Math.log(e)/Math.log(2)));t>100;)i/=10,t/=10;for(;t<25;)i*=10,t*=10;return t>=25&&t%25!==0&&(t=25*Math.round(t/25)),t*e/i},t.prototype.createMarkerLine=function(e,t,i){var r;return t&&((r=e.getElementById(t.id+"_marker"))&&r.parentNode.removeChild(r),r=Object(n.d)("line",i)),r},t.prototype.drawRulerMarker=function(e,t,i){var n,r,o,a,s,c,l,h="Horizontal"===this.orientation,d=e.getElementsByTagName("svg");for(s=0;s<d.length;s++){d[s]&&(n=d[s]);break}if(n){r=this.getRulerSize(),c={id:e.id+"_marker",x1:0,y1:0,x2:h?0:r,y2:h?r:0,stroke:this.markerColor,"stroke-width":1.5,class:"e-d-ruler-marker"},l=this.createMarkerLine(n,e,c),o=this.scale,a=this.offset-this.defStartValue;var p=(h?t.x:t.y)*o+i+a;l.setAttribute("transform","translate("+(h?p+.5+" 0.5":"0.5 "+(p+.5))+")"),n.appendChild(l)}},t.prototype.getRulerGeometry=function(){return new o.a(this.element?this.element.getBoundingClientRect().width:0,this.element?this.element.getBoundingClientRect().height:0)},t.prototype.getRulerSize=function(){return this.thickness},t.prototype.getRulerSVG=function(e){var t,i,r=this.getRulerSize();if(this.element&&(t=document.getElementById(this.element.id+"_ruler_space"))){var o={id:this.element.id+"_Ruler_svg",width:"Horizontal"===this.orientation?e.width+200:r+"px",height:"Horizontal"===this.orientation?r:e.height+200+"px",style:"position:inherit;"};if(i=Object(n.d)("svg",o),t.childNodes.length>0)for(var a=t.childNodes.length-1;a>=0;a--)t.childNodes[a].parentNode.removeChild(t.childNodes[a]);t.appendChild(i)}return i},t.prototype.wireEvents=function(){},t.prototype.unWireEvents=function(){},c([Object(r.q)(5)],t.prototype,"interval",void 0),c([Object(r.q)(100)],t.prototype,"segmentWidth",void 0),c([Object(r.q)("Horizontal")],t.prototype,"orientation",void 0),c([Object(r.q)("RightOrBottom")],t.prototype,"tickAlignment",void 0),c([Object(r.q)("red")],t.prototype,"markerColor",void 0),c([Object(r.q)(25)],t.prototype,"thickness",void 0),c([Object(r.q)(null)],t.prototype,"arrangeTick",void 0),c([Object(r.q)(400)],t.prototype,"length",void 0),t}(r.i);function h(e){var t=f(e),i={id:e.element.id+"_overlapRuler",style:"height:"+t.height+"px;width:"+t.width+"px;position:absolute;left:0;top:0",class:"e-ruler-overlap"},r=Object(n.b)("div",i);e.element.insertBefore(r,e.element.firstChild)}function d(e,t){var i=document.getElementById(e.element.id+(t?"_hRuler":"_vRuler")),r=f(e),o=g(e),a=t?"margin-left:"+r.width+"px;":"margin-top:"+r.height+"px;";if(!i){var s="height:"+(t?r.height:o.height+100)+"px;overflow:hidden;width:"+(t?o.width+100:r.width)+"px;position:absolute;font-size:11px;"+a,c={id:e.element.id+(t?"_hRuler":"_vRuler"),style:s};i=Object(n.b)("div",c)}e.element.insertBefore(i,e.element.firstChild);var h=t?e.rulerSettings.horizontalRuler:e.rulerSettings.verticalRuler,d=new l(h);d.orientation=t?"Horizontal":"Vertical",d.length=(t?o.width:o.height)+h.segmentWidth,d.appendTo("#"+e.element.id+(t?"_hRuler":"_vRuler")),t?e.hRuler=d:e.vRuler=d;var p=document.getElementById(e.element.id+(t?"_hRuler":"_vRuler"));t?e.hRuler.element=p:e.vRuler.element=p}function p(e){var t=-e.scroller.horizontalOffset,i=-e.scroller.verticalOffset;e&&e.rulerSettings.showRulers?(e.hRuler.length=0,e.vRuler.length=0,void 0!==t&&e.hRuler.element&&v(e,e.hRuler,t,!0),void 0!==i&&e.vRuler.element&&v(e,e.vRuler,i,!1)):u(e)}function u(e){Object(n.E)(e.element.id+"_hRuler"),Object(n.E)(e.element.id+"_vRuler"),Object(n.E)(e.element.id+"_overlapRuler")}function f(e){var t=0,i=0;return e.rulerSettings.showRulers&&(t=e.rulerSettings.horizontalRuler.thickness,i=e.rulerSettings.verticalRuler.thickness),new o.a(i,t)}function g(e){var t=f(e),i=e.scroller.viewPortHeight,n=e.scroller.viewPortWidth;return n<e.element.clientWidth-t.width&&(n=e.element.clientWidth-t.width),i<e.element.clientHeight-t.height&&(i=e.element.clientHeight-t.height),e.hRuler&&e.hRuler.length&&(n=e.hRuler.length),e.vRuler&&e.vRuler.length&&(i=e.vRuler.length),new o.a(n,i)}function m(){var e,t,i=document.getElementsByClassName("e-d-ruler-marker");if(i&&i.length>0)for(t=i.length-1;t>=0;t--)(e=i[t])&&e.parentNode.removeChild(e)}function y(e,t){e.rulerSettings.showRulers&&(e.hRuler.drawRulerMarker(e.hRuler.element,t,e.scroller.horizontalOffset),e.vRuler.drawRulerMarker(e.vRuler.element,t,e.scroller.verticalOffset))}function v(e,t,i,n){var r=f(e),o=g(e),s=n?e.rulerSettings.horizontalRuler:e.rulerSettings.verticalRuler;!function(e,t,i){var n=document.getElementById(e.element.id+(i?"_hRuler":"_vRuler")),r=i?e.hRuler:e.vRuler;n&&e&&t&&(n.style.width=(i?t.width+r.segmentWidth:r.thickness)+"px",n.style.height=(i?r.thickness:t.height+r.segmentWidth)+"px",(n=document.getElementById(e.element.id+"_overlapRuler"))&&(i?n.style.height=r.thickness+"px":n.style.width=r.thickness+"px"))}(e,o,n),function(e,t,i){var n=document.getElementById(e.element.id+(i?"_hRuler_ruler_space":"_vRuler_ruler_space")),r=i?e.hRuler:e.vRuler;n&&e&&t&&(n.style.width=(i?t.width+2*r.segmentWidth:r.thickness)+"px",n.style.height=(i?r.thickness:t.height+2*r.segmentWidth)+"px")}(e,o,n),t.offset=i,t.scale=e.scroller.currentZoom,t.length=o.width+100,t.arrangeTick=Object(a.f)(s.arrangeTick),t.dataBind();var c=n?e.hRuler.element:e.vRuler.element;n?c.style.marginLeft=r.width-t.hRulerOffset+"px":c.style.marginTop=r.height-t.vRulerOffset+"px"}i.d(t,"e",function(){return h}),i.d(t,"f",function(){return d}),i.d(t,"g",function(){return p}),i.d(t,"c",function(){return u}),i.d(t,"b",function(){return f}),i.d(t,"d",function(){return m}),i.d(t,"a",function(){return y})},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(22),r=i(1),o=i(14),a=i(9),s=i(11),c=i(2),l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.padding=new o.g(0,0,0,0),t.desiredBounds=void 0,t.measureChildren=!0,t.prevRotateAngle=0,t}return l(t,e),t.prototype.hasChildren=function(){return void 0!==this.children&&this.children.length>0},t.prototype.measure=function(e){this.desiredBounds=void 0;var i,n,r=void 0;if(this.hasChildren()){for(var o=0;o<this.children.length;o++){"Stretch"!==(i=this.children[o]).horizontalAlignment||e.width||(e.width=i.bounds.width),"Stretch"!==i.verticalAlignment||e.height||(e.height=i.bounds.height);var s="Stretch"===i.horizontalAlignment||"Stretch"===i.verticalAlignment;(this.measureChildren||s||i instanceof t&&void 0!==i.measureChildren)&&i.measure(e),n=this.GetChildrenBounds(i),"Stretch"!==i.horizontalAlignment&&"Stretch"!==i.verticalAlignment?void 0===this.desiredBounds?this.desiredBounds=n:this.desiredBounds.uniteRect(n):!this.actualSize||this.actualSize.width||this.actualSize.height||i.preventContainer||"Stretch"!==i.horizontalAlignment||"Stretch"!==i.verticalAlignment||(void 0===this.desiredBounds?this.desiredBounds=i.bounds:this.desiredBounds.uniteRect(i.bounds))}if(void 0!==this.desiredBounds&&0!==this.rotateAngle){var l={x:this.desiredBounds.x+this.desiredBounds.width*this.pivot.x,y:this.desiredBounds.y+this.desiredBounds.height*this.pivot.y},h=Object(c.j)(this.rotateAngle,void 0,void 0,l);this.desiredBounds.x=h.x-this.desiredBounds.width*this.pivot.x,this.desiredBounds.y=h.y-this.desiredBounds.height*this.pivot.y}this.desiredBounds&&(r=new a.a(this.desiredBounds.width,this.desiredBounds.height))}return r=this.validateDesiredSize(r,e),this.stretchChildren(r),this.desiredSize=r,r},t.prototype.arrange=function(e){var i,n=this.desiredBounds;if(n){this.offsetX,this.offsetY;if(this.offsetX=n.x+n.width*this.pivot.x,this.offsetY=n.y+n.height*this.pivot.y,this.hasChildren())for(var o=0;o<this.children.length;o++){var a=!1;"Stretch"===(i=this.children[o]).horizontalAlignment&&(i.offsetX=this.offsetX,i.parentTransform=this.parentTransform+this.rotateAngle,this.flip&&this.elementActions&r.g.ElementIsGroup&&(i.parentTransform="Horizontal"===this.flip||"Vertical"===this.flip?-i.parentTransform:i.parentTransform),a=!0),"Stretch"===i.verticalAlignment&&(i.offsetY=this.offsetY,i.parentTransform=this.parentTransform+this.rotateAngle,a=!0),(a||this.measureChildren||i instanceof t&&void 0!==i.measureChildren)&&i.arrange(i.desiredSize)}}return this.actualSize=e,this.updateBounds(),this.prevRotateAngle=this.rotateAngle,e},t.prototype.stretchChildren=function(e){if(this.hasChildren())for(var i=0,n=this.children;i<n.length;i++){var r=n[i];"Stretch"!==r.horizontalAlignment&&void 0!==r.desiredSize.width||(r.desiredSize.width=e.width-r.margin.left-r.margin.right),"Stretch"!==r.verticalAlignment&&void 0!==r.desiredSize.height||(r.desiredSize.height=e.height-r.margin.top-r.margin.bottom),r instanceof t&&r.stretchChildren(r.desiredSize)}},t.prototype.applyPadding=function(e){e.width+=this.padding.left+this.padding.right,e.height+=this.padding.top+this.padding.bottom},t.prototype.findChildOffsetFromCenter=function(e,t){var i={x:t.x-e.desiredSize.width/2,y:t.y-e.desiredSize.height/2},n=Object(c.g)(i,e);n=Object(c.j)(e.rotateAngle,t.x,t.y,n),n=Object(c.j)(this.rotateAngle+this.parentTransform,this.offsetX,this.offsetY,n),e.offsetX=n.x,e.offsetY=n.y},t.prototype.GetChildrenBounds=function(e){var t;t=e.desiredSize.clone();e.rotateAngle,this.rotateAngle;var i=e.offsetX,n=e.offsetY,r=i-t.width*e.pivot.x,o=n-t.height*e.pivot.y,a=r+t.width,l=o+t.height,h={x:r,y:o},d={x:a,y:o},p={x:r,y:l},u={x:a,y:l};return h=Object(c.j)(e.rotateAngle,e.offsetX,e.offsetY,h),d=Object(c.j)(e.rotateAngle,e.offsetX,e.offsetY,d),p=Object(c.j)(e.rotateAngle,e.offsetX,e.offsetY,p),u=Object(c.j)(e.rotateAngle,e.offsetX,e.offsetY,u),0!==this.rotateAngle&&(h=Object(c.j)(-this.rotateAngle,void 0,void 0,h),d=Object(c.j)(-this.rotateAngle,void 0,void 0,d),p=Object(c.j)(-this.rotateAngle,void 0,void 0,p),u=Object(c.j)(-this.rotateAngle,void 0,void 0,u)),s.a.toBounds([h,d,p,u])},t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(22),r=i(3),o=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t,i,n){var r=e.call(this)||this;return r.data="",r.nodeId="",r.annotationId="",r.diagramId="",r.diagramId=i,r.nodeId=t,r.annotationId=n,r}return o(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.template=Object(r.l)(this,!0),this.isDirt=!0},enumerable:!0,configurable:!0}),t}(n.a)},function(e,t,i){"use strict";i.d(t,"b",function(){return h}),i.d(t,"c",function(){return d}),i.d(t,"a",function(){return p});var n=i(22),r=i(20),o=i(25),a=i(9),s=i(2),c=i(13),l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.childTable=[],t.cellStyle={},t.desiredRowHeight=[],t.desiredCellWidth=[],t}return l(t,e),t.prototype.rowDefinitions=function(){return this.rowDefns},t.prototype.columnDefinitions=function(){return this.colDefns},t.prototype.addObject=function(e,t,i,n,r){if(this.rows.length>=t){var o=this.rows[t];if(o.cells.length>i){r=r||1,n=n||1;var a=o.cells[i];a.columnSpan=Math.max(r,a.columnSpan),a.rowSpan=Math.max(n,a.rowSpan);var s=new g;(s=e).rowId=t,s.columnId=i,s.columnSpan=r,this.childTable[s.id]=s,this.addObjectToCell(s,a)}}},t.prototype.addObjectToCell=function(e,t){t.children||(t.children=[]),e.style.strokeColor="black",e.style.strokeWidth=1,e.style.fill="white",t.children.push(e)},t.prototype.updateProperties=function(e,t,i,n){this.offsetX=e,this.offsetY=t,this.width=i,this.height=n},t.prototype.setDefinitions=function(e,t){this.rowDefns=e,this.colDefns=t,this.children=[],this.rows=this.rows||[];for(var i=0;i<e.length;i++){var n=e[i],r=new u;r.cells=[];var o=new p;o.width=this.width;var a=this.colDefns;(void 0===a||a.length<1)&&(a=[o]),this.addCellInRow(a,n,r),this.rows.push(r)}},t.prototype.addCellInRow=function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n],o=new f;o.children=[],this.cellStyle.fill="none",this.cellStyle.strokeColor="none",o.id=Object(s.i)(),o.style=this.cellStyle,o.desiredCellWidth=o.minWidth=r.width,o.desiredCellHeight=o.minHeight=t.height,i.cells.push(o),this.children.push(o)}},t.prototype.calculateSize=function(){for(var e=this.rows||[],t=0,i=0,n=0;n<e.length;n++){var r=this.rows[n];i=0;for(var o=0;o<r.cells.length;o++)if(i+=r.cells[o].desiredCellWidth,o===r.cells.length-1&&(this.width&&this.width!==i&&(r.cells[o].desiredCellWidth+=this.width-i,r.cells[o].minWidth=r.cells[o].desiredCellWidth,r.cells[o].children&&r.cells[o].children.length&&(r.cells[o].children[0].width=r.cells[o].desiredCellWidth),this.colDefns[o].width=r.cells[o].desiredCellWidth),t+=r.cells[o].desiredCellHeight,n===e.length-1&&this.height&&this.height!==t)){var a=this.height-t;if(a>0){for(var s=0;s<r.cells.length;s++)r.cells[s].desiredCellHeight+=a,r.cells[s].minHeight=r.cells[s].desiredCellHeight=r.cells[s].desiredCellHeight,r.cells[s].children&&r.cells[s].children.length&&(r.cells[s].children[0].height=r.cells[s].desiredCellHeight);this.rowDefns[n].height+=a}}}},t.prototype.updateRowHeight=function(e,t,i,n){var r=this.rows[e];this.rowDefns[e].height=t,void 0!==this.height&&(this.height+=t-r.cells[0].desiredCellHeight);for(var o=0;o<r.cells.length;o++)r.cells[o].desiredCellHeight=r.cells[o].minHeight=t,r.cells[o].children&&r.cells[o].children.length&&(r.cells[o].children[0].height=t,this.setTextRefresh(r.cells[o].children[0]));if(this.desiredRowHeight[e]=t,this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize),i){var s=void 0!==n?this.calculateCellHeightBasedOnChildren(e,n):this.calculateCellHeight(e);s>t&&this.updateRowHeight(e,s,!1)}},t.prototype.setTextRefresh=function(e){if(e.children&&e.children.length)for(var t=e.children,i=0;i<t.length;i++)t[i]instanceof c.a&&t[i].refreshTextElement(),t[i]instanceof r.a&&this.setTextRefresh(t[i])},t.prototype.updateColumnWidth=function(e,t,i,n){this.colDefns[e].width=t,void 0!==this.width&&(this.width+=t-this.rows[this.rows.length-1].cells[e].desiredCellWidth);for(var r=0;r<this.rows.length;r++)this.setTextRefresh(this.rows[r].cells[0]),this.rows[r].cells[e].desiredCellWidth=this.rows[r].cells[e].minWidth=t,this.rows[r].cells[e].children&&this.rows[r].cells[e].children.length&&(this.rows[r].cells[e].children[0].width=t);if(this.desiredCellWidth[e]=t,this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize),i){var o=void 0!==n?this.calculateCellWidthBasedOnChildren(e,n):this.calculateCellWidth(e);o>t&&this.updateColumnWidth(e,o,!1)}},t.prototype.calculateCellWidth=function(e){for(var t,i,n,r=0;r<this.rows.length;r++)1===(n=this.rows[r].cells[e]).columnSpan&&(i=n.outerBounds.width>n.bounds.width&&(0===n.children.length||void 0===n.children[0].maxWidth)?n.outerBounds.width:n.bounds.width,t=t?t<i?i:t:i);return t},t.prototype.calculateCellHeight=function(e){for(var t,i,n,r=this.rows[e],o=0;o<r.cells.length;o++)i=(n=r.cells[o]).outerBounds.height>n.bounds.height?n.outerBounds.height:n.bounds.height,t=t?t<i?i:t:i;return t},t.prototype.calculateCellSizeBasedOnChildren=function(e,t,i,n){var o,a;if((a=e&&e.children.length>0?e.children[0]:void 0)&&1===e.columnSpan){o="Width"===t?a.bounds.right:a.bounds.bottom,n||(n="Width"===t?a.bounds.width:a.bounds.height);for(var s=0;s<a.children.length;s++){var c=a.children[s];if(c instanceof r.a&&-1===c.id.indexOf("header")){var l=("Width"===t?c.bounds.right:c.bounds.bottom)+i;if(l>o){var h=l-o+("Width"===t?a.bounds.width:a.bounds.height);n&&(n=n<h?h:n)}}}}return n},t.prototype.calculateCellWidthBasedOnChildren=function(e,t){for(var i,n,r=0;r<this.rows.length;r++)n=this.rows[r].cells[e],i=this.calculateCellSizeBasedOnChildren(n,"Width",t,i);return i},t.prototype.calculateCellHeightBasedOnChildren=function(e,t){for(var i,n,r=this.rows[e],o=0;o<r.cells.length;o++)n=r.cells[o],i=this.calculateCellSizeBasedOnChildren(n,"Height",t,i);return i},t.prototype.addRow=function(e,t,i){this.rowDefns.length>0?this.rowDefns.splice(e,0,t):this.rowDefns.push(t);var n=new u;n.cells=[],(new p).width=this.width;var r=this.colDefns;this.addCellInRow(r,t,n),e>this.rows.length-1?this.rows.push(n):this.rows.splice(e,0,n),i&&(this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.addColumn=function(e,t,i){var n,r,o,s,c=this.rows;this.colDefns.length>0?this.colDefns.splice(e,0,t):this.colDefns.push(t),void 0!==this.width&&(this.width+=t.width);for(var l=0;l<c.length;l++)n=c[l],r=this.rowDefns[l],o=t,(s=new f).style=this.cellStyle,s.desiredCellWidth=s.minWidth=o.width,s.desiredCellHeight=s.minHeight=r.height,s.children=[],e>n.cells.length-1?n.cells.push(s):n.cells.splice(e,0,s),this.children.push(s);i&&(this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize))},t.prototype.removeRow=function(e){var t,i,n=this.rows[e];this.height-=this.rowDefns[e].height;for(var r=0;r<n.cells.length;r++)t=n.cells[r],this.children.splice(this.children.indexOf(t),1),(i=document.getElementById(t.id+"_groupElement"))&&i.parentElement&&i.parentElement.removeChild(i);this.rows.splice(e,1),this.rowDefns.splice(e,1),this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.removeColumn=function(e){var t,i,n=this.rows;this.width-=this.colDefns[e].width;for(var r=0;r<n.length;r++)t=n[r].cells[e],this.children.splice(this.children.indexOf(t),1),(i=document.getElementById(t.id+"_groupElement"))&&i.parentElement&&i.parentElement.removeChild(i),n[r].cells.splice(e,1);this.colDefns.splice(e,1),this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateRowIndex=function(e,t){this.rows;var i=this.rows[e];this.rows.splice(e,1),this.rows.splice(t,0,i);var n=this.rowDefns[e];this.rowDefns.splice(e,1),this.rowDefns.splice(t,0,n),this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.updateColumnIndex=function(e,t,i){for(var n,r,o,s=e;s<this.rows.length;s++)n=this.rows[s],r=this.rows[s].cells[t],n.cells.splice(t,1),n.cells.splice(i,0,r);var c=this.colDefns[t];this.colDefns.splice(t,1),this.colDefns.splice(i,0,c),o=this.desiredCellWidth[t],this.desiredCellWidth.splice(t,1),this.desiredCellWidth.splice(i,0,o),this.measure(new a.a(this.width,this.height)),this.arrange(this.desiredSize)},t.prototype.measure=function(t){var i=void 0;if(void 0!==this.rows&&this.rows.length>0){var n=0,r=0;i=new a.a(0,0),this.calculateSize();for(var o=0,s=this.rows;o<s.length;o++){r=0;for(var c=0,l=(f=s[o]).cells;c<l.length;c++){var h=(v=l[c]).measure(new a.a(v.desiredCellWidth,v.desiredCellHeight));1===v.rowSpan&&(0===r||void 0===this.desiredRowHeight[n]?this.desiredRowHeight[n]=h.height:this.desiredRowHeight[n]=Math.max(h.height,this.desiredRowHeight[n])),1===v.columnSpan&&(0===n||void 0===this.desiredCellWidth[r]?this.desiredCellWidth[r]=h.width:this.desiredCellWidth[r]=Math.max(h.width,this.desiredCellWidth[r]),n===this.rows.length-1&&(i.width+=this.desiredCellWidth[r])),r++}i.height+=this.desiredRowHeight[n],n++}n=r=0;for(var d=0,p=0,u=this.rows;p<u.length;p++){var f;r=0;for(var g=0,m=0,y=(f=u[p]).cells;m<y.length;m++){var v;if(1!==(v=y[m]).columnSpan){v.desiredSize.width=0;for(var b=0;b<v.columnSpan;b++)b+r<f.cells.length&&(v.desiredSize.width+=this.desiredCellWidth[b+r],v.minWidth=v.desiredSize.width,v.measure(v.desiredSize));r++}else v.desiredSize.width=this.desiredCellWidth[g],v.measure(v.desiredSize);if(1!==v.rowSpan){v.desiredSize.height=0;for(b=0;b<v.rowSpan;b++)b+d<this.rows.length&&(v.desiredSize.height+=this.desiredRowHeight[b+d],v.minHeight=v.desiredSize.height,v.measure(v.desiredSize))}else v.desiredSize.height=this.desiredRowHeight[d],v.measure(v.desiredSize);n++,g++}d++}}return void 0===i&&(i=e.prototype.validateDesiredSize.call(this,i,t)),e.prototype.stretchChildren.call(this,i),this.desiredSize=i,i},t.prototype.arrange=function(e,t){var i=0,n=0;if(void 0!==this.rows&&this.rows.length>0){for(var r=this.offsetX-e.width*this.pivot.x,o=this.offsetY-e.height*this.pivot.y,s=r,c=0,l=this.rows;c<l.length;c++){s=r,i=0;for(var h=0,d=(g=l[c]).cells;h<d.length;h++){var p=d[h],u=Math.max(this.desiredCellWidth[i],p.desiredSize.width),f=Math.max(this.desiredRowHeight[n],p.desiredSize.height);p.offsetX=s+u*p.pivot.x,p.offsetY=o+f*p.pivot.y,s+=this.desiredCellWidth[i],p.arrange(new a.a(u,f)),i++}o+=this.desiredRowHeight[n],n++}if(t){p=void 0;var g=void 0,m=void 0,y=void 0,v=void 0;for(n=0;n<this.rows.length;n++)for(g=this.rows[n],i=0;i<g.cells.length;i++)if((p=g.cells[i]).columnSpan>1&&this.children.splice(this.children.indexOf(p)+1,p.columnSpan-1),p.rowSpan>1)for(m=n,y=0;m+p.rowSpan-1<this.rows.length&&y<p.rowSpan-1;m++,y++)v=this.rows[m+1].cells[i],this.children.splice(this.children.indexOf(v),1)}}return this.actualSize=e,this.updateBounds(),e},t}(o.a),d=function(){return function(){this.height=void 0}}(),p=function(){return function(){this.width=void 0}}(),u=function(){return function(){this.cells=null}}(),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columnSpan=1,t.rowSpan=1,t}return l(t,e),t}(r.a),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rowId=0,t.columnId=0,t.rowSpan=1,t.columnSpan=1,t}return l(t,e),t}(n.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(0),r=i(14),o=i(4),a=i(1),s=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},l=function(e){function t(t,i,n,r){return e.call(this,t,i,n,r)||this}return s(t,e),t.prototype.getClassName=function(){return"PointPort"},c([Object(n.g)({x:.5,y:.5},o.a)],t.prototype,"offset",void 0),t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),c([Object(n.q)("")],t.prototype,"id",void 0),c([Object(n.q)("Center")],t.prototype,"horizontalAlignment",void 0),c([Object(n.q)("Center")],t.prototype,"verticalAlignment",void 0),c([Object(n.g)({},r.a)],t.prototype,"margin",void 0),c([Object(n.q)(12)],t.prototype,"width",void 0),c([Object(n.q)(12)],t.prototype,"height",void 0),c([Object(n.g)({},r.c)],t.prototype,"style",void 0),c([Object(n.q)("Square")],t.prototype,"shape",void 0),c([Object(n.q)(a.m.Connect)],t.prototype,"visibility",void 0),c([Object(n.q)("")],t.prototype,"pathData",void 0),c([Object(n.q)(a.l.Default)],t.prototype,"constraints",void 0),c([Object(n.q)()],t.prototype,"addInfo",void 0),t}(n.d))},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(9),r=i(22),o=i(3),a=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(e){function t(t,i){var n=e.call(this)||this;return n.data="",n.nodeId="",n.diagramId="",n.scale="Stretch",n.diagramId=i,n.nodeId=t,n}return a(t,e),Object.defineProperty(t.prototype,"content",{get:function(){return this.data},set:function(e){this.data=e,this.template=Object(o.l)(this,!1),this.isDirt=!0},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){if(this.isDirt){var t=Object(o.z)(this.template);this.contentSize=new n.a,this.contentSize.width=t.width,this.contentSize.height=t.height;var i=t.x,r=t.y;this.templatePosition={x:i,y:r},this.isDirt=!1}if(void 0===this.width||void 0===this.height){var a=Object(o.A)(this.template);this.desiredSize=new n.a(a.width,a.height)}else this.desiredSize=new n.a(this.width,this.height);return this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new n.a(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(r.a)},function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(9),r=i(4),o=i(19),a=i(2),s=i(3),c=function(){function e(){}return e.getContext=function(e){return e.getContext("2d")},e.setCanvasSize=function(e,t,i){e&&(e.setAttribute("width",t.toString()),e.setAttribute("height",i.toString()))},e.prototype.renderGradient=function(e,t,i,n){var r,o,a;if("None"!==e.gradient.type){for(var s=0;s<e.gradient.stops.length;s++)r=void 0!==r?e.gradient.stops[s].offset:Math.max(r,e.gradient.stops[s].offset),o=void 0!==o?e.gradient.stops[s].offset:Math.min(o,e.gradient.stops[s].offset);if("Linear"===e.gradient.type){var c=e.gradient;a=t.createLinearGradient(i+c.x1,n+c.y1,i+c.x2,n+c.y2)}else{var l=e.gradient;a=t.createRadialGradient(i+l.fx,n+l.fy,0,i+l.cx,n+l.cy,l.r)}for(s=0;s<e.gradient.stops.length;s++){var h=e.gradient.stops[s],d=o<0?(r+h.offset)/(2*r):h.offset/r;a.addColorStop(d,h.color)}t.fillStyle=a}return t},e.prototype.renderShadow=function(t,i,n){void 0===n&&(n=null);var o=e.getContext(i);o.save(),o.beginPath(),o.strokeStyle=o.fillStyle=t.shadow.color,o.globalAlpha=t.shadow.opacity;var a=r.a.transform({x:0,y:0},t.shadow.angle,t.shadow.distance),s=t.x+a.x,c=t.y+a.y,l=s+t.width*t.pivotX,h=c+t.height*t.pivotY;this.rotateContext(i,t.angle,l,h),n?(o.translate(s,c),this.renderPath(i,t,n),o.translate(-s,-c)):(o.rect(s,c,t.width,t.height),o.fillRect(s,c,t.width,t.height)),o.fill(),o.stroke(),o.closePath(),o.restore()},e.createCanvas=function(e,t,i){var n=Object(s.b)("canvas",{id:e});return this.setCanvasSize(n,t,i),n},e.prototype.setStyle=function(t,i){var n=e.getContext(t);"none"===i.fill&&(i.fill="transparent"),"none"===i.stroke&&(i.stroke="transparent"),n.strokeStyle=i.stroke,n.lineWidth=i.strokeWidth,0===i.strokeWidth&&(n.strokeStyle="transparent"),n.globalAlpha=i.opacity;var r=[];i.dashArray&&(r=this.parseDashArray(i.dashArray)),n.setLineDash(r),i.gradient&&"None"!==i.gradient.type?this.renderGradient(i,n,0,0):n.fillStyle=i.fill},e.prototype.rotateContext=function(t,i,n,r){var o=e.getContext(t);o.translate(n,r),o.rotate(i*Math.PI/180),o.translate(-n,-r)},e.prototype.setFontStyle=function(t,i){var n=e.getContext(t),r="";i.italic&&(r+="italic "),i.bold&&(r+="bold "),r+=i.fontSize+"px ",r+=i.fontFamily,n.font=r},e.prototype.parseDashArray=function(e){for(var t=[],i=-1!==e.indexOf(" ")?" ":",",n=0,r=e.split(i);n<r.length;n++){var o=r[n];t.push(Number(o))}return t},e.prototype.drawRectangle=function(t,i){if(!0===i.visible)if(i.cornerRadius)i.data=Object(o.c)(i.cornerRadius,i.height,i.width),this.drawPath(t,i);else{var n=e.getContext(t);i.shadow&&this.renderShadow(i,t),n.save(),n.beginPath();i.cornerRadius;var r=i.x+i.width*i.pivotX,a=i.y+i.height*i.pivotY;this.rotateContext(t,i.angle,r,a),this.setStyle(t,i),n.rect(i.x,i.y,i.width,i.height),n.fillRect(i.x,i.y,i.width,i.height),n.fill(),n.stroke(),n.closePath(),n.restore()}},e.prototype.drawPath=function(t,i){var n=[];n=Object(o.e)(i.data),n=Object(o.d)(n),i.shadow&&this.renderShadow(i,t,n);var r=e.getContext(t);r.save(),r.beginPath();var a=i.y+i.height*i.pivotY,s=i.x+i.width*i.pivotX;"Horizontal"===i.flip||"Vertical"===i.flip?(r.translate(i.x+i.width/2,i.y+i.height/2),r.rotate(-i.angle*Math.PI/180),r.translate(-i.x-i.width/2,-i.y-i.height/2)):this.rotateContext(t,i.angle,s,a),this.setStyle(t,i),r.translate(i.x,i.y),"Horizontal"===i.flip?(r.scale(-1,1),r.translate(-1*i.width,0)):"Vertical"===i.flip?(r.scale(1,-1),r.translate(0,-1*i.height)):"Both"===i.flip&&(r.scale(-1,-1),r.translate(-1*i.width,-1*i.height)),this.renderPath(t,i,n),r.fill(),r.translate(-i.x,-i.y),r.stroke(),r.restore()},e.prototype.renderPath=function(t,i,n){if(!0===i.visible){var r,o=e.getContext(t),a=void 0,s=void 0,c=void 0,l=void 0,h=void 0,d=void 0,p=void 0,u=void 0,f=void 0,g=n;for(p=0,u=0,f=0,r=g.length;f<r;++f){var m=g[f],y=m.command;switch("x1"in m&&(c=m.x1),"x2"in m&&(h=m.x2),"y1"in m&&(l=m.y1),"y2"in m&&(d=m.y2),"x"in m&&(p=m.x),"y"in m&&(u=m.y),y){case"M":o.moveTo(p,u),m.x=p,m.y=u;break;case"L":o.lineTo(p,u),m.x=p,m.y=u;break;case"C":o.bezierCurveTo(c,l,h,d,p,u),m.x=p,m.y=u,m.x1=c,m.y1=l,m.x2=h,m.y2=d;break;case"Q":o.quadraticCurveTo(c,l,p,u),m.x=p,m.y=u,m.x1=c,m.y1=l;break;case"A":var v={x:a,y:s},b=m.r1,w=m.r2,O=m.angle*(Math.PI/180),x=m.largeArc,j=m.sweep,S={x:p,y:u},P={x:Math.cos(O)*(v.x-S.x)/2+Math.sin(O)*(v.y-S.y)/2,y:-Math.sin(O)*(v.x-S.x)/2+Math.cos(O)*(v.y-S.y)/2},C=Math.pow(P.x,2)/Math.pow(b,2)+Math.pow(P.y,2)/Math.pow(w,2);C>1&&(b*=Math.sqrt(C),w*=Math.sqrt(C));var E=Math.pow(w,2)*Math.pow(P.x,2),T=(x===j?-1:1)*Math.sqrt((Math.pow(b,2)*Math.pow(w,2)-Math.pow(b,2)*Math.pow(P.y,2)-E)/(Math.pow(b,2)*Math.pow(P.y,2)+Math.pow(w,2)*Math.pow(P.x,2)));isNaN(T)&&(T=0);var k={x:T*b*P.y/w,y:T*-w*P.x/b},I={x:(v.x+S.x)/2+Math.cos(O)*k.x-Math.sin(O)*k.y,y:(v.y+S.y)/2+Math.sin(O)*k.x+Math.cos(O)*k.y},A=this.a([1,0],[(P.x-k.x)/b,(P.y-k.y)/w]),M=[(P.x-k.x)/b,(P.y-k.y)/w],z=[(-P.x-k.x)/b,(-P.y-k.y)/w],D=this.a(M,z);this.r(M,z)<=-1&&(D=Math.PI),this.r(M,z)>=1&&(D=0);var L=A+(j?1:-1)*(D/2);Math.cos(L),Math.sin(L);if(m.centp=I,m.xAxisRotation=O,m.rx=b,m.ry=w,m.a1=A,m.ad=D,m.sweep=j,null!=o){var R=b>w?b:w,N=b>w?1:b/w,H=b>w?w/b:1;o.save(),o.translate(I.x,I.y),o.rotate(O),o.scale(N,H),o.arc(0,0,R,A,A+D,!j),o.scale(1/N,1/H),o.rotate(-O),o.translate(-I.x,-I.y),o.restore()}break;case"Z":case"z":o.closePath(),p=a,u=s}a=p,s=u}}},e.prototype.drawText=function(t,i,n,r,o,s){if(i.content&&!0===i.visible){var c=e.getContext(t);c.save(),this.setStyle(t,i),s&&(i.fontSize*=s);var l=i.x+i.width*i.pivotX,h=i.y+i.height*i.pivotY;this.rotateContext(t,i.angle,l,h),this.setFontStyle(t,i);var d,p=0;d=i.childNodes;var u=i.wrapBounds;if(c.fillStyle=i.color,u){var f=this.labelAlign(i,u,d);for(p=0;p<d.length;p++){var g=d[p],m=f.x+(s?g.x*s:g.x)-u.x,y=f.y+(s?g.dy*s:g.dy)*p+.8*i.fontSize;if(u.width>i.width&&"Wrap"!==i.textOverflow&&(g.text=Object(a.h)(g.text,i)),c.fillText(g.text,m,y),"Underline"===i.textDecoration||"Overline"===i.textDecoration||"LineThrough"===i.textDecoration){var v=m,b=void 0,w=m+c.measureText(g.text).width,O=void 0;switch(i.textDecoration){case"Underline":b=y+2,O=y+2;break;case"Overline":b=f.y+g.dy*p,O=f.y+g.dy*p;break;case"LineThrough":b=(y+f.y+g.dy*p)/2+2,O=(y+f.y+g.dy*p)/2+2}c.beginPath(),c.moveTo(v,b),c.lineTo(w,O),c.strokeStyle=i.color,c.lineWidth=.08*i.fontSize,c.globalAlpha=i.opacity,c.stroke()}}}c.restore()}},e.prototype.loadImage=function(e,t,i,n,r){this.rotateContext(i,t.angle,n,r);var o=new Image;o.src=t.source,this.image(e,o,t.x,t.y,t.width,t.height,t)},e.prototype.drawImage=function(t,i,n,r){var o=this;if(i.visible){var a=e.getContext(t);a.save();var s=i.x+i.width*i.pivotX,c=i.y+i.height*i.pivotY,l=new Image;l.src=i.source;var h=a.canvas.id.split("_");h[h.length-1];r?l.onload=function(){o.loadImage(a,i,t,s,c)}:this.loadImage(a,i,t,s,c),a.restore()}},e.prototype.image=function(e,t,i,n,r,o,a){e.beginPath();var c=t.width,l=t.height,h=r,d=o,p=0,u=0;if(a&&"None"!==a.alignment){var f=a.alignment.toLowerCase().substr(1,3),g=a.alignment.toLowerCase().substr(5,3);if("Slice"===a.scale){var m=function(){p=h,u=l*h/c},y=function(){p=c*d/l,u=d};h>d?(m(),d>u&&y()):h===d?c>l?y():m():(y(),h>p&&m());var v=this.getSliceOffset(f,p,h,c),b=this.getSliceOffset(g,u,d,l),w=c-v,O=l-b,x=p-v*(p/c),j=u-b*(u/l),S=Object(s.b)("canvas",{width:r.toString(),height:o.toString()});S.getContext("2d").drawImage(t,v,b,w,O,0,0,x,j),e.drawImage(S,i,n,r,o)}else if("Meet"===a.scale){var P=l/c,C=d/h;p=C>P?h:d/P,u=C>P?h*P:d,i+=this.getMeetOffset(f,p,h),n+=this.getMeetOffset(g,u,d),e.drawImage(t,0,0,c,l,i,n,p,u)}else e.drawImage(t,i,n,r,o)}else if("None"!==a.flip){var E=1,T=1;"Horizontal"!==a.flip&&"Both"!==a.flip||(i=-i,r=-r,E=-1),"Vertical"!==a.flip&&"Both"!==a.flip||(n=-n,o=-o,T=-1),e.scale(E,T),e.drawImage(t,i,n,r,o)}else e.drawImage(t,i,n,r,o);e.closePath()},e.prototype.getSliceOffset=function(e,t,i,n){switch(e){case"min":return 0;case"mid":return(t-i)/2*n/t;case"max":return(t-i)*n/t;default:return 0}},e.prototype.getMeetOffset=function(e,t,i){var n=Math.max(t,i),r=Math.min(t,i);switch(e){case"min":return 0;case"mid":return(n-r)/2;case"max":return n-r;default:return 0}},e.prototype.m=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},e.prototype.r=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(this.m(e)*this.m(t))},e.prototype.a=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(this.r(e,t))},e.prototype.labelAlign=function(e,t,i){var r=new n.a(t.width,i.length*(1.2*e.fontSize)),o={x:0,y:0},a=e.x,s=e.y,c=.5*e.width,l=.5*e.height;return"left"===e.textAlign?c=0:"center"===e.textAlign?c=t.width>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)?0:.5*e.width:"right"===e.textAlign&&(c=1*e.width),o.x=a+c+(t?t.x:0),o.y=s+l-r.height/2,o},e}()},function(e,t,i){"use strict";var n,r,o,a,s,c,l=i(0),h=!1;function d(e,t,i,s,c){if(r=c,h=!!s,!e)return{left:0,top:0};t||(t="left"),i||(i="top"),a=e.ownerDocument,o=e;return function(e,t,i){switch(n=o.getBoundingClientRect(),t+e){case"topcenter":p(O(),i),u(v(),i);break;case"topright":p(w(),i),u(v(),i);break;case"centercenter":p(O(),i),u(y(),i);break;case"centerright":p(w(),i),u(y(),i);break;case"centerleft":p(b(),i),u(y(),i);break;case"bottomcenter":p(O(),i),u(m(),i);break;case"bottomright":p(w(),i),u(m(),i);break;case"bottomleft":p(b(),i),u(m(),i);break;default:case"topleft":p(b(),i),u(v(),i)}return i}(t.toLowerCase(),i.toLowerCase(),{left:0,top:0})}function p(e,t){t.left=e}function u(e,t){t.top=e}function f(){return a.documentElement.scrollTop||a.body.scrollTop}function g(){return a.documentElement.scrollLeft||a.body.scrollLeft}function m(){return h?n.bottom:n.bottom+f()}function y(){return v()+n.height/2}function v(){return h?n.top:n.top+f()}function b(){return n.left+g()}function w(){return n.right+g()-(r?r.width:0)}function O(){return b()+n.width/2}function x(e,t,i,n){if(void 0===t&&(t=null),void 0===i&&(i={X:!1,Y:!1}),!i.Y&&!i.X)return{left:0,top:0};var r=e.getBoundingClientRect();if(c=t,s=e.ownerDocument,n||(n=d(e,"left","top")),i.X){var o=c?T():_(),a=z(),l=D(),h=a-n.left,p=n.left+r.width-l;r.width>o?n.left=h>0&&p<=0?l-r.width:p>0&&h<=0?a:h>p?l-r.width:a:h>0?n.left+=h:p>0&&(n.left-=p)}if(i.Y){var u=c?k():H(),f=M(),g=L(),m=f-n.top,y=n.top+r.height-g;r.height>u?n.top=m>0&&y<=0?g-r.height:y>0&&m<=0?f:m>y?g-r.height:f:m>0?n.top+=m:y>0&&(n.top-=y)}return n}function j(e,t,i,n){void 0===t&&(t=null);var r=d(e,"left","top");i&&(r.left=i),n&&(r.top=n);var o=[];c=t,s=e.ownerDocument;var a=e.getBoundingClientRect(),l=r.top,h=r.left,p=r.left+a.width,u=E(l,r.top+a.height),f=C(h,p);return u.topSide&&o.push("top"),f.rightSide&&o.push("right"),f.leftSide&&o.push("left"),u.bottomSide&&o.push("bottom"),o}function S(e,t,i,n,r,o,a,l,h){if(void 0===a&&(a=null),void 0===l&&(l={X:!0,Y:!0}),t&&e&&r&&o&&(l.X||l.Y)){var p={TL:null,TR:null,BL:null,BR:null},u={TL:null,TR:null,BL:null,BR:null},f=e.getBoundingClientRect(),g={posX:r,posY:o,offsetX:i,offsetY:n,position:{left:0,top:0}};c=a,s=t.ownerDocument,function(e,t,i,n,r){i.position=d(e,i.posX,i.posY,n,r),t.TL=d(e,"left","top",n,r),t.TR=d(e,"right","top",n,r),t.BR=d(e,"left","bottom",n,r),t.BL=d(e,"right","bottom",n,r)}(t,p,g,h,f),P(u,g,f),l.X&&function e(t,i,n,r,o,a){var s=C(i.TL.left,i.TR.left);n.TL.left-N()<=z()&&(s.leftSide=!1);n.TR.left>=D()&&(s.rightSide=!1);(s.leftSide&&!s.rightSide||!s.leftSide&&s.rightSide)&&("right"===r.posX?r.posX="left":r.posX="right",r.offsetX=r.offsetX+o.width,r.offsetX=-1*r.offsetX,r.position=d(t,r.posX,r.posY,!1),P(i,r,o),a&&e(t,i,n,r,o,!1))}(t,u,p,g,f,!0),l.Y&&p.TL.top>-1&&function e(t,i,n,r,o,a){var s=E(i.TL.top,i.BL.top);n.TL.top-R()<=M()&&(s.topSide=!1);n.BL.top>=L()&&(s.bottomSide=!1);(s.topSide&&!s.bottomSide||!s.topSide&&s.bottomSide)&&("top"===r.posY?r.posY="bottom":r.posY="top",r.offsetY=r.offsetY+o.height,r.offsetY=-1*r.offsetY,r.position=d(t,r.posX,r.posY,!1,o),P(i,r,o),a&&e(t,i,n,r,o,!1))}(t,u,p,g,f,!0),function(e,t,i){var n=0,r=0;if(null!=e.offsetParent&&("absolute"===getComputedStyle(e.offsetParent).position||"relative"===getComputedStyle(e.offsetParent).position)){var o=d(e.offsetParent,"left","top",!1,i);n=o.left,r=o.top}e.style.top=t.position.top+t.offsetY-r+"px",e.style.left=t.position.left+t.offsetX-n+"px"}(e,g,f)}}function P(e,t,i){e.TL={top:t.position.top+t.offsetY,left:t.position.left+t.offsetX},e.TR={top:e.TL.top,left:e.TL.left+i.width},e.BL={top:e.TL.top+i.height,left:e.TL.left},e.BR={top:e.TL.top+i.height,left:e.TL.left+i.width}}function C(e,t){var i=!1,n=!1;return e-N()<z()&&(i=!0),t>D()&&(n=!0),{leftSide:i,rightSide:n}}function E(e,t){var i=!1,n=!1;return e-R()<M()&&(i=!0),t>L()&&(n=!0),{topSide:i,bottomSide:n}}function T(){return c.getBoundingClientRect().width}function k(){return c.getBoundingClientRect().height}function I(){return c.getBoundingClientRect().left}function A(){return c.getBoundingClientRect().top}function M(){return c?A():0}function z(){return c?I():0}function D(){return c?N()+I()+T():N()+_()}function L(){return c?R()+A()+k():R()+H()}function R(){return s.documentElement.scrollTop||s.body.scrollTop}function N(){return s.documentElement.scrollLeft||s.body.scrollLeft}function H(){return window.innerHeight}function _(){var e=window.innerWidth;return e-(e-(Object(l.F)(document.documentElement)?0:document.documentElement.offsetWidth))}var B=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),W=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return B(t,e),W([Object(l.q)("left")],t.prototype,"X",void 0),W([Object(l.q)("top")],t.prototype,"Y",void 0),t}(l.d),F="e-popup",U="e-rtl",X="e-popup-open",Y="e-popup-close",V=function(e){function t(t,i){return e.call(this,i,t)||this}return B(t,e),t.prototype.onPropertyChanged=function(e,t){for(var i=0,n=Object.keys(e);i<n.length;i++){switch(n[i]){case"width":Object(l.M)(this.element,{width:Object(l.B)(e.width)});break;case"height":Object(l.M)(this.element,{height:Object(l.B)(e.height)});break;case"zIndex":Object(l.M)(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var r=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+r).toString()+"px";break;case"offsetY":var o=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+o).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}}},t.prototype.getModuleName=function(){return"popup"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.destroy=function(){this.element.classList.remove(F,U),this.unwireEvents(),e.prototype.destroy.call(this)},t.prototype.render=function(){this.element.classList.add(F);var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=Object(l.B)(this.width)),"auto"!==this.height&&(e.height=Object(l.B)(this.height)),Object(l.M)(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent(),this.wireEvents()},t.prototype.wireEvents=function(){l.c.isDevice&&l.m.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},t.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var i=t[e];l.m.add(i,"scroll",this.scrollRefresh,this)}},t.prototype.unwireEvents=function(){l.c.isDevice&&l.m.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},t.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++){var i=t[e];l.m.remove(i,"scroll",this.scrollRefresh)}},t.prototype.getRelateToElement=function(){var e=""===this.relateTo||Object(l.F)(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"===typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},t.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement||this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},t.prototype.isElementOnViewport=function(e,t){for(var i=this.getScrollableParent(e),n=0;n<i.length;n++)if(!this.isElementVisible(e,i[n]))return!1;return!0},t.prototype.isElementVisible=function(e,t){var i=this.checkGetBoundingClientRect(e);if(!i.height||!i.width)return!1;if(Object(l.F)(this.checkGetBoundingClientRect(t))){var n=window,r={top:n.scrollY,left:n.scrollX,right:n.scrollX+n.outerWidth,bottom:n.scrollY+n.outerHeight},o=d(e),a={top:o.top,left:o.left,right:o.left+i.width,bottom:o.top+i.height},s={top:r.bottom-a.top,left:r.right-a.left,bottom:a.bottom-r.top,right:a.right-r.left};return s.top>0&&s.left>0&&s.right>0&&s.bottom>0}var c=t.getBoundingClientRect();return!(i.bottom<c.top)&&!(i.bottom>c.bottom)&&!(i.right>c.right)&&!(i.left<c.left)},t.prototype.preRender=function(){},t.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add(U):this.element.classList.remove(U)},t.prototype.setContent=function(){Object(l.F)(this.content)||(this.element.innerHTML="","string"===typeof this.content?this.element.textContent=this.content:this.element.appendChild(this.content))},t.prototype.orientationOnChange=function(){var e=this;setTimeout(function(){e.refreshPosition()},200)},t.prototype.refreshPosition=function(e,t){Object(l.F)(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()},t.prototype.reposition=function(){var e,t,i=this.getRelateToElement();if("number"===typeof this.position.X&&"number"===typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"===typeof this.position.X&&"number"===typeof this.position.Y||"number"===typeof this.position.X&&"string"===typeof this.position.Y){var n=this.element.style.display,r=void 0;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(i,this.element,this.position,this.offsetX,this.offsetY),e="string"===typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=n,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else if(i){n=this.element.style.display;this.element.style.display="block",e=this.getAnchorPosition(i,this.element,this.position,this.offsetX,this.offsetY),this.element.style.display=n}else e={left:0,top:0};Object(l.F)(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},t.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return null}},t.prototype.getAnchorPosition=function(e,t,i,n,r){var o=this.checkGetBoundingClientRect(t),a=this.checkGetBoundingClientRect(e);if(Object(l.F)(o)||Object(l.F)(a))return null;var s=e,c={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?c=d(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==s.tagName&&(t=t.parentElement),c=function(e,t){var i=!1,n={left:0,top:0},r=e;if(!e||!t)return n;for(Object(l.F)(t.offsetParent)&&"fixed"===t.style.position&&(i=!0);(t.offsetParent||i)&&e&&t.offsetParent!==e;)n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent;for(e=r;(t.offsetParent||i)&&e&&t.offsetParent!==e;)n.left-=e.scrollLeft,n.top-=e.scrollTop,e=e.parentElement;return n}(s,t)),i.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?c.left+=window.innerWidth/2-o.width/2:"container"===this.targetType?c.left+=a.width/2-o.width/2:c.left+=a.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?c.left+=window.innerWidth-o.width:"container"===this.targetType?c.left+=a.width-o.width:c.left+=a.width}switch(i.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?c.top+=window.innerHeight/2-o.height/2:"container"===this.targetType?c.top+=a.height/2-o.height/2:c.top+=a.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===s.tagName&&"container"===this.targetType?c.top+=window.innerHeight-o.height:"container"===this.targetType?c.top+=a.height-o.height:c.top+=a.height}return c.left+=n,c.top+=r,c},t.prototype.callFlip=function(e){var t=this.getRelateToElement();S(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},t.prototype.callFit=function(e){if(0!==j(this.element,this.viewPortElement).length)if(Object(l.F)(this.viewPortElement)){var t=x(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{var i=this.checkGetBoundingClientRect(this.element),n=this.checkGetBoundingClientRect(this.viewPortElement);if(Object(l.F)(i)||Object(l.F)(n))return null;e&&!0===e.Y&&(n.top>i.top?this.element.style.top="0px":n.bottom<i.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(i.bottom-n.bottom)+"px")),e&&!0===e.X&&(n.right<i.right?this.element.style.left=parseInt(this.element.style.left,10)-(i.right-n.right)+"px":n.left>i.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(n.left-i.left)+"px"))}},t.prototype.checkCollision=function(){var e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))},t.prototype.show=function(e,t){var i=this;if(1e3===this.zIndex||!Object(l.F)(t)){var n=Object(l.F)(t)?this.element:t;this.zIndex=function(e){var t=e.parentElement,i=[];for(;t&&"BODY"!==t.tagName;){var n=document.defaultView.getComputedStyle(t,null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(t,null).getPropertyValue("position");"auto"!==n&&"static"!==r&&i.push(n),t=t.parentElement}for(var o=[],a=0;a<document.body.children.length;a++)if(!e.isEqualNode(document.body.children[a])){var n=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(document.body.children[a],null).getPropertyValue("position");"auto"!==n&&"static"!==r&&o.push(n)}o.push("999");var s=[];if(!Object(l.F)(e.parentElement)&&"BODY"!==e.parentElement.tagName)for(var c=[].slice.call(e.parentElement.children),a=0;a<c.length;a++){var n=document.defaultView.getComputedStyle(c[a],null).getPropertyValue("z-index"),r=document.defaultView.getComputedStyle(c[a],null).getPropertyValue("position");"auto"!==n&&"static"!==r&&s.push(n)}var h=i.concat(o,s),d=Math.max.apply(Math,h)+1;return d>2147483647?2147483647:d}(n),Object(l.M)(this.element,{zIndex:this.zIndex})}e=Object(l.F)(e)||"object"!==typeof e?this.showAnimation:e,"none"===this.collision.X&&"none"===this.collision.Y||(Object(l.I)([this.element],Y),Object(l.s)([this.element],X),this.checkCollision(),Object(l.I)([this.element],X),Object(l.s)([this.element],Y)),Object(l.F)(e)?(Object(l.I)([this.element],Y),Object(l.s)([this.element],X),this.trigger("open")):(e.begin=function(){i.isDestroyed||(Object(l.I)([i.element],Y),Object(l.s)([i.element],X))},e.end=function(){i.isDestroyed||i.trigger("open")},new l.b(e).animate(this.element))},t.prototype.hide=function(e){var t=this;e=Object(l.F)(e)||"object"!==typeof e?this.hideAnimation:e,Object(l.F)(e)?(Object(l.I)([this.element],X),Object(l.s)([this.element],Y),this.trigger("close")):(e.end=function(){t.isDestroyed||(Object(l.I)([t.element],X),Object(l.s)([t.element],Y),t.trigger("close"))},new l.b(e).animate(this.element))},t.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),function(e,t){var i=getComputedStyle(e),n=[],r=/(auto|scroll)/,o=e.parentElement;for(;o&&"HTML"!==o.tagName;){var a=getComputedStyle(o);"absolute"===i.position&&"static"===a.position||!r.test(a.overflow+a.overflowY+a.overflowX)||n.push(o),o=o.parentElement}t||n.push(document);return n}(e,this.fixedParent)},t.prototype.checkFixedParent=function(e){for(var t=e.parentElement;t&&"HTML"!==t.tagName;){var i=getComputedStyle(t);"fixed"===i.position&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&(this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,Object(l.F)(this.element.offsetParent)&&"fixed"===i.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},W([Object(l.q)("auto")],t.prototype,"height",void 0),W([Object(l.q)("auto")],t.prototype,"width",void 0),W([Object(l.q)(null)],t.prototype,"content",void 0),W([Object(l.q)("container")],t.prototype,"targetType",void 0),W([Object(l.q)(null)],t.prototype,"viewPortElement",void 0),W([Object(l.q)({X:"none",Y:"none"})],t.prototype,"collision",void 0),W([Object(l.q)("")],t.prototype,"relateTo",void 0),W([Object(l.g)({},q)],t.prototype,"position",void 0),W([Object(l.q)(0)],t.prototype,"offsetX",void 0),W([Object(l.q)(0)],t.prototype,"offsetY",void 0),W([Object(l.q)(1e3)],t.prototype,"zIndex",void 0),W([Object(l.q)(!1)],t.prototype,"enableRtl",void 0),W([Object(l.q)("reposition")],t.prototype,"actionOnScroll",void 0),W([Object(l.q)(null)],t.prototype,"showAnimation",void 0),W([Object(l.q)(null)],t.prototype,"hideAnimation",void 0),W([Object(l.l)()],t.prototype,"open",void 0),W([Object(l.l)()],t.prototype,"close",void 0),W([Object(l.l)()],t.prototype,"targetExitViewport",void 0),t=W([l.p],t)}(l.i);var G=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Z=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},Q="e-tooltip",K=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return G(t,e),Z([Object(l.q)({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),Z([Object(l.q)({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(l.d),$=function(e){function t(t,i){return e.call(this,t,i)||this}return G(t,e),t.prototype.initialize=function(){this.formatPosition(),Object(l.s)([this.element],Q)},t.prototype.formatPosition=function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:"e-arrow-tip "+this.tipClass});e.appendChild(this.createElement("div",{className:"e-arrow-tip-outer "+this.tipClass})),e.appendChild(this.createElement("div",{className:"e-arrow-tip-inner "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){0===e.indexOf("Right")?this.tipClass="e-tip-left":0===e.indexOf("Bottom")?this.tipClass="e-tip-top":0===e.indexOf("Left")?this.tipClass="e-tip-right":this.tipClass="e-tip-bottom"},t.prototype.renderPopup=function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove("e-lib"),this.popupObj=new V(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="none";var t=d(e,this.tooltipPositionX,this.tooltipPositionY);this.tooltipEle.style.display="";var i=this.calculateTooltipOffset(this.position);return this.collisionFlipFit(e,t.left+i.left,t.top+i.top)},t.prototype.reposition=function(e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()},t.prototype.openPopupHandler=function(){this.trigger("afterOpen",this.tooltipEventArgs)},t.prototype.closePopupHandler=function(){this.clear(),this.trigger("afterClose",this.tooltipEventArgs)},t.prototype.calculateTooltipOffset=function(e){var t={top:0,left:0},i=this.tooltipEle.offsetWidth,n=this.tooltipEle.offsetHeight,r=this.tooltipEle.querySelector(".e-arrow-tip"),o=r?r.offsetWidth:0,a=r?r.offsetHeight:0,s=this.showTipPointer?0:8,c=a/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),l=o/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(s+=2),e){case"RightTop":t.left+=o+s,t.top-=n-c;break;case"RightCenter":t.left+=o+s,t.top-=n/2;break;case"RightBottom":t.left+=o+s,t.top-=c;break;case"BottomRight":t.top+=a+s,t.left-=l;break;case"BottomCenter":t.top+=a+s,t.left-=i/2;break;case"BottomLeft":t.top+=a+s,t.left-=i-l;break;case"LeftBottom":t.left-=o+i+s,t.top-=c;break;case"LeftCenter":t.left-=o+i+s,t.top-=n/2;break;case"LeftTop":t.left-=o+i+s,t.top-=n-c;break;case"TopLeft":t.top-=n+a+s,t.left-=i-l;break;case"TopRight":t.top-=n+a+s,t.left-=l;break;default:t.top-=n+a+s,t.left-=i/2}return t.left+=this.offsetX,t.top+=this.offsetY,t},t.prototype.updateTipPosition=function(e){var t=this.tooltipEle.querySelectorAll(".e-arrow-tip,.e-arrow-tip-outer,.e-arrow-tip-inner"),i=["e-tip-bottom","e-tip-top","e-tip-left","e-tip-right"];Object(l.I)(t,i),this.setTipClass(e),Object(l.s)(t,this.tipClass)},t.prototype.adjustArrow=function(e,t,i,n){if(!1!==this.showTipPointer){var r,o;this.updateTipPosition(t);var a,s=this.tooltipEle.clientWidth,c=this.tooltipEle.clientHeight,l=this.tooltipEle.querySelector(".e-arrow-tip"),h=this.tooltipEle.querySelector(".e-arrow-tip-inner"),d=l.offsetWidth,p=l.offsetHeight;if("e-tip-bottom"===this.tipClass||"e-tip-top"===this.tipClass)"e-tip-bottom"===this.tipClass?(o="99.9%",h.style.top="-"+(p-2)+"px"):(o=-(p-1)+"px",h.style.top="-"+(p-6)+"px"),r=(a="Center"!==i||s>e.offsetWidth||this.mouseTrail)&&"Left"===i||!a&&"End"===this.tipPointerPosition?s-d-2+"px":a&&"Right"===i||!a&&"Start"===this.tipPointerPosition?"2px":s/2-d/2+"px";else"e-tip-right"===this.tipClass?(r="99.9%",h.style.left="-"+(d-2)+"px"):(r=-(d-1)+"px",h.style.left=d-2-d+"px"),o=(a="Center"!==n||c>e.offsetHeight||this.mouseTrail)&&"Top"===n||!a&&"End"===this.tipPointerPosition?c-p-2+"px":a&&"Bottom"===n||!a&&"Start"===this.tipPointerPosition?"2px":c/2-p/2+"px";l.style.top=o,l.style.left=r}},t.prototype.renderContent=function(e){var t=this.tooltipEle.querySelector(".e-tip-content");if(e&&!Object(l.F)(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),Object(l.F)(this.content))e&&!Object(l.F)(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"===typeof this.content)t.innerHTML=this.content;else{var i=Object(l.x)(this.content);Object(l.t)(i(),t)}},t.prototype.renderCloseIcon=function(){if(this.isSticky){var e=this.createElement("div",{className:"e-icons e-tooltip-close"});this.tooltipEle.appendChild(e),l.m.add(e,l.c.touchStartEvent,this.onStickyClose,this)}},t.prototype.addDescribedBy=function(e,t){var i=(e.getAttribute("aria-describedby")||"").split(/\s+/);i.indexOf(t)<0&&i.push(t),Object(l.u)(e,{"aria-describedby":i.join(" ").trim(),"data-tooltip-id":t})},t.prototype.removeDescribedBy=function(e){var t=e.getAttribute("data-tooltip-id"),i=(e.getAttribute("aria-describedby")||"").split(/\s+/),n=i.indexOf(t);-1!==n&&i.splice(n,1),e.removeAttribute("data-tooltip-id");var r=i.join(" ").trim();r?e.setAttribute("aria-describedby",r):e.removeAttribute("aria-describedby")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(e){var t=this;if(!this.isSticky){this.autoCloseTimer=setTimeout(function(){t.close()},1500)}},t.prototype.targetClick=function(e){var t;t=this.target?Object(l.w)(e.target,this.target):this.element,Object(l.F)(t)||(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))},t.prototype.targetHover=function(e){var t;if(t=this.target?Object(l.w)(e.target,this.target):this.element,!Object(l.F)(t)&&null===t.getAttribute("data-tooltip-id")){for(var i=0,n=[].slice.call(document.querySelectorAll("[data-tooltip-id= "+this.ctrlId+"_content]"));i<n.length;i++){var r=n[i];this.restoreElement(r)}this.showTooltip(t,this.animation.open,e),this.wireMouseEvents(e,t)}},t.prototype.showTooltip=function(e,t,i){var n=this;if(clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.tooltipEventArgs=i?{type:i.type,cancel:!1,target:e,event:i,element:this.tooltipEle}:{type:null,cancel:!1,target:e,event:null,element:this.tooltipEle},this.trigger("beforeRender",this.tooltipEventArgs),this.tooltipEventArgs.cancel)return this.isHidden=!0,void this.clear();if(this.isHidden=!1,Object(l.F)(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?Object(l.D)(this.element.getAttribute("id")):Object(l.D)("tooltip"),this.tooltipEle=this.createElement("div",{className:"e-tooltip-wrap e-popup e-lib",attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+Object(l.B)(this.width)+";height:"+Object(l.B)(this.height)+";position:absolute;"}),this.cssClass&&Object(l.s)([this.tooltipEle],this.cssClass.split(" ")),l.c.isDevice&&Object(l.s)([this.tooltipEle],"e-bigger"),"auto"!==this.width&&(this.tooltipEle.style.maxWidth=Object(l.B)(this.width)),this.tooltipEle.appendChild(this.createElement("div",{className:"e-tip-content"})),document.body.appendChild(this.tooltipEle),this.addDescribedBy(e,this.ctrlId+"_content"),this.renderContent(e),Object(l.s)([this.tooltipEle],"e-popup-open"),this.showTipPointer&&this.renderArrow(),this.renderCloseIcon(),this.renderPopup(e)):(this.adjustArrow(e,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(e,this.ctrlId+"_content"),this.renderContent(e),l.b.stop(this.tooltipEle),this.reposition(e)),Object(l.I)([this.tooltipEle],"e-popup-open"),Object(l.s)([this.tooltipEle],"e-popup-close"),this.tooltipEventArgs=i?{type:i.type,cancel:!1,target:e,event:i,element:this.tooltipEle}:{type:null,cancel:!1,target:e,event:null,element:this.tooltipEle},this.trigger("beforeOpen",this.tooltipEventArgs),this.tooltipEventArgs.cancel)return this.isHidden=!0,void this.clear();var r={name:t.effect,duration:t.duration,delay:t.delay,timingFunction:"easeOut"};if("None"===t.effect&&(r=void 0),this.openDelay>0){this.showTimer=setTimeout(function(){n.popupObj&&n.popupObj.show(r,e)},this.openDelay)}else this.popupObj.show(r,e)},t.prototype.checkCollision=function(e,t,i){var n={left:t,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=j(this.tooltipEle,this.target?this.element:null,t,i);return r.length>0&&(n.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,n.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),n},t.prototype.collisionFlipFit=function(e,t,i){var n=this.checkCollision(e,t,i),r=n.position;if(this.tooltipPositionY!==n.vertical&&(r=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?n.vertical+this.tooltipPositionX:this.tooltipPositionX+n.vertical),this.tooltipPositionX!==n.horizontal&&(0===r.indexOf("Left")&&(n.vertical="LeftTop"===r||"LeftCenter"===r?"Top":"Bottom",r=n.vertical+"Left"),0===r.indexOf("Right")&&(n.vertical="RightTop"===r||"RightCenter"===r?"Top":"Bottom",r=n.vertical+"Right"),n.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:r},this.trigger("beforeCollision",this.tooltipEventArgs),n.position!==r){var o=d(e,n.horizontal,n.vertical);this.adjustArrow(e,r,n.horizontal,n.vertical);var a=this.calculateTooltipOffset(r);a.top-=-1!=="TopBottom".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="TopBottom".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetY:0,a.left-=-1!=="RightLeft".indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!=="RightLeft".indexOf(r.split(/(?=[A-Z])/)[0])?2*this.offsetX:0,n.position=r,n.left=o.left+a.left,n.top=o.top+a.top}else this.adjustArrow(e,r,n.horizontal,n.vertical);var s={left:n.left,top:n.top},c=x(this.tooltipEle,this.target?this.element:null,{X:!0,Y:!1},s).left;if(this.showTipPointer&&(0===r.indexOf("Bottom")||0===r.indexOf("Top"))){var l=this.tooltipEle.querySelector(".e-arrow-tip"),h=parseInt(l.style.left,10)-(c-n.left);h<0?h=0:h+l.offsetWidth>this.tooltipEle.clientWidth&&(h=this.tooltipEle.clientWidth-l.offsetWidth),l.style.left=h.toString()+"px"}return s.left=c,s},t.prototype.hideTooltip=function(e,t,i){var n,r=this;if(t?(n=this.target?i||t.target:this.element,this.tooltipEventArgs={type:t.type,cancel:!1,target:n,event:t,element:this.tooltipEle}):(n=document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]"),this.tooltipEventArgs={type:null,cancel:!1,target:n,event:null,element:this.tooltipEle}),!Object(l.F)(n))if(this.trigger("beforeClose",this.tooltipEventArgs),this.tooltipEventArgs.cancel)this.isHidden=!1;else{this.restoreElement(n),this.isHidden=!0;var o={name:e.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};if("None"===e.effect&&(o=void 0),this.closeDelay>0){this.hideTimer=setTimeout(function(){r.popupObj&&r.popupObj.hide(o)},this.closeDelay)}else this.popupObj.hide(o)}},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),Object(l.F)(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},t.prototype.clear=function(){this.tooltipEle&&(Object(l.I)([this.tooltipEle],"e-popup-close"),Object(l.s)([this.tooltipEle],"e-popup-open")),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&Object(l.H)(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.onMouseOut=function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var i=Object(l.w)(t,".e-tooltip-wrap.e-lib.e-popup");i?(l.m.add(i,"mouseleave",this.tooltipElementMouseOut,this),this.unwireMouseEvents(e.target)):this.hideTooltip(this.animation.close,e)}else this.hideTooltip(this.animation.close,e)},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),l.m.remove(this.element,"mouseleave",this.tooltipElementMouseOut)},t.prototype.onStickyClose=function(e){this.close()},t.prototype.onMouseMove=function(e){var t=0,i=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY),l.b.stop(this.tooltipEle),Object(l.I)([this.tooltipEle],"e-popup-close"),Object(l.s)([this.tooltipEle],"e-popup-open"),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var n=this.calculateTooltipOffset(this.position),r=t+n.left+this.offsetX,o=i+n.top+this.offsetY,a=this.checkCollision(e.target,r,o);if(this.tooltipPositionX!==a.horizontal||this.tooltipPositionY!==a.vertical){var s=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?a.vertical+a.horizontal:a.horizontal+a.vertical;a.position=s,this.adjustArrow(e.target,a.position,a.horizontal,a.vertical);var c=this.calculateTooltipOffset(a.position);a.left=t+c.left-this.offsetX,a.top=i+c.top-this.offsetY}this.tooltipEle.style.left=a.left+"px",this.tooltipEle.style.top=a.top+"px"},t.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===Object(l.w)(e.target,"."+Q)&&this.close()},t.prototype.scrollHandler=function(e){this.tooltipEle&&this.close()},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn)},t.prototype.preRender=function(){this.tipClass="e-tip-bottom",this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var t=0,i=this.getTriggerList(e);t<i.length;t++){var n=i[t];if("Custom"===n)return;"Focus"===n&&this.wireFocusEvents(),"Click"===n&&l.m.add(this.element,l.c.touchStartEvent,this.targetClick,this),"Hover"===n&&(l.c.isDevice?(this.touchModule=new l.r(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),l.m.add(this.element,l.c.touchEndEvent,this.touchEndHandler,this)):l.m.add(this.element,"mouseover",this.targetHover,this))}l.m.add(document,"touchend",this.touchEnd,this),l.m.add(document,"scroll",this.scrollHandler,this),l.m.add(document,"keydown",this.keyDown,this)},t.prototype.getTriggerList=function(e){return"Auto"===e&&(e=l.c.isDevice?"Hover":"Hover Focus"),e.split(" ")},t.prototype.wireFocusEvents=function(){if(Object(l.F)(this.target))l.m.add(this.element,"focus",this.targetHover,this);else for(var e=0,t=[].slice.call(this.element.querySelectorAll(this.target));e<t.length;e++){var i=t[e];l.m.add(i,"focus",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&l.m.add(t,"blur",this.onMouseOut,this),"mouseover"===e.type&&l.m.add(t,"mouseleave",this.onMouseOut,this)),this.mouseTrail&&l.m.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var t=0,i=this.getTriggerList(e);t<i.length;t++){var n=i[t];if("Custom"===n)return;"Focus"===n&&this.unwireFocusEvents(),"Click"===n&&l.m.remove(this.element,l.c.touchStartEvent,this.targetClick),"Hover"===n&&(l.c.isDevice?(this.touchModule&&this.touchModule.destroy(),l.m.remove(this.element,l.c.touchEndEvent,this.touchEndHandler)):l.m.remove(this.element,"mouseover",this.targetHover))}l.m.remove(document,"touchend",this.touchEnd),l.m.remove(document,"scroll",this.scrollHandler),l.m.remove(document,"keydown",this.keyDown)},t.prototype.unwireFocusEvents=function(){if(Object(l.F)(this.target))l.m.remove(this.element,"focus",this.targetHover);else for(var e=0,t=[].slice.call(this.element.querySelectorAll(this.target));e<t.length;e++){var i=t[e];l.m.remove(i,"focus",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky)for(var t=0,i=this.getTriggerList(this.opensOn);t<i.length;t++){var n=i[t];"Focus"===n&&l.m.remove(e,"blur",this.onMouseOut),"Hover"!==n||l.c.isDevice||l.m.remove(e,"mouseleave",this.onMouseOut)}this.mouseTrail&&l.m.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return document.querySelector("[data-tooltip-id= "+this.ctrlId+"_content]")},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,t){for(var i=this.findTarget(),n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"width":this.tooltipEle&&i&&(this.tooltipEle.style.width=Object(l.B)(e.width),this.reposition(i));break;case"height":this.tooltipEle&&i&&(this.tooltipEle.style.height=Object(l.B)(e.height),this.reposition(i));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&i){var o=this.tooltipEle.querySelector(".e-arrow-tip-inner");o.style.top=o.style.left=null,this.reposition(i)}break;case"tipPointerPosition":this.tooltipEle&&i&&this.reposition(i);break;case"offsetX":if(this.tooltipEle){var a=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+a).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var s=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+s).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&Object(l.I)([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&Object(l.s)([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?Object(l.s)([this.tooltipEle],"e-rtl"):Object(l.I)([this.tooltipEle],"e-rtl"))}}},t.prototype.open=function(e,t){void 0===t&&(t=this.animation.open),"none"!==e.style.display&&this.showTooltip(e,t)},t.prototype.close=function(e){void 0===e&&(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),Object(l.I)([this.element],Q),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&Object(l.H)(this.tooltipEle),this.tooltipEle=null,this.popupObj=null},Z([Object(l.q)("auto")],t.prototype,"width",void 0),Z([Object(l.q)("auto")],t.prototype,"height",void 0),Z([Object(l.q)()],t.prototype,"content",void 0),Z([Object(l.q)()],t.prototype,"target",void 0),Z([Object(l.q)("TopCenter")],t.prototype,"position",void 0),Z([Object(l.q)(0)],t.prototype,"offsetX",void 0),Z([Object(l.q)(0)],t.prototype,"offsetY",void 0),Z([Object(l.q)(!0)],t.prototype,"showTipPointer",void 0),Z([Object(l.q)("Auto")],t.prototype,"tipPointerPosition",void 0),Z([Object(l.q)("Auto")],t.prototype,"opensOn",void 0),Z([Object(l.q)(!1)],t.prototype,"mouseTrail",void 0),Z([Object(l.q)(!1)],t.prototype,"isSticky",void 0),Z([Object(l.g)({},K)],t.prototype,"animation",void 0),Z([Object(l.q)(0)],t.prototype,"openDelay",void 0),Z([Object(l.q)(0)],t.prototype,"closeDelay",void 0),Z([Object(l.q)()],t.prototype,"cssClass",void 0),Z([Object(l.l)()],t.prototype,"beforeRender",void 0),Z([Object(l.l)()],t.prototype,"beforeOpen",void 0),Z([Object(l.l)()],t.prototype,"afterOpen",void 0),Z([Object(l.l)()],t.prototype,"beforeClose",void 0),Z([Object(l.l)()],t.prototype,"afterClose",void 0),Z([Object(l.l)()],t.prototype,"beforeCollision",void 0),Z([Object(l.l)()],t.prototype,"created",void 0),Z([Object(l.l)()],t.prototype,"destroyed",void 0),t=Z([l.p],t)}(l.i);i.d(t,"a",function(){return te}),i.d(t,"b",function(){return ie}),i.d(t,"c",function(){return oe});var J=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ee=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return J(t,e),ee([Object(l.q)("")],t.prototype,"content",void 0),ee([Object(l.q)("TopLeft")],t.prototype,"position",void 0),ee([Object(l.q)("Mouse")],t.prototype,"relativeMode",void 0),ee([Object(l.q)(!0)],t.prototype,"showTipPointer",void 0),ee([Object(l.q)("auto")],t.prototype,"width",void 0),ee([Object(l.q)("auto")],t.prototype,"height",void 0),ee([Object(l.q)()],t.prototype,"animation",void 0),t}(l.d);function ie(e){var t=new $;t=ae(e.tooltip,t);var i=new $(t);return i.beforeCollision=re,i.beforeOpen=ne,i.cssClass="e-diagram-tooltip",i.opensOn="custom",i.appendTo("#"+e.element.id),i.close(),i}function ne(e){""!==this.content&&void 0!==this.content||(e.element.style.display="none")}function re(e){e.collidedPosition&&e.collidedPosition!==this.position&&(e.element.style.display="none")}function oe(e,t){var i=e.tooltipObject;return ae(t?t.tooltip:e.tooltip,i),i}function ae(e,t){return e.content?(t.content=e.content,t.position=e.position,t.showTipPointer=e.showTipPointer,t.width=e.width,t.height=e.height,e.animation?t.animation=e.animation:t.animation={close:{effect:"None"}}):t.close(),t}},function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(4),r=i(9),o=i(19),a=i(3),s=i(2),c=i(30),l=i(6),h=function(){function e(){}return e.prototype.renderShadow=function(e,t,i,r){void 0===i&&(i=null);var o,s,c=n.a.transform({x:0,y:0},e.shadow.angle,e.shadow.distance),l=e.x+c.x,h=e.y+c.y;e.width,e.pivotX,e.height,e.pivotY;r&&(s=r.getElementById(t.id+"_shadow")),s||(o=i?"path":"rect",s=document.createElementNS("http://www.w3.org/2000/svg",o),t.appendChild(s));var d={id:t.id+"_shadow",fill:e.shadow.color,stroke:e.shadow.color,opacity:e.shadow.opacity.toString(),transform:"rotate("+e.angle+","+(e.x+e.width*e.pivotX)+","+(e.y+e.height*e.pivotY)+")translate("+(e.x+c.x)+","+(e.y+c.y)+")"};if(r){var p=r.getElementById(t.id);p&&p.insertBefore(s,p.firstChild)}Object(a.G)(s,d),i?i&&this.renderPath(s,e,i):Object(a.G)(s,{width:e.width,height:e.height})},e.prototype.parseDashArray=function(e){return[]},e.prototype.drawRectangle=function(e,t,i,n,r,o,s){var c,l,h;t.shadow&&!n&&this.renderShadow(t,e,void 0,o),c=t.id===e.id?t.id+"_container":t.id,o&&(l=o.getElementById(c)),l&&!r||(l=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.appendChild(l)),o&&!t.shadow&&(h=o.getElementById(t.id+"_groupElement_shadow"))&&h.parentNode.removeChild(h);var d={id:c,x:t.x.toString(),y:t.y.toString(),width:t.width.toString(),height:t.height.toString(),visibility:t.visible?"visible":"hidden",transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",rx:t.cornerRadius||0,ry:t.cornerRadius||0,opacity:t.opacity,"aria-label":s||""};t.class&&(d.class=t.class);s||(d["pointer-events"]="none"),Object(a.G)(l,d),this.setSvgStyle(l,t,i)},e.prototype.updateSelectionRegion=function(e,t){var i,n;i=e.parentNode.getElementById(t.id),n={id:t.id,x:t.x.toString(),y:t.y.toString(),width:t.width.toString(),height:t.height.toString(),transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",class:"e-diagram-selected-region"},i||(i=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.appendChild(i)),this.setSvgStyle(i,t),Object(a.G)(i,n)},e.prototype.createGElement=function(e,t){return Object(a.d)(e,t)},e.prototype.drawLine=function(e,t){var i=document.createElementNS("http://www.w3.org/2000/svg","line");this.setSvgStyle(i,t);var n=t.x+t.width*t.pivotX,r=t.y+t.height*t.pivotY,o={id:t.id,x1:t.startPoint.x+t.x,y1:t.startPoint.y+t.y,x2:t.endPoint.x+t.x,y2:t.endPoint.y+t.y,stroke:t.stroke,"stroke-width":t.strokeWidth.toString(),opacity:t.opacity.toString(),transform:"rotate("+t.angle+" "+n+" "+r+")",visibility:t.visible?"visible":"hidden"};t.class&&(o.class=t.class),Object(a.G)(i,o),e.appendChild(i)},e.prototype.drawCircle=function(e,t,i,n){var r=document.createElementNS("http://www.w3.org/2000/svg","circle");this.setSvgStyle(r,t);var o=t.class||"";i||(o+=" e-disabled");var s={id:t.id,cx:t.centerX,cy:t.centerY,r:t.radius,visibility:t.visible?"visible":"hidden",class:o,"aria-label":n?n["aria-label"]:""};r.style.display=t.visible?"block":"none",Object(a.G)(r,s),e.appendChild(r)},e.prototype.drawPath=function(e,t,i,n,r,s){var c=Math.floor(10*Math.random()+1);e.id,c.toString();var l,h,d=[];d=Object(o.e)(t.data),d=Object(o.d)(d),t.shadow&&this.renderShadow(t,e,d,r),r&&!t.shadow&&(l=r.getElementById(t.id+"_groupElement_shadow"))&&l.parentNode.removeChild(l),r&&(h=r.getElementById(t.id)),h&&!n||(h=document.createElementNS("http://www.w3.org/2000/svg","path"),e.appendChild(h)),this.renderPath(h,t,d);var p={id:t.id,transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")translate("+t.x+","+t.y+")",visibility:t.visible?"visible":"hidden",opacity:t.opacity,"aria-label":s||""};t.class&&(p.class=t.class),Object(a.G)(h,p),this.setSvgStyle(h,t,i)},e.prototype.renderPath=function(e,t,i){var n,r,o,a,s,c,l,h,d=i,p="";for(s=0,c=0,h=0,l=d.length;h<l;++h){var u=d[h],f=u.command;switch("x1"in u&&(n=u.x1),"x2"in u&&(o=u.x2),"y1"in u&&(r=u.y1),"y2"in u&&(a=u.y2),"x"in u&&(s=u.x),"y"in u&&(c=u.y),f){case"M":p=p+"M"+s.toString()+","+c.toString()+" ";break;case"L":p=p+"L"+s.toString()+","+c.toString()+" ";break;case"C":p=p+"C"+n.toString()+","+r.toString()+","+o.toString()+","+a.toString()+",",p+=s.toString()+","+c.toString()+" ";break;case"Q":p=p+"Q"+n.toString()+","+r.toString()+","+s.toString()+","+c.toString()+" ";break;case"A":p=p+"A"+u.r1.toString()+","+u.r2.toString()+","+u.angle.toString()+",",p+=u.largeArc.toString()+","+u.sweep+","+s.toString()+","+c.toString()+" ";break;case"Z":case"z":p+="Z "}}e.setAttribute("d",p)},e.prototype.setSvgFontStyle=function(e,t){e.style.fontStyle=t.italic?"italic":"normal",e.style.fontWeight=t.bold?"bold":"normal",e.style.fontSize=t.fontSize.toString()+"px",e.style.fontFamily=t.fontFamily},e.prototype.drawText=function(e,t,i,n,r){if(void 0!==t.content){var o=void 0,c=void 0,l=void 0,h=void 0,d=void 0,p=void 0,u=0,f=0,g=0,m=void 0;if(i&&(m=i.getElementById(t.id+"_text")),m){if(t.doWrap)for(;m.firstChild;)m.removeChild(m.firstChild)}else t.doWrap=!0,m=document.createElementNS("http://www.w3.org/2000/svg","text"),"pre-wrap"===t.whiteSpace&&m.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.appendChild(m);var y=t.x+t.width*t.pivotX,v=t.y+t.height*t.pivotY;if(t.doWrap||"Wrap"!==t.textOverflow){var b=document.getElementById(t.id+"_text");for(b&&(b.innerHTML=""),this.setSvgStyle(m,t,r),this.setSvgFontStyle(m,t),o=document.createTextNode(t.content),c=t.childNodes,l=t.wrapBounds,h=this.svgLabelAlign(t,l,c),l.width>t.width&&"Wrap"!==t.textOverflow&&(c[0].text=Object(s.h)(t.content,t)),g=0;g<c.length;g++)p=document.createElementNS("http://www.w3.org/2000/svg","tspan"),o=document.createTextNode(c[g].text),d=c[g],u=h.x+d.x-l.x,f=h.y+d.dy*g+.8*t.fontSize,Object(a.G)(p,{x:u.toString(),y:f.toString()}),m.setAttribute("fill",d.text),p.appendChild(o),m.appendChild(p)}t.textDecoration&&"LineThrough"===t.textDecoration&&(t.textDecoration=Object(s.n)(t.textDecoration));var w={id:t.id+"_text",fill:t.color,visibility:t.visible?"visible":"hidden","text-decoration":t.textDecoration,transform:"rotate("+t.angle+","+y+","+v+")translate("+t.x+","+t.y+")",opacity:t.opacity,"aria-label":n||""};Object(a.G)(m,w)}},e.prototype.drawImage=function(e,t,i,n){var r;t.id;i&&(r=i.getElementById(t.id+"image")),r||(r=document.createElementNS("http://www.w3.org/2000/svg","image"),e.appendChild(r));var o=new Image;o.src=t.source;var s="None"!==t.scale?t.scale:"",c=t.alignment,l=c.charAt(0).toLowerCase()+c.slice(1);s&&(l+=" "+s.charAt(0).toLowerCase()+s.slice(1));var h={id:t.id+"image",x:t.x.toString(),y:t.y.toString(),transform:"rotate("+t.angle+","+(t.x+t.width*t.pivotX)+","+(t.y+t.height*t.pivotY)+")",width:t.width.toString(),visibility:t.visible?"visible":"hidden",height:t.height.toString(),preserveAspectRatio:l,opacity:(t.opacity||1).toString()};Object(a.G)(r,h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.src.toString())},e.prototype.drawHTMLContent=function(e,t,i,n,r){var o;if(t){var c=void 0;for(c=0;c<t.childNodes.length;c++)t.childNodes[c].id===e.id+"_html_element"&&(o=t.childNodes[c])}if(!o){var l={id:e.id+"_html_element",class:"foreign-object"};(o=Object(a.b)("div",l)).appendChild(e.template.cloneNode(!0)),void 0!==r&&t.childNodes.length>r?t.insertBefore(o,t.childNodes[r]):t.appendChild(o)}var h=Object(s.c)(e).topLeft;o.setAttribute("style","height:"+e.actualSize.height+"px; width:"+e.actualSize.width+"px;left:"+h.x+"px; top:"+h.y+"px;position:absolute;transform:rotate("+(e.rotateAngle+e.parentTransform)+"deg);pointer-events:"+(n?"all":"none")+";visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";")},e.prototype.drawNativeContent=function(e,t,i,n,r){var o,s;r&&(o=r.getElementById(e.id+"_native_element"),s=r.getElementById(e.id+"_clip")),o||((o=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("id",e.id+"_native_element"),o.appendChild(e.template.cloneNode(!0)),t.appendChild(o)),s&&o.removeChild(s),o.setAttribute("style","visibility:"+(e.visible?"visible":"hidden")+";opacity:"+e.style.opacity+";"),this.setNativTransform(e,o,i,n),"Slice"===e.scale&&this.drawClipPath(e,o,i,n,r),Object(a.G)(o,e.description?{"aria-label":e.description}:{})},e.prototype.setNativTransform=function(e,t,i,n){var r=0!==e.contentSize.width?e.contentSize.width:1,o=0!==e.contentSize.height?e.contentSize.height:1,a=e.templatePosition.x*n/r,s=e.templatePosition.y*i/o;t.setAttribute("transform","rotate("+e.parentTransform+","+e.offsetX+","+e.offsetY+") translate("+(e.offsetX-a-n*e.pivot.x)+","+(e.offsetY-s-i*e.pivot.y)+") scale("+n/r+","+i/o+")")},e.prototype.drawClipPath=function(e,t,i,n,r){var o=e.contentSize.width,s=e.contentSize.height,c=(e.actualSize.width,e.actualSize.height,e.width/(n/o)),l=e.height/(i/s),h=e.templatePosition.x+(e.width>=e.height?0:(o-c)/2),d=e.templatePosition.y+(e.height>=e.width?0:(s-l)/2),p=r.getElementById(e.id+"_clip");(p=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id",e.id+"_clip"),t.appendChild(p);var u=r.getElementById(e.id+"_clip_rect");u=document.createElementNS("http://www.w3.org/2000/svg","rect"),p.appendChild(u);var f={id:e.id+"_clip_rect",width:c.toString(),height:l.toString(),x:h.toString(),y:d.toString()};return Object(a.G)(u,f),t.setAttribute("clip-path","url(#"+e.id+"_clip)"),t},e.prototype.renderGradient=function(e,t,i){var n,r,o,s,c,h=Object(a.j)(i),d=h.getElementById(i+"gradient_pattern");if(d||(d=Object(a.d)("defs",{id:i+"gradient_pattern"}),h.insertBefore(d,h.firstChild)),Object(l.I)(t.id),"None"!==e.gradient.type){for(var p=0;p<e.gradient.stops.length;p++)n=n?Math.max(n,e.gradient.stops[p].offset):e.gradient.stops[p].offset,r=r?Math.min(r,e.gradient.stops[p].offset):e.gradient.stops[p].offset;"Linear"===e.gradient.type?((c=e.gradient).id=t.id+"_linear",o=this.createLinearGradient(c),d.appendChild(o)):((s=e.gradient).id=t.id+"_radial",o=this.createRadialGradient(s),d.appendChild(o));for(p=0;p<e.gradient.stops.length;p++){var u=e.gradient.stops[p],f=r<0?(n+u.offset)/(2*n):u.offset/n,g=document.createElementNS("http://www.w3.org/2000/svg","stop");Object(a.G)(g,{offset:f.toString(),style:"stop-color:"+u.color}),o.appendChild(g)}}return o},e.prototype.createLinearGradient=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),i={id:e.id,x1:e.x1+"%",y1:e.y1+"%",x2:e.x2+"%",y2:e.y2+"%"};return Object(a.G)(t,i),t},e.prototype.createRadialGradient=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),i={id:e.id,cx:e.cx+"%",cy:e.cy+"%",r:e.r+"%",fx:e.fx+"%",fy:e.fy+"%"};return Object(a.G)(t,i),t},e.prototype.setSvgStyle=function(e,t,i){if(t.canApplyStyle||void 0===t.canApplyStyle){"none"===t.fill&&(t.fill="transparent"),"none"===t.stroke&&(t.stroke="transparent");var n=[],r=void 0;if(void 0!==t.dashArray)n=(new c.a).parseDashArray(t.dashArray);if(t.gradient&&"None"!==t.gradient.type)r="url(#"+this.renderGradient(t,e,i).id+")";else r=t.fill;t.stroke&&e.setAttribute("stroke",t.stroke),void 0!==t.strokeWidth&&null!==t.strokeWidth&&e.setAttribute("stroke-width",t.strokeWidth.toString()),n&&e.setAttribute("stroke-dasharray",n.toString()),r&&e.setAttribute("fill",r)}},e.prototype.svgLabelAlign=function(e,t,i){var n=new r.a(t.width,i.length*(1.2*e.fontSize)),o={x:0,y:0},a=.5*e.width,s=.5*e.height;return"left"===e.textAlign?a=0:"center"===e.textAlign?a=t.width>e.width&&("Ellipsis"===e.textOverflow||"Clip"===e.textOverflow)?0:.5*e.width:"right"===e.textAlign&&(a=1*e.width),o.x=0+a+(t?t.x:0),o.y=1.2+s-n.height/2,o},e}()},function(e,t,i){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=i(55)},function(e,t,i){"use strict";function n(e){return a[e.toString()]}function r(e,t){return"Custom"===e?t.pathData:s[e]}function o(e){var t;switch(e.shape){case"Minus":t="M0,50 L100,50";break;case"Plus":t="M0,-50 L0,50 M-50,0 L50,0";break;case"ArrowUp":t="M0,100 L50,0 L100,100 Z";break;case"ArrowDown":t="M0,0 L50,100 L100,0 Z";break;case"Path":t=e.pathData}return t}i.d(t,"c",function(){return n}),i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o});var a={X:"M14,14 L106,106 M106,14 L14,106",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z",Square:"M0,0 L10,0 L10,10 L0,10 z"},s={OpenArrow:"M15.9,23 L5,16 L15.9,9 L17,10.7 L8.7,16 L17,21.3Z",Square:"M0,0 L10,0 L10,10 L0,10 z",Fletch:"M14.8,10c0,0-3.5,6,0.2,12c0,0-2.5-6-10.9-6C4.1,16,11.3,16,14.8,10z",OpenFetch:"M6,17c-0.6,0-1-0.4-1-1s0.4-1,1-1c10.9,0,11-5,11-5c0-0.6,0.4-1,1-1s1,0.4,1,1C19,10.3,18.9,17,6,17C6,17,6,17,6,17z M18,23c-0.5,0-1-0.4-1-1c0-0.2-0.3-5-11-5c-0.6,0-1-0.5-1-1s0.4-1,1-1c0,0,0,0,0,0c12.9,0,13,6.7,13,7    C19,22.6,18.6,23,18,23z",IndentedArrow:"M17,10c0,0-4.5,5.5,0,12L5,16L17,10z",OutdentedArrow:"M14.6,10c0,0,5.4,6,0,12L5,16L14.6,10z",DoubleArrow:"M19,10 L19,22 L13,16Z M12,10 L12,22 L6,16Z",Arrow:"M15,10 L15,22 L5,16Z",Diamond:"M12,23l-7-7l7-7l6.9,7L12,23z",Circle:"M0,50 A50,50,0 1 1 100,50 A50,50,0 1 1 0,50 Z"}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(9),r=i(22),o=i(3),a=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(e){function t(){var t=e.call(this)||this;return t.imageSource="",t.imageScale="None",t.imageAlign="None",t.stretch="Stretch",t}return a(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this.imageSource},set:function(e){this.imageSource=e,this.isDirt=!0},enumerable:!0,configurable:!0}),t.prototype.measure=function(e){return this.isDirt&&("Stretch"!==this.stretch||void 0===this.width&&void 0===this.height)&&(this.contentSize=Object(o.y)(this.source,this.contentSize),this.isDirt=!1),void 0!==this.width&&void 0!==this.height?(this.desiredSize=new n.a(this.width,this.height),this.contentSize=this.desiredSize):this.desiredSize=this.contentSize,this.desiredSize=this.validateDesiredSize(this.desiredSize,e),this.desiredSize},t.prototype.arrange=function(e){return this.actualSize=new n.a(this.desiredSize.width,this.desiredSize.height),this.updateBounds(),this.actualSize},t}(r.a)},function(e,t,i){"use strict";var n=i(21),r=i(33),o=i(0),a=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],c=["accordion","tab","splitter"],l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t}return a(t,e),t.prototype.componentWillMount=function(){var e=Object.keys(this.props);this.htmlattributes={},this.attrKeys=s.concat(this.controlAttributes||[]);for(var t=0,i=e;t<i.length;t++){var n=i[t];-1===n.indexOf("data-")&&-1===n.indexOf("aria-")&&-1===this.attrKeys.indexOf(n)||(this.htmlattributes[n]=this.props[n])}},t.prototype.componentDidMount=function(){var e=this;this.refreshChild(!0),this.canDelayUpdate=-1!==c.indexOf(this.getModuleName()),this.props.immediateRender?this.renderComponent():this.cachedTimeOut=setTimeout(function(){e.renderComponent()})},t.prototype.renderComponent=function(){var e=r.findDOMNode(this);e&&(this.isAppendCalled=!0,this.appendTo(e))},t.prototype.componentWillReceiveProps=function(e){var t=this;this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(r.findDOMNode(this)));for(var i=Object(o.A)({},e),n=0,a=Object.keys(e);n<a.length;n++){var s=a[n],c="className"===s;c||Object(o.F)(this.htmlattributes[s])||this.htmlattributes[s]===i[s]||(this.htmlattributes[s]=i[s]),this.props[s]===e[s]?delete i[s]:-1!==this.attrKeys.indexOf(s)&&(c?(this.element.classList.remove(this.props[s]),this.element.classList.add(i[s])):"disabled"!==s&&delete i[s])}i.children&&delete i.children,this.canDelayUpdate||this.props.delayUpdate?setTimeout(function(){t.refreshProperties(i,e)}):this.refreshProperties(i,e)},t.prototype.refreshProperties=function(e,t){Object.keys(e).length&&(this.processComplexTemplate(e,this),this.setProperties(e)),this.refreshChild(!1,t)},t.prototype.processComplexTemplate=function(e,t){var i=t.complexTemplate;if(i)for(var n in i){var r=i[n];e[n]&&Object(o.O)(r,Object(o.E)(n,e),e)}},t.prototype.getDefaultAttributes=function(){return this.htmlattributes},t.prototype.trigger=function(e,t){if(!0!==this.isDestroyed){"change"!==e&&"input"!==e||this.props.onChange&&t.event&&this.props.onChange.call(void 0,{syntheticEvent:t.event,nativeEvent:{text:t.value},value:t.value,target:this});var i=this.isProtectedOnChange;this.isProtectedOnChange=!1,this.modelObserver.notify(e,t),this.isProtectedOnChange=i}},t.prototype.compareObjects=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},t.prototype.refreshChild=function(e,t){if(this.checkInjectedModules){for(var i=this.getInjectedModules()||[],n=0,r=this.getInjectedServices()||[];n<r.length;n++){var a=r[n];-1===i.indexOf(a)&&i.push(a)}this.injectedModules=i}if(this.directivekeys){var s=this.validateChildren({},this.directivekeys,t||this.props);if(s){if(!e&&this.skipRefresh)for(var c=0,l=this.skipRefresh;c<l.length;c++){delete s[l[c]]}if(this.prevProperties)for(var h=Object.keys(this.prevProperties),d=0;d<h.length;d++){var p=h[d];this.compareObjects(this.prevProperties[p],s[p])?delete s[p]:this.prevProperties=Object(o.A)(this.prevProperties,s)}else this.prevProperties=Object(o.A)({},s,{},!0);this.setProperties(s,e)}}},t.prototype.componentWillUnmount=function(){this.destroy()},t.prototype.validateChildren=function(e,t,i){for(var r=!1,o=0,a=n.Children.toArray(i.children);o<a.length;o++){var s=a[o],c=this.getChildType(s),l=t[c];if(c&&t){var h=this.getChildProps(n.Children.toArray(s.props.children),l);h.length&&(r=!0,e[s.type.propertyName||c]=h)}}return r?e:null},t.prototype.getChildType=function(e){return e.type&&e.type.isDirective&&e.type.moduleName||""},t.prototype.getChildProps=function(e,t){for(var i=[],n=0,r=e;n<r.length;n++){var a=r[n],s=!1,c=void 0;"string"===typeof t?(s=!0,c=t):c=Object.keys(t)[0];var l=a.props;if(this.getChildType(a)===c)if(s||!l.children){var h=Object(o.A)({},l,{},!0);this.processComplexTemplate(h,a.type),i.push(h)}else{var d=this.validateChildren(Object(o.A)({},l),t[c],l)||l;d.children&&delete d.children,this.processComplexTemplate(d,a.type),i.push(d)}}return i},t.prototype.getInjectedServices=function(){for(var e=0,t=n.Children.toArray(this.props.children);e<t.length;e++){var i=t[e];if(i.type.isService)return i.props.services}return[]},t}(n.PureComponent);function h(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(i){e.prototype[i]=t.prototype[i]})})}var d=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}d(t,e),t.prototype.render=function(){return null},t.isDirective=!0}(n.PureComponent),function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}()),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){return null},t.isService=!0,t}(n.PureComponent),f=Object(o.C)();Object(o.N)({compile:function(e,t){return"string"===typeof e?f(e,t):function(t){var i=document.createElement("div");document.body.appendChild(i);var n=e,a=t;return"object"===typeof n&&(n=e.template,a=Object(o.A)({},t,e.data||{})),r.render(n(a),i),Object(o.z)(i),i.children}}}),i.d(t,"a",function(){return l}),i.d(t,"c",function(){return h}),i.d(t,"b",function(){return u})},function(e,t,i){"use strict";function n(e){return r[e.toString()]}i.d(t,"a",function(){return n});var r={Rectangle:"M0,0 L50,0 L50,50 L0,50 z",Ellipse:"M80.5,12.5 C80.5,19.127417 62.59139,24.5 40.5,24.5 C18.40861,24.5 0.5,19.127417 0.5,12.5C0.5,5.872583 18.40861,0.5 40.5,0.5 C62.59139,0.5 80.5,5.872583 80.5,12.5 z",Hexagon:"M30,0 L60,0 L90,30 L60,60 L30,60 L0,30 L30,0 z",Parallelogram:"M30,0 L60,0 L45,30 L15,30 z",Triangle:"M45,0 L90,45 L0,45 L45,0 z",Plus:"M696.6084,158.2656 L674.8074,158.2656 L674.8074,136.4656 L658.4084,136.4656 L658.4084,158.2656 L636.6084,158.2656L636.6084,174.6646 L658.4084,174.6646 L658.4084,196.4656 L674.8074,196.4656 L674.8074,174.6646 L696.6084,174.6646L696.6084,158.2656 z",Star:"M540.3643,137.9336 L546.7973,159.7016 L570.3633,159.7296 L550.7723,171.9366 L558.9053,194.9966 L540.3643,179.4996L521.8223,194.9966 L529.9553,171.9366 L510.3633,159.7296 L533.9313,159.7016 L540.3643,137.9336 z",Pentagon:"M30,0 L60,30 L50,70 L10,70 L0,30 L30,0 z",Heptagon:"M223.7783,195.7134 L207.1303,174.8364 L213.0713,148.8034 L237.1303,137.2174 L261.1883,148.8034 L267.1303,174.8364L250.4813,195.7134 L223.7783,195.7134 z",Octagon:"M98.7319,196.4653 L81.1579,178.8923 L81.1579,154.0393 L98.7319,136.4653 L123.5849,136.4653L141.1579,154.0393 L141.1579,178.8923 L123.5849,196.4653 L98.7319,196.4653 z",Trapezoid:"M127.2842,291.4492 L95.0322,291.4492 L81.1582,256.3152 L141.1582,256.3152 L127.2842,291.4492 z",Decagon:"M657.3379,302.4141 L642.3369,291.5161 L636.6089,273.8821 L642.3369,256.2481 L657.3379,245.3511 L675.8789,245.3511L690.8789,256.2481 L696.6089,273.8821L690.8789,291.5161 L675.8789,302.4141 L657.3379,302.4141 z",RightTriangle:"M836.293,292.9238 L776.293,292.9238 L776.293,254.8408 L836.293,292.9238 z",Cylinder:"M 542.802,362.009C 542.802,368.452 525.341,373.676 503.802,373.676C 482.263,373.676 464.802,368.452 464.802,362.009L 464.802,466.484C 464.802,472.928 482.263,478.151 503.802,478.151C 525.341,478.151 542.802,472.928 542.802,466.484L 542.802,362.016C 542.802,368.459 525.341,373.534 503.802,373.534C 482.263,373.534 464.802,368.31 464.802,361.867L 464.802,362.016C 464.802,355.572 482.263,350.349 503.802,350.349C 525.341,350.349 542.802,355.572 542.802,362.016",Diamond:"M397.784,287.875 L369.5,316.159 L341.216,287.875 L369.5,259.591 L397.784,287.875 z"}},function(e,t,i){"use strict";function n(e){return r[e.toString()]}i.d(t,"a",function(){return n});var r={Process:"M419.511,76.687L359.511,76.687L359.511,43.086L419.511,43.086z",Decision:"M 253.005,115.687L 200.567,146.071L 148.097,115.687L 200.534,85.304L 253.005,115.687 Z",Document:"M 60 31.9 c 0 0 -11 -7.7 -30 0 s -30 0 -30 0 V 0 h 60 V 31.9 Z",PreDefinedProcess:"M 0,0 L 50,0 L 50,50 L 0,50 Z  M 8.334,0 L 8.334,50 M 41.667,0 L 41.667,50",Terminator:"M 269.711,29.33C 269.71,44.061 257.77,56 243.04,56L 158.058,56C 143.33,56 131.39,44.061 131.39,29.33L 131.39,29.33C 131.391,14.6057 143.33,2.669 158.058,2.669L 243.044,2.669C 257.772,2.669 269.711,14.6057 269.711,29.333 Z",PaperTap:"M0.0009,17.2042 L0.0009,47.165 C0.001,47.165 14.403,53.5455 25.00,47.165 C35.599,40.7852 44.403,43.5087 50.00,47.165L50.001,17.2042 M50.001,32.7987 L50.001,2.8405 C50.001,2.8405 35.599,-3.5427 25.001,2.8405C14.403,9.2237 5.599,6.494 0.0009,2.8405 L0.0009,32.7987",DirectData:"M 132.62 0 L 17.38 0 C 7.78 0 0 13.43 0 30 C 0 46.57 7.78 60 17.38 60 L 132.62 60 M 132.62 0C 123.02 0 115.24 13.43 115.24 30 C 115.24 46.57 123.02 60 132.62 60 C 142.22 60 150 46.57 150 30 C 150 13.43 142.22 0 132.62 0 z ",SequentialData:"M0.0029,24.999 C0.0029,11.1922 10.433,0.0021 23.295,0.0021 C36.159,0.00216 46.585,11.1922 46.585,24.999C46.585,38.8057 36.159,49.9979 23.295,49.9979 C10.433,49.9979 0.0029,38.8057 0.0029,24.999 z M23.294,49.999 L50.002,49.999",Sort:"M50.001,24.9971 L25.001,49.9971 L0.00097,24.9971 L25.001,-0.00286865 L50.001,24.9971 z M0.000976562,24.9971 L50.001,24.9971",MultiDocument:"M43.6826,40 C44.8746,40.6183 45.8586,41.3502 46.8366,42.1122 L46.8366,4.74487 L3.09857,4.74487 L3.09857,10.9544 M46.837,35.143 C48.027,35.765 49.025,36.604 50.003,37.369 L50.003,0.002 L6.264,0.002 L6.264,4.744 M43.682,47.113 L43.682,10.765 L0.0025,10.7652 L0.0025,47.1132 C0.0025,47.1132 12.5846,53.6101 21.8426,47.1132 C31.1006,40.6163 38.792,43.393 43.6826,47.1132 z",Collate:"M50.001,0.0028 L25.001,25.0029 L0.00097,0.0028 L50.001,0.002 z M0.0009,50.002 L25.001,25.002L50.001,50.002 L0.0009,50.0029 z",SummingJunction:"M7.3252,42.6768 L42.6772,7.3247 M42.6768,42.6768 L7.3248,7.3247 M0.0009,25.001 C0.0009,11.193 11.197,0.0009 25.001,0.0009 C38.809,0.0009 50.001,11.193 50.001,25.001 C50.001,38.809 38.809,50.001 25.001,50.001 C11.197,50.00 0.0009,38.809 0.0009,25.00 z",Or:"M 0 50 L 100 50 M 50 100 L 50 0.0 M 0 50 C 0 22.384 22.392 0 50 0 C 77.616 0 100 22.384 100 50 C 100 77.616 77.616 100 50 100 C 22.392 100 0 77.616 0 50 Z",InternalStorage:"M 0 3.81946A 2.5,3.81946 0 0,1 2.5,0L 47.5 0A 2.5,3.81946 0 0,1 50,3.81946L 50 45.836A 2.5,3.819446 0 0,1 47.5,49.652778L 2.5 49.652778A 2.5,3.819446 0 0,1 0,45.8336L 0 3.819446ZM 0 11.45834L 50 11.4583334M 12.5 0L 12.5 49.652778",Extract:"M0,35 L30,0 L60,35 Z",ManualOperation:"M46.4,28.8 L14.8,28.8 L0,0 L60,0 Z",Merge:"M60,0 L30,35 L0,0 Z",OffPageReference:"M60,33.3 L30.1,39 L0,33.3 L0,0 L60,0 Z",SequentialAccessStorage:"M 60 30 C 60 13.4 46.6 0 30 0 S 0 13.4 0 30 s 13.4 30 30 30 h 28.6 v -6.5 h -9.9C 55.5 48 60 39.5 60 30 Z",Annotation:"M49.9984,50.0029 L-0.00271199,50.0029 L-0.00271199,0.00286865 L49.9984,0.00286865",Annotation2:"M49.9977,50.0029 L25.416,50.0029 L25.416,0.00286865 L49.9977,0.00286865 M25.4166,25.0029 L-0.00227869,25.0029",Data:"M 10 0 L 40 0 L 30 40 L 0 40 Z",Card:"M275,60 L400,60 L400,110 L260,110 L260,75 Z",Delay:"M0,0 L12.029,0 C14.212999,0 16,1.7869979 16,3.9709952 C16,6.1549926 14.212999,7.9409904 12.029,7.9409904 L0,7.9409904 z",Preparation:"M 1048.17 572 C 1051.06 568.86 1055.17 567.05 1059.5 567 L 1094.51 567 C 1098.84 567.05 1102.95 568.86 1105.84 572 L 1126.43 595 C 1127.01 596.28 1127.01 597.72 1126.43 599 L 1105.84 622 C 1102.95 625.14 1098.84 626.95 1094.51 627 L 1059.5 627 C 1055.17 626.95 1051.06 625.14 1048.17 622 L 1027.58 599 C 1027 597.72 1027 596.28 1027.58 595 L 1048.17 572 Z",Display:"M47.8809,19.2914 L32.7968,-0.00594145 L11.3902,-0.00594145 C7.93166,-0.00594145 0.00124586,11.187 0.00124586,24.9968C0.00124586,38.8032 7.93166,49.9962 11.3902,49.9962 L32.7968,49.99 L47.615,31.038 C47.615,31.0388 52.798,24.9968 47.880,19.2914 z",ManualInput:"M 912 732 L 1006.85 707 C 1008.2 707 1009.5 707.53 1010.46 708.46 C 1011.41 709.4 1011.95 710.67 1011.95 712 L 1011.95 762C 1012 764.41 1010.28 766.52 1007.87 767 L 917.1 767 C 915.75 767 914.45 766.47 913.49 765.54 C 912.54 764.6 912 763.33 912 762 L 912 732 Z",LoopLimit:"M 8 9 L 27 9 L 33 15 L 33 26 C 33 27 33 27 32 27 L 4 27 C 3 27 2 27 2 26 L 2 15 L 8 9 Z",StoredData:"M 5.55 0L 50 0A 1.5,30 0 0,1 50,0A 5.555,25 0 0,0 50,50A 1.5,30 0 0,1 50,50L 5.555 50A 5.55,25 0 0,1 5.555,0Z"}},function(e,t,i){"use strict";i.d(t,"a",function(){return s}),i.d(t,"b",function(){return c}),i.d(t,"c",function(){return l});var n=i(0),r=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)()],t.prototype,"key",void 0),o([Object(n.q)()],t.prototype,"keyModifiers",void 0),t}(n.d),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getClassName=function(){return"Command"},o([Object(n.q)("")],t.prototype,"name",void 0),o([Object(n.q)()],t.prototype,"canExecute",void 0),o([Object(n.q)()],t.prototype,"execute",void 0),o([Object(n.g)({},a)],t.prototype,"gesture",void 0),o([Object(n.q)("")],t.prototype,"parameter",void 0),t}(n.d),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.e)([],s)],t.prototype,"commands",void 0),t}(n.d),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),o([Object(n.q)()],t.prototype,"show",void 0),o([Object(n.q)()],t.prototype,"showCustomMenuOnly",void 0),o([Object(n.q)()],t.prototype,"items",void 0),t}(n.d)},function(e,t,i){"use strict";var n=i(0),r=i(30),o=i(32),a=i(43),s=i(14),c=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),l([Object(n.q)("")],t.prototype,"source",void 0),l([Object(n.q)("transparent")],t.prototype,"color",void 0),l([Object(n.q)("None")],t.prototype,"scale",void 0),l([Object(n.q)("None")],t.prototype,"align",void 0),t}(n.d),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),l([Object(n.q)(null)],t.prototype,"width",void 0),l([Object(n.q)(null)],t.prototype,"height",void 0),l([Object(n.g)({},s.a)],t.prototype,"margin",void 0),l([Object(n.q)("Landscape")],t.prototype,"orientation",void 0),l([Object(n.q)("Infinity")],t.prototype,"boundaryConstraints",void 0),l([Object(n.g)({},h)],t.prototype,"background",void 0),l([Object(n.q)(!1)],t.prototype,"multiplePage",void 0),l([Object(n.q)(!1)],t.prototype,"showPageBreaks",void 0),t}(n.d),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),l([Object(n.q)(0)],t.prototype,"horizontalOffset",void 0),l([Object(n.q)(0)],t.prototype,"verticalOffset",void 0),l([Object(n.q)(1)],t.prototype,"currentZoom",void 0),l([Object(n.q)(0)],t.prototype,"viewPortWidth",void 0),l([Object(n.q)(0)],t.prototype,"viewPortHeight",void 0),l([Object(n.q)(.2)],t.prototype,"minZoom",void 0),l([Object(n.q)(30)],t.prototype,"maxZoom",void 0),l([Object(n.q)("Diagram")],t.prototype,"scrollLimit",void 0),l([Object(n.q)()],t.prototype,"scrollableArea",void 0),l([Object(n.q)(!1)],t.prototype,"canAutoScroll",void 0),l([Object(n.g)({left:15,right:15,top:15,bottom:15},s.a)],t.prototype,"autoScrollBorder",void 0),l([Object(n.g)({left:0,right:0,top:0,bottom:0},s.a)],t.prototype,"padding",void 0),t}(n.d),u=function(){function e(){this.services={}}return e.prototype.register=function(e,t){this.services[e]=t},e.prototype.getService=function(e){return this.services[e]},e}(),f=i(25),g=i(7),m=i(6),y=i(10),v=i(1),b=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),w=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),w([Object(n.q)("lightgray")],t.prototype,"lineColor",void 0),w([Object(n.q)("")],t.prototype,"lineDashArray",void 0),w([Object(n.q)([1.25,18.75,.25,19.75,.25,19.75,.25,19.75,.25,19.75])],t.prototype,"lineIntervals",void 0),w([Object(n.q)([20])],t.prototype,"snapIntervals",void 0),t}(n.d),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return b(t,e),w([Object(n.g)({},O)],t.prototype,"horizontalGridlines",void 0),w([Object(n.g)({},O)],t.prototype,"verticalGridlines",void 0),w([Object(n.q)(v.q.All)],t.prototype,"constraints",void 0),w([Object(n.q)(5)],t.prototype,"snapAngle",void 0),w([Object(n.q)(5)],t.prototype,"snapObjectDistance",void 0),t}(n.d),j=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),S=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),S([Object(n.q)(5)],t.prototype,"interval",void 0),S([Object(n.q)(100)],t.prototype,"segmentWidth",void 0),S([Object(n.q)("Horizontal")],t.prototype,"orientation",void 0),S([Object(n.q)("RightOrBottom")],t.prototype,"tickAlignment",void 0),S([Object(n.q)("red")],t.prototype,"markerColor",void 0),S([Object(n.q)(25)],t.prototype,"thickness",void 0),S([Object(n.q)(null)],t.prototype,"arrangeTick",void 0),t}(n.d),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return j(t,e),S([Object(n.q)(!1)],t.prototype,"showRulers",void 0),S([Object(n.q)(!0)],t.prototype,"dynamicGrid",void 0),S([Object(n.g)({orientation:"Horizontal"},P)],t.prototype,"horizontalRuler",void 0),S([Object(n.g)({orientation:"Vertical"},P)],t.prototype,"verticalRuler",void 0),t}(n.d),E=i(24),T=i(9),k=i(17),I=i(13),A=i(11),M=i(34),z=i(16),D=i(20),L=i(27),R=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),N=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),N([Object(n.q)("")],t.prototype,"read",void 0),N([Object(n.q)("")],t.prototype,"create",void 0),N([Object(n.q)("")],t.prototype,"update",void 0),N([Object(n.q)("")],t.prototype,"destroy",void 0),N([Object(n.q)()],t.prototype,"customFields",void 0),t}(n.d),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),N([Object(n.q)("")],t.prototype,"id",void 0),N([Object(n.q)("")],t.prototype,"sourceID",void 0),N([Object(n.q)("")],t.prototype,"targetID",void 0),N([Object(n.q)(null)],t.prototype,"sourcePointX",void 0),N([Object(n.q)(null)],t.prototype,"sourcePointY",void 0),N([Object(n.q)(null)],t.prototype,"targetPointX",void 0),N([Object(n.q)(null)],t.prototype,"targetPointY",void 0),N([Object(n.q)(null)],t.prototype,"dataManager",void 0),N([Object(n.g)({},H)],t.prototype,"crudAction",void 0),t}(n.d),B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),N([Object(n.q)("")],t.prototype,"id",void 0),N([Object(n.q)(null)],t.prototype,"dataManager",void 0),N([Object(n.q)("")],t.prototype,"root",void 0),N([Object(n.q)("")],t.prototype,"parentId",void 0),N([Object(n.q)()],t.prototype,"data",void 0),N([Object(n.q)()],t.prototype,"doBinding",void 0),N([Object(n.g)({},H)],t.prototype,"crudAction",void 0),N([Object(n.g)({},_)],t.prototype,"connectionDataSource",void 0),t}(n.d),W=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),q=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),q([Object(n.q)("")],t.prototype,"fixedNode",void 0),q([Object(n.q)(30)],t.prototype,"horizontalSpacing",void 0),q([Object(n.q)(30)],t.prototype,"verticalSpacing",void 0),q([Object(n.q)(30)],t.prototype,"maxIteration",void 0),q([Object(n.q)(40)],t.prototype,"springFactor",void 0),q([Object(n.q)(50)],t.prototype,"springLength",void 0),q([Object(n.g)({left:50,top:50,right:0,bottom:0},s.a)],t.prototype,"margin",void 0),q([Object(n.q)("Auto")],t.prototype,"horizontalAlignment",void 0),q([Object(n.q)("Auto")],t.prototype,"verticalAlignment",void 0),q([Object(n.q)("TopToBottom")],t.prototype,"orientation",void 0),q([Object(n.q)("Auto")],t.prototype,"connectionDirection",void 0),q([Object(n.q)("Default")],t.prototype,"connectorSegments",void 0),q([Object(n.q)("None")],t.prototype,"type",void 0),q([Object(n.q)()],t.prototype,"getLayoutInfo",void 0),q([Object(n.q)()],t.prototype,"getBranch",void 0),q([Object(n.q)()],t.prototype,"bounds",void 0),q([Object(n.q)(!0)],t.prototype,"enableAnimation",void 0),q([Object(n.q)("")],t.prototype,"root",void 0),t}(n.d),U=i(18),X=i(4),Y=i(28),V=i(2),G=i(19),Z=i(5),Q=i(8),K=i(15);function $(e,t,i,n,r,o,a){n.selectedItems.connectors[0];if(o&&o.length>1&&r&&r.length>1)return"PinchZoom";if(n.currentSymbol)return"Drag";if("PortDraw"===n.eventHandler.action&&(n.tool&=~v.f.DrawOnce),(Object(Z.j)(n)||Object(Z.c)(n))&&n.drawingObject)return"Draw";if(ee(n)&&((p=n.selectedItems).wrapper&&Object(m.e)(p.constraints,"UserHandle")))for(var s=0,c=p.userHandles;s<c.length;s++){var l=c[s];if(l.visible)if(J(i,u=Object(m.A)(p,l,n.scroller.transform),l.size/2))return l.name}if(ee(n)){var h=n.selectedItems.annotation?n.selectedItems.wrapper.children[0]:n.selectedItems.wrapper,d=h.bounds,p=n.selectedItems,u=new A.a(d.x,d.y,d.width,d.height);if(te(n)&&!n.selectedItems.annotation){var f=n.selectedItems.connectors[0],b=10/n.scrollSettings.currentZoom,w=10/n.scrollSettings.currentZoom;if(Object(m.e)(p.constraints,"ResizeAll")){if(Object(m.e)(p.constraints,"ConnectorSourceThumb")&&Object(Z.g)(f)&&J(i,f.sourcePoint,b))return"ConnectorSourceEnd";if(Object(m.e)(p.constraints,"ConnectorTargetThumb")&&Object(Z.h)(f)&&J(i,f.targetPoint,w))return"ConnectorTargetEnd";if(C=function(e,t,i,n){var r=10/n.scrollSettings.currentZoom,o=10/n.scrollSettings.currentZoom;if("Bezier"===e.type)for(var a=0;a<e.segments.length;a++){var s=e.segments[a];if(J(i,X.a.isEmptyPoint(s.point1)?s.bezierPoint1:s.point1,o))return"BezierSourceThumb";if(J(i,X.a.isEmptyPoint(s.point2)?s.bezierPoint2:s.point2,r))return"BezierTargetThumb"}if(n.connectorEditingToolModule&&Object(Z.f)(e))if("Straight"===e.type||"Bezier"===e.type)for(var a=0;a<e.segments.length;a++){var s=void 0;if(s=e.segments[a],J(i,s.point,10))return"SegmentEnd"}else for(var a=0;a<e.segments.length;a++){var s=void 0,c={x:0,y:0};s=e.segments[a];for(var l=0;l<s.points.length-1;l++){var h=X.a.distancePoints(s.points[l],s.points[l+1]);if(h>=50&&(c.x=(s.points[l].x+s.points[l+1].x)/2,c.y=(s.points[l].y+s.points[l+1].y)/2,J(i,c,30)))return"OrthoThumb"}}return null}(f,0,i,n))return C}}else{var O=10/n.scroller.currentZoom,x=Object(Q.a)();Object(Q.c)(x,h.rotateAngle+h.parentTransform,h.offsetX,h.offsetY);var j=h.offsetX-h.pivot.x*h.actualSize.width,S=h.offsetY-h.pivot.y*h.actualSize.height,P={x:j+(.5===h.pivot.x?2*h.pivot.x:h.pivot.x)*h.actualSize.width/2,y:S-30/n.scroller.currentZoom};P=Object(Q.e)(x,P);var C,E=!!n.selectedItems.annotation,T=!(!E||!Object(Z.z)(n.selectedItems.annotation));if(Object(m.e)(p.constraints,"Rotate")&&J(i,P,O)&&n.selectedItems.thumbsConstraints&v.r.Rotate){if(E&&T)return"LabelRotate";if(!E)return"Rotate"}if(u.Inflate(O),u.containsPoint(i))if(C=function(e,t,i,n,r,o){var a;1===e.selectedItems.nodes.length&&0===e.selectedItems.connectors.length&&e.selectedItems.nodes[0].container&&(a=function(e,t,i,n,r){var o=10/e.scroller.currentZoom,a=40/e.scroller.currentZoom,s=e.selectedItems,c=t.actualSize.width,l=t.actualSize.height,h=new A.a(n,r+20,t.style.strokeWidth,l-40),d=new A.a(n+c,r+20,t.style.strokeWidth,l-40),p=new A.a(n+20,r,c-40,t.style.strokeWidth),u=new A.a(n+20,r+l,c-40,t.style.strokeWidth),f=Object(K.c)(e,e.selectedItems.nodes[0],!0)?e.nameTable[e.selectedItems.nodes[0].parentId]:e.selectedItems.nodes[0];if(c>=a&&l>=a){if(Object(m.d)(s.constraints,"ResizeEast",s.thumbsConstraints,s)&&d.containsPoint(i,o))return"ResizeEast";if(Object(m.d)(s.constraints,"ResizeSouth",s.thumbsConstraints,s)&&u.containsPoint(i,o))return"ResizeSouth";if("Grid"!==f.container.type){if(Object(m.d)(s.constraints,"ResizeWest",s.thumbsConstraints,s)&&h.containsPoint(i,o))return"ResizeWest";if(Object(m.d)(s.constraints,"ResizeNorth",s.thumbsConstraints,s)&&p.containsPoint(i,o))return"ResizeNorth"}}return null}(e,t,i,r,o));a||e.selectedItems.nodes[0]&&(e.selectedItems.nodes[0].isPhase||e.selectedItems.nodes[0].isLane||"SwimLane"===e.selectedItems.nodes[0].shape.type)||(a=function(e,t,i,n,r,o){var a=40/e.scroller.currentZoom,s=10/e.scroller.currentZoom,c=e.selectedItems,l=!!c.annotation;if(t.actualSize.width>=a&&t.actualSize.height>=a){if(Object(m.d)(c.constraints,"ResizeSouthEast",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r+t.actualSize.width,y:o+t.actualSize.height}),s))return l?"LabelResizeSouthEast":"ResizeSouthEast";if(Object(m.d)(c.constraints,"ResizeSouthWest",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r,y:o+t.actualSize.height}),s))return l?"LabelResizeSouthWest":"ResizeSouthWest";if(Object(m.d)(c.constraints,"ResizeNorthEast",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r+t.actualSize.width,y:o}),s))return l?"LabelResizeNorthEast":"ResizeNorthEast";if(Object(m.d)(c.constraints,"ResizeNorthWest",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r,y:o}),s))return l?"LabelResizeNorthWest":"ResizeNorthWest"}if(Object(m.d)(c.constraints,"ResizeEast",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r+t.actualSize.width,y:o+t.actualSize.height/2}),s))return l?"LabelResizeEast":"ResizeEast";if(Object(m.d)(c.constraints,"ResizeWest",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r,y:o+t.actualSize.height/2}),s))return l?"LabelResizeWest":"ResizeWest";if(Object(m.d)(c.constraints,"ResizeSouth",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r+t.actualSize.width/2,y:o+t.actualSize.height}),s))return l?"LabelResizeSouth":"ResizeSouth";if(Object(m.d)(c.constraints,"ResizeNorth",c.thumbsConstraints,c)&&J(i,Object(Q.e)(n,{x:r+t.actualSize.width/2,y:o}),s))return l?"LabelResizeNorth":"ResizeNorth";return null}(e,t,i,n,r,o));if(a)return a;return null}(n,h,i,x,j,S))return C}}if(Object(Z.G)(n)&&!e)return"Pan";if(a instanceof Y.a&&!Object(Z.G)(n)&&"None"!==(C=function(e,t,i,n){if(Object(Z.e)(t,e)&&(Object(m.f)(t,v.m.Hover)||Object(m.f)(t,v.m.Visible))){if(t.constraints&v.l.Drag)return"PortDrag"}else if(Object(Z.i)(t,e)&&(Object(m.f)(t,v.m.Hover)||Object(m.f)(t,v.m.Visible))&&t.constraints&v.l.Draw){e.drawingObject={};var r={type:"Orthogonal",sourcePortID:t.id};return e.drawingObject=r,e.tool|=v.f.DrawOnce,e.currentDrawingObject=r,"PortDraw"}return"None"}(n,a)))return C;if((a instanceof z.c||a instanceof z.b)&&!Object(Z.G)(n)&&Object(Z.A)(a))return ie(n,a,void 0,t)&&Object(Z.o)(a)?"LabelDrag":"LabelSelect";if(null!==e){if(!(e instanceof g.q||e instanceof y.b))return"Select";if(t&&t.id){var k=t.id.split(e.id)[1];if(k&&k.match("^_icon"))return"LayoutAnimation"}if(Object(Z.o)(e)&&t instanceof I.a&&t.hyperlink.link)return"Hyperlink";if(!Object(Z.o)(e)||!ie(n,e,!1)||void 0!==n.selectedItems.annotation)return e&&Object(Z.G)(n)&&!Object(Z.I)(n)?"Pan":n.selectedItems.nodes.length&&n.selectedItems.nodes[0].isLane&&n.selectedItems.wrapper&&n.selectedItems.wrapper.bounds.containsPoint(i)?"Drag":"Select";if(e instanceof y.b&&!J(i,e.sourcePoint,e.hitPadding)&&!J(i,e.targetPoint,e.hitPadding)||!(e instanceof y.b))return"Drag"}return"Select"}function J(e,t,i){return e.x>=t.x-i&&e.x<=t.x+i&&e.y>=t.y-i&&e.y<=t.y+i}function ee(e){return e.selectedItems.nodes.length>0||e.selectedItems.connectors.length>0}function te(e){return 1===e.selectedItems.connectors.length&&!e.selectedItems.nodes.length}function ie(e,t,i,n){if(void 0===i&&(i=!0),t instanceof U.a)return!0;if(t instanceof g.q)for(;t;){if(-1!==e.selectedItems.nodes.indexOf(t)&&void 0===e.selectedItems.annotation)return!0;if(i)break;t=e.nameTable[t.parentId]}else if(t instanceof y.b){if(-1!==e.selectedItems.connectors.indexOf(t)&&void 0===e.selectedItems.annotation)return!0}else if((t instanceof z.c||t instanceof z.b)&&e.selectedItems.annotation&&e.selectedItems.wrapper.children[0].id===n.id)return!0;return!1}var ne={None:"default",Rotate:"crosshair",Select:"default",Drag:"move",ResizeWest:"w-resize",ResizeEast:"e-resize",ResizeSouth:"s-resize",ResizeNorth:"n-resize",Draw:"crosshair",PortDraw:"crosshair",ResizeNorthEast:"ne-resize",ResizeNorthWest:"nw-resize",ResizeSouthEast:"se-resize",ResizeSouthWest:"sw-resize",ConnectorSourceEnd:"move",ConnectorTargetEnd:"move",BezierSourceThumb:"move",BezierTargetThumb:"move",OrthoThumb:"move",SegmentEnd:"move",Pan:"pointer",Hyperlink:"pointer",PortDrag:"pointer",LabelSelect:"pointer",LabelDrag:"move",LabelRotate:"crosshair",LabelResizeWest:"w-resize",LabelResizeEast:"e-resize",LabelResizeSouth:"s-resize",LabelResizeNorth:"n-resize",LabelResizeNorthEast:"ne-resize",LabelResizeNorthWest:"nw-resize",LabelResizeSouthEast:"se-resize",LabelResizeSouthWest:"sw-resize"},re=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),oe=function(){function e(e,t){void 0===t&&(t=!1),this.commandHandler=null,this.inAction=!1,this.isProtectChange=!1,this.currentElement=null,this.blocked=!1,this.isTooltipVisible=!1,this.childTable={},this.undoElement={nodes:[],connectors:[]},this.checkProperty=!0,this.undoParentElement={nodes:[],connectors:[]},this.commandHandler=e,this.isProtectChange=t}return e.prototype.startAction=function(e){this.currentElement=e,this.inAction=!0},e.prototype.mouseDown=function(e){this.currentElement=e.source,this.startPosition=this.currentPosition=this.prevPosition=e.position,this.isTooltipVisible=!0,this.startAction(e.source),this.checkProperty=!0},e.prototype.checkPropertyValue=function(){this.checkProperty&&this.commandHandler.startTransaction(this.isProtectChange)},e.prototype.mouseMove=function(e){return this.currentPosition=e.position,this.inAction&&(this.commandHandler.startTransaction(this.isProtectChange),this.checkProperty=!1),!this.blocked},e.prototype.mouseUp=function(e){this.checkPropertyValue(),this.currentPosition=e.position,this.isTooltipVisible=!1,this.commandHandler.endTransaction(this.isProtectChange),this.endAction()},e.prototype.endAction=function(){this.isTooltipVisible||this.commandHandler.closeTooltip(),this.commandHandler=null,this.currentElement=null,this.currentPosition=null,this.inAction=!1,this.blocked=!1},e.prototype.mouseWheel=function(e){this.currentPosition=e.position},e.prototype.mouseLeave=function(e){this.mouseUp(e)},e.prototype.updateSize=function(e,t,i,n,r,o){e=this.commandHandler.renderContainerHelper(e)||e;var a,s={snapped:!1,offset:0,left:!1,right:!1},c={snapped:!1,offset:0,top:!1,bottom:!1},l=this.currentPosition.x-this.startPosition.x,h=this.currentPosition.y-this.startPosition.y,d=!(e instanceof I.a)&&this.commandHandler.snappingModule&&this.commandHandler.snappingModule.canSnap(),p=d?this.commandHandler.snappingModule.getLayer():null,u=e instanceof I.a?o:e.rotateAngle;a=Object(Q.a)(),Object(Q.c)(a,-u,0,0);e.offsetX,e.offsetY;var f=e.width,g=e.height;e.pivot.x,e.pivot.y;var m,y=0,v=0,b=e instanceof I.a?e.actualSize.width:e.width,w=e instanceof I.a?e.actualSize.height:e.height;switch(n){case"ResizeWest":l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,v=1,l=d?this.commandHandler.snappingModule.snapLeft(s,c,p,l,h,e,i===t,r):l,h=0,y=(r.width-l)/b;break;case"ResizeEast":l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,l=d?this.commandHandler.snappingModule.snapRight(s,c,p,l,h,e,i===t,r):l,h=0,y=(r.width+l)/b,v=1;break;case"ResizeNorth":y=1,l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,h=d?this.commandHandler.snappingModule.snapTop(s,c,p,l,h,e,i===t,r):h,v=(r.height-h)/w;break;case"ResizeSouth":y=1,l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,h=d?this.commandHandler.snappingModule.snapBottom(s,c,p,l,h,e,i===t,r):h,v=(r.height+h)/w;break;case"ResizeNorthEast":l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,l=d?this.commandHandler.snappingModule.snapRight(s,c,p,l,h,e,i===t,r):l,h=d?this.commandHandler.snappingModule.snapTop(s,c,p,l,h,e,i===t,r):h,y=(r.width+l)/b,v=(r.height-h)/w;break;case"ResizeNorthWest":l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,h=d?this.commandHandler.snappingModule.snapTop(s,c,p,l,h,e,i===t,r):h,l=d?this.commandHandler.snappingModule.snapLeft(s,c,p,l,h,e,i===t,r):l,y=(r.width-l)/b,v=(r.height-h)/w;break;case"ResizeSouthEast":l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,h=d?this.commandHandler.snappingModule.snapBottom(s,c,p,l,h,e,i===t,r):h,l=d?this.commandHandler.snappingModule.snapRight(s,c,p,l,h,e,i===t,r):l,v=(r.height+h)/w,y=(r.width+l)/b;break;case"ResizeSouthWest":l=(m=Object(Q.e)(a,{x:l,y:h})).x,h=m.y,h=d?this.commandHandler.snappingModule.snapBottom(s,c,p,l,h,e,i===t,r):h,l=d?this.commandHandler.snappingModule.snapLeft(s,c,p,l,h,e,i===t,r):l,y=(r.width-l)/b,v=(r.height+h)/w}return{width:y,height:v}},e.prototype.getPivot=function(e){switch(e){case"ResizeWest":return{x:1,y:.5};case"ResizeEast":return{x:0,y:.5};case"ResizeNorth":return{x:.5,y:1};case"ResizeSouth":return{x:.5,y:0};case"ResizeNorthEast":return{x:0,y:1};case"ResizeNorthWest":return{x:1,y:1};case"ResizeSouthEast":return{x:0,y:0};case"ResizeSouthWest":return{x:1,y:0}}return{x:.5,y:.5}},e}(),ae=function(e){function t(t,i,n){var r=e.call(this,t,!0)||this;return r.action=n,r}return re(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction&&!1===X.a.equals(this.currentPosition,this.prevPosition)){var i=A.a.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.clearSelectedItems(),this.commandHandler.drawSelectionRectangle(i.x,i.y,i.width,i.height)}return!this.blocked},t.prototype.mouseUp=function(t){if(this.checkPropertyValue(),!1===X.a.equals(this.currentPosition,this.prevPosition)&&this.inAction){var i=A.a.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.doRubberBandSelection(i)}else{var n=this.commandHandler.getSelectedObject();this.commandHandler.hasSelection()&&t.info&&t.info.ctrlKey?t&&t.source&&(this.commandHandler.isSelected(t.source)?1===t.clickCount&&this.commandHandler.unSelect(t.source):this.commandHandler.selectObjects([t.source],!0)):(this.commandHandler.clearSelection(null===t.source),"LabelSelect"===this.action?this.commandHandler.labelSelect(t.source,t.sourceWrapper):t.source&&this.commandHandler.selectObjects([t.source],!1,n))}this.inAction=!1,e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(oe),se=function(e){function t(t,i){var n=e.call(this,t,!0)||this;return n.endPoint=i,n}return re(t,e),t.prototype.mouseDown=function(t){var i;if(this.inAction=!0,this.undoElement=void 0,this instanceof pe||(this.undoElement=Object(V.b)(t.source)),e.prototype.mouseDown.call(this,t),t.source&&t.source.connectors&&({x:this.prevPosition.x,y:this.prevPosition.y},i=t.source.connectors[0]),"BezierSourceThumb"===this.endPoint||"BezierTargetThumb"===this.endPoint)for(var n=0;n<i.segments.length;n++){var r=i.segments[n],o=X.a.isEmptyPoint(r.point1)?r.bezierPoint1:r.point1,a=X.a.isEmptyPoint(r.point2)?r.bezierPoint2:r.point2;(J(this.currentPosition,o,i.hitPadding)||J(this.currentPosition,a,i.hitPadding))&&(this.selectedSegment=r)}this.currentPosition=t.position},t.prototype.mouseUp=function(t){if(this.checkPropertyValue(),this.commandHandler.updateSelector(),this.commandHandler.removeSnap(),this.commandHandler.changeAnnotationDrag(t),this instanceof pe||("ConnectorSourceEnd"!==this.endPoint||!t.source.connectors.length||X.a.equals(t.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)&&t.source.connectors[0].sourceID===this.undoElement.connectors[0].sourceID)&&("ConnectorTargetEnd"!==this.endPoint||X.a.equals(t.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint)&&t.source.connectors[0].targetID===this.undoElement.connectors[0].targetID)){if(!(this instanceof pe)&&("BezierTargetThumb"===this.endPoint||"BezierSourceThumb"===this.endPoint)&&this.undoElement&&t.source){l=void 0,h={type:"SegmentChanged",redoObject:l=Object(V.b)(t.source),undoObject:this.undoElement,category:"Internal"};this.commandHandler.addHistoryEntry(h)}}else{var i=void 0,n=void 0;t.source&&t.source.connectors&&(i={x:this.prevPosition.x,y:this.prevPosition.y},n=t.source.connectors[0]);var r=void 0,o=void 0;if(t.target){var a=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0);a instanceof Y.a?r=a.id:o=a.id}var s={connector:n,state:"Completed",targetNode:o,oldValue:i,newValue:i,cancel:!1,targetPort:r},c="ConnectorSourceEnd"===this.endPoint?v.e.sourcePointChange:v.e.targetPointChange;if(this.commandHandler.triggerEvent(c,s),this.commandHandler.removeTerminalSegment(n,!0),this.undoElement&&t.source){var l=void 0;l=Object(V.b)(t.source);var h={type:"ConnectionChanged",redoObject:Object(V.b)(l),undoObject:Object(V.b)(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(h)}}e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),!(this instanceof pe)&&("ConnectorSourceEnd"===this.endPoint&&X.a.equals(t.source.connectors[0].sourcePoint,this.undoElement.connectors[0].sourcePoint)||"ConnectorTargetEnd"===this.endPoint&&X.a.equals(t.source.connectors[0].targetPoint,this.undoElement.connectors[0].targetPoint))){var i=void 0,n=void 0;t.source&&t.source.connectors&&(i={x:this.prevPosition.x,y:this.prevPosition.y},n=t.source.connectors[0]);var r=void 0,o=void 0;if(t.target)o=t.target.id,(b=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof Y.a||b instanceof g.h?r=b.id:o=b.id;var a={connector:n,state:"Start",targetNode:o,oldValue:i,newValue:i,cancel:!1,targetPort:r},s="ConnectorSourceEnd"===this.endPoint?v.e.sourcePointChange:v.e.targetPointChange;this.commandHandler.triggerEvent(s,a)}if(this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var c=this.currentPosition.x-this.prevPosition.x,l=this.currentPosition.y-this.prevPosition.y,h=void 0,d=(i=void 0,void 0),p=void 0;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var u=void 0;t.source&&t.source.connectors&&(h={x:this.currentPosition.x,y:this.currentPosition.y},i={x:this.prevPosition.x,y:this.prevPosition.y},u=t.source.connectors[0]);var f=void 0,y=void 0;if(t.target)(b=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof Y.a?f=b.id:y=b.id;var b;a={connector:u,state:"Progress",targetNode:y,oldValue:i,newValue:h,cancel:!1,targetPort:f};if(!(this instanceof pe)){s="ConnectorSourceEnd"===this.endPoint?v.e.sourcePointChange:v.e.targetPointChange;this.commandHandler.triggerEvent(s,a)}if(t.target&&(d=Object(m.s)(t.target,!0),p=Object(m.s)(t.target,!1)),!a.cancel&&this.inAction&&void 0!==this.endPoint&&0!==c||0!==l)if(this.blocked=!this.commandHandler.dragConnectorEnds(this.endPoint,t.source,this.currentPosition,this.selectedSegment,t.target,f),this.commandHandler.updateSelector(),t.target&&("ConnectorSourceEnd"===this.endPoint&&(Object(Z.q)(t.target)||Object(Z.w)(p))||"ConnectorTargetEnd"===this.endPoint&&(Object(Z.n)(t.target)||Object(Z.v)(d))))if(this.commandHandler.canDisconnect(this.endPoint,t,f,y)&&this.commandHandler.disConnect(t.source,this.endPoint),(b=this.commandHandler.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===this.endPoint,!0))instanceof g.q)(Object(Z.n)(b)&&"ConnectorTargetEnd"===this.endPoint||Object(Z.q)(b)&&"ConnectorSourceEnd"===this.endPoint)&&this.commandHandler.connect(this.endPoint,t);else this.checkConnect(b)&&this.commandHandler.connect(this.endPoint,t);else-1===this.endPoint.indexOf("Bezier")&&(this.commandHandler.disConnect(t.source,this.endPoint),this.commandHandler.updateSelector());if(this.commandHandler.canEnableDefaultTooltip()){var w=this.getTooltipContent(t.position);this.commandHandler.showTooltip(t.source,t.position,w,"ConnectTool",this.isTooltipVisible),this.isTooltipVisible=!1}}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.x)+" Y:"+Math.round(e.y)},t.prototype.checkConnect=function(e){return!(!Object(Z.v)(e)||"ConnectorTargetEnd"!==this.endPoint)||(!(!Object(Z.w)(e)||"ConnectorSourceEnd"!==this.endPoint)||!(e.constraints&v.l.None||Object(Z.v)(e)||Object(Z.w)(e)))},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.prevPosition=null,this.endPoint=null},t}(oe),ce=function(e){function t(t,i){var n=e.call(this,t,!0)||this;return n.currentTarget=null,n.objectType=i,n}return re(t,e),t.prototype.mouseDown=function(t){if(t.source instanceof g.q||t.source instanceof y.b){var i=this.commandHandler.getSelectedObject();this.commandHandler.selectObjects([t.source],t.info&&t.info.ctrlKey,i);var n={nodes:[],connectors:[]};t.source instanceof g.q?n.nodes.push(Object(V.b)(t.source)):n.connectors.push(Object(V.b)(t.source)),this.undoElement=Object(V.b)(n)}else this.undoElement=Object(V.b)(t.source);this.undoParentElement=this.commandHandler.getSubProcess(t.source),"Port"===this.objectType&&(this.portId=t.sourceWrapper.id),e.prototype.mouseDown.call(this,t),this.initialOffset={x:0,y:0}},t.prototype.mouseUp=function(t,i){var n;this.checkPropertyValue();var r,o=!1,a={nodes:[],connectors:[]};if("Port"!==this.objectType){if(t.source instanceof g.q||t.source instanceof y.b){t.source instanceof g.q?a.nodes.push(Object(V.b)(t.source)):a.connectors.push(Object(V.b)(t.source)),n=Object(V.b)(a);var s=t.source.wrapper;n.offsetX=s.offsetX,n.offsetY=s.offsetY}else n=Object(V.b)(t.source);if(("helper"===(r=this.commandHandler.renderContainerHelper(t.source)||t.source).id&&!n.nodes[0].isLane&&!n.nodes[0].isPhase||"helper"!==r.id)&&(r.offsetX!==this.undoElement.offsetX||r.offsetY!==this.undoElement.offsetY)){var c=void 0,l=void 0;t.source&&(l={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY},c={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY});var h={source:t.source,state:"Completed",oldValue:c,newValue:l,target:this.currentTarget,targetPosition:this.currentPosition,allowDrop:!0,cancel:!1};if(this.commandHandler.triggerEvent(v.e.positionChange,h),!i){this.commandHandler.startGroupAction(),o=!0;var d={type:"PositionChanged",redoObject:Object(V.b)(n),undoObject:Object(V.b)(this.undoElement),category:"Internal"};if(n.nodes[0]&&n.nodes[0].processId){var p={type:"SizeChanged",category:"Internal",undoObject:this.undoParentElement,redoObject:this.commandHandler.getSubProcess(t.source)};this.commandHandler.addHistoryEntry(p)}this.commandHandler.addHistoryEntry(d)}}this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,0,0);if(this.commandHandler.removeSnap(),this.commandHandler.removeHighlighter(),t.source&&this.currentTarget&&Object(Z.b)(this.currentTarget)&&this.commandHandler.isDroppable(t.source,this.currentTarget)){this.commandHandler.drop(this.currentElement,this.currentTarget,this.currentPosition);h={element:t.source,target:this.currentTarget,position:this.currentPosition,cancel:!1};if(this.commandHandler.triggerEvent(v.e.drop,h),!h.cancel&&t.source&&this.commandHandler.isParentAsContainer(this.currentTarget)){for(var u=t.source instanceof U.a?t.source.nodes:[t.source],f=!1,m=0;m<u.length;m++)u[m].container||(f=!0,this.commandHandler.dropChildToContainer(this.currentTarget,u[m]),this.commandHandler.renderContainerHelper(u[m]));o&&this.commandHandler.isContainer&&f&&this.commandHandler.endGroupAction()}}t.source&&this.currentTarget&&this.commandHandler.dropAnnotation(t.source,this.currentTarget),this.commandHandler.updateSelector(),o&&!this.commandHandler.isContainer&&this.commandHandler.endGroupAction()}else{a.nodes.push(Object(V.b)(t.source)),n=Object(V.b)(a);d={type:"PortPositionChanged",objectId:this.portId,redoObject:Object(V.b)(n),undoObject:Object(V.b)(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(d)}e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var i,n,r=!1;(i=this.commandHandler.renderContainerHelper(t.source)||t.source)instanceof g.q||i instanceof y.b?i instanceof g.q?i.offsetX===this.undoElement.nodes[0].offsetX&&i.offsetY===this.undoElement.nodes[0].offsetY&&(r=!0):X.a.equals(i.sourcePoint,this.undoElement.connectors[0].sourcePoint)&&X.a.equals(i.targetPoint,this.undoElement.connectors[0].targetPoint)&&(r=!0):i.wrapper.offsetX===this.undoElement.wrapper.offsetX&&i.wrapper.offsetY===this.undoElement.wrapper.offsetY&&(r=!0),i&&(n={offsetX:i.wrapper.offsetX,offsetY:i.wrapper.offsetY});var o={source:i,state:"Start",oldValue:n,newValue:n,target:t.target,targetPosition:t.position,allowDrop:!0,cancel:!1};if(r&&this.commandHandler.triggerEvent(v.e.positionChange,o),this.currentPosition=t.position,"Port"!==this.objectType){this.currentPosition.x,this.prevPosition.x,this.currentPosition.y,this.prevPosition.y;var a,s=this.initialOffset.x+(this.currentPosition.x-this.prevPosition.x),c=this.initialOffset.y+(this.currentPosition.y-this.prevPosition.y);this.commandHandler.dragOverElement(t,this.currentPosition),this.commandHandler.disConnect(t.source),this.commandHandler.removeSnap();var l=void 0,h=this.commandHandler.snapPoint(this.prevPosition,this.currentPosition,s,c);this.initialOffset.x=s-h.x,this.initialOffset.y=c-h.y,i&&(a={offsetX:i.wrapper.offsetX,offsetY:i.wrapper.offsetY},l={offsetX:i.wrapper.offsetX+h.x,offsetY:i.wrapper.offsetY+h.y}),this.currentTarget&&t.target!==this.currentTarget&&this.commandHandler.removeChildFromBPmn(t.source,t.target,this.currentTarget),this.currentTarget=t.target;var d={source:i,state:"Progress",oldValue:a,newValue:l,target:t.target,targetPosition:t.position,allowDrop:!0,cancel:!1};if(this.commandHandler.triggerEvent(v.e.positionChange,d),!d.cancel){this.blocked=!this.commandHandler.dragSelectedObjects(h.x,h.y);var p=!this.commandHandler.mouseOver(this.currentElement,this.currentTarget,this.currentPosition);this.blocked=this.blocked||p}if(this.commandHandler.removeStackHighlighter(),this.commandHandler.renderStackHighlighter(t),this.currentTarget&&t.source!==this.currentTarget&&this.commandHandler.isDroppable(t.source,this.currentTarget)&&"helper"!==t.source.id){var u=t.source instanceof U.a?t.source.nodes[0]:t.source;this.commandHandler.isParentAsContainer(u,!0)||"SwimLane"===u.shape.type||u.shape.isPhase||(this.currentTarget.isLane?this.commandHandler.renderStackHighlighter(t,this.currentTarget):this.commandHandler.drawHighlighter(this.currentTarget))}else this.commandHandler.removeHighlighter();if(this.commandHandler.canEnableDefaultTooltip()){var f=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,f,"MoveTool",this.isTooltipVisible),this.isTooltipVisible=!1}}else{var m=Object(Q.a)(),b=t.source;Object(Q.c)(m,-b.rotateAngle,b.offsetX,b.offsetY);var w=Object(Q.e)(m,{x:this.prevPosition.x,y:this.prevPosition.y}),O=Object(Q.e)(m,{x:t.position.x,y:t.position.y});this.commandHandler.portDrag(t.source,t.sourceWrapper,O.x-w.x,O.y-w.y)}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.getTooltipContent=function(e){return"X:"+Math.round(e.wrapper.bounds.x)+" Y:"+Math.round(e.wrapper.bounds.y)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this),this.currentTarget=null,this.prevPosition=null},t}(oe),le=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseDown=function(t){if(this.undoElement=Object(V.b)(t.source),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var i=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),n=0;n<i.length;n++){var r=this.commandHandler.cloneChild(i[n].id);this.childTable[i[n].id]=Object(V.b)(r)}e.prototype.mouseDown.call(this,t)},t.prototype.mouseUp=function(t){var i;if(this.checkPropertyValue(),i=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.rotateAngle!==i.wrapper.rotateAngle){var n={rotateAngle:i.wrapper.rotateAngle},r={source:t.source,state:"Completed",oldValue:n,newValue:n,cancel:!1};this.commandHandler.triggerEvent(v.e.rotateChange,r);var o;o=Object(V.b)(t.source);var a={type:"RotationChanged",redoObject:Object(V.b)(o),undoObject:Object(V.b)(this.undoElement),category:"Internal",childTable:this.childTable};this.commandHandler.addHistoryEntry(a),this.commandHandler.updateSelector()}e.prototype.mouseUp.call(this,t)},t.prototype.mouseMove=function(t){var i;if(e.prototype.mouseMove.call(this,t),i=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.rotateAngle===i.wrapper.rotateAngle){var n={rotateAngle:i.wrapper.rotateAngle},r={source:t.source,state:"Start",oldValue:n,newValue:n,cancel:!1};this.commandHandler.triggerEvent(v.e.rotateChange,r)}this.currentPosition=t.position;var o={x:i.wrapper.offsetX,y:i.wrapper.offsetY},a=X.a.findAngle(o,this.currentPosition)+90,s=this.commandHandler.snapAngle(a);a=((a=0!==s?s:a)+360)%360;var c={rotateAngle:i.wrapper.rotateAngle},l={rotateAngle:a},h={source:t.source,state:"Progress",oldValue:c,newValue:l,cancel:!1};if(this.commandHandler.triggerEvent(v.e.rotateChange,h),h.cancel||(this.blocked=!this.commandHandler.rotateSelectedItems(a-i.wrapper.rotateAngle)),this.commandHandler.canEnableDefaultTooltip()){var d=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,d,"RotateTool",this.isTooltipVisible),this.isTooltipVisible=!1}return!this.blocked},t.prototype.getTooltipContent=function(e){return Math.round(e.rotateAngle%360).toString()+"\xb0"},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(oe),he=function(e){function t(t,i){var n=e.call(this,t,!0)||this;return n.initialBounds=new A.a,n.corner=i,n}return re(t,e),t.prototype.mouseDown=function(t){if(this.undoElement=Object(V.b)(t.source),this.undoParentElement=this.commandHandler.getSubProcess(t.source),e.prototype.mouseDown.call(this,t),this.undoElement.nodes[0]&&this.undoElement.nodes[0].children)for(var i=this.commandHandler.getAllDescendants(this.undoElement.nodes[0],[]),n=0;n<i.length;n++){var r=this.commandHandler.cloneChild(i[n].id);this.childTable[i[n].id]=Object(V.b)(r)}this.commandHandler.checkSelection(t.source,this.corner),e.prototype.mouseDown.call(this,t),this.initialBounds.x=t.source.wrapper.offsetX,this.initialBounds.y=t.source.wrapper.offsetY,this.initialBounds.height=t.source.wrapper.actualSize.height,this.initialBounds.width=t.source.wrapper.actualSize.width},t.prototype.mouseUp=function(t,i){var n;if(this.checkPropertyValue(),this.commandHandler.removeSnap(),n=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.offsetX!==n.wrapper.offsetX||this.undoElement.offsetY!==n.wrapper.offsetY){var r=this.updateSize(t.source,this.currentPosition,this.prevPosition,this.corner,this.initialBounds);this.blocked=this.scaleObjects(r.width,r.height,this.corner,this.currentPosition,this.prevPosition,n);var o={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},a={source:t.source,state:"Completed",oldValue:o,newValue:o,cancel:!1};this.commandHandler.triggerEvent(v.e.sizeChange,a);var s=Object(V.b)(t.source),c={type:"SizeChanged",redoObject:Object(V.b)(s),undoObject:Object(V.b)(this.undoElement),category:"Internal",childTable:this.childTable};if(!i){if(this.commandHandler.startGroupAction(),this.commandHandler.addHistoryEntry(c),s.nodes[0]&&s.nodes[0].processId){var l={type:"SizeChanged",redoObject:this.commandHandler.getSubProcess(t.source),undoObject:this.undoParentElement,category:"Internal"};this.commandHandler.addHistoryEntry(l)}this.commandHandler.endGroupAction()}}return e.prototype.mouseUp.call(this,t),!this.blocked},t.prototype.mouseMove=function(t){var i;if(e.prototype.mouseMove.call(this,t),i=this.commandHandler.renderContainerHelper(t.source)||t.source,this.undoElement.offsetX===i.wrapper.offsetX&&this.undoElement.offsetY===i.wrapper.offsetY){var n={offsetX:t.source.wrapper.offsetX,offsetY:t.source.wrapper.offsetY,width:t.source.wrapper.actualSize.width,height:t.source.wrapper.actualSize.height},r={source:t.source,state:"Start",oldValue:n,newValue:this.currentElement,cancel:!1};this.commandHandler.triggerEvent(v.e.sizeChange,r)}this.currentPosition=t.position;var o={x:this.currentPosition.x-this.startPosition.x,y:this.currentPosition.y-this.startPosition.y};o=Object(V.j)(-this.currentElement.wrapper.rotateAngle,void 0,void 0,o);this.currentElement.wrapper.actualSize.width,o.x,this.currentElement.wrapper.actualSize.width,this.currentElement.wrapper.actualSize.height,o.y,this.currentElement.wrapper.actualSize.height;o=this.getChanges(o),this.commandHandler.removeSnap();var a=this.updateSize(t.source,this.startPosition,this.currentPosition,this.corner,this.initialBounds);if(this.blocked=!this.scaleObjects(a.width,a.height,this.corner,this.startPosition,this.currentPosition,i),this.commandHandler.canEnableDefaultTooltip()){var s=this.getTooltipContent(t.source);this.commandHandler.showTooltip(t.source,t.position,s,"ResizeTool",this.isTooltipVisible),this.isTooltipVisible=!1}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.getTooltipContent=function(e){return"W:"+Math.round(e.wrapper.bounds.width)+" H:"+Math.round(e.wrapper.bounds.height)},t.prototype.getChanges=function(e){switch(this.corner){case"ResizeEast":return{x:e.x,y:0};case"ResizeSouthEast":return e;case"ResizeSouth":return{x:0,y:e.y};case"ResizeNorth":return{x:0,y:-e.y};case"ResizeNorthEast":return{x:e.x,y:-e.y};case"ResizeNorthWest":return{x:-e.x,y:-e.y};case"ResizeWest":return{x:-e.x,y:0};case"ResizeSouthWest":return{x:-e.x,y:e.y}}return e},t.prototype.scaleObjects=function(e,t,i,n,r,o){o instanceof U.a&&1===o.nodes.length&&o.nodes[0].constraints&v.k.AspectRatio&&("ResizeWest"===i||"ResizeEast"===i||"ResizeNorth"===i||"ResizeSouth"===i?1===t&&1===e||(t=e=Math.max(1===t?0:t,1===e?0:e)):t=e=n!==r?Math.max(t,e):0);var a,s={offsetX:o.offsetX,offsetY:o.offsetY,width:o.width,height:o.height};return this.blocked=this.commandHandler.scaleSelectedItems(e,t,this.getPivot(this.corner)),a={source:o,state:"Progress",oldValue:s,newValue:{offsetX:o.offsetX,offsetY:o.offsetY,width:o.width,height:o.height},cancel:!1},this.commandHandler.triggerEvent(v.e.sizeChange,a),a.cancel&&this.commandHandler.scaleSelectedItems(1/e,1/t,this.getPivot(this.corner)),this.blocked},t}(oe),de=function(e){function t(t,i){var n=e.call(this,t,!0)||this;return n.sourceObject=i,n}return re(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.inAction=!0},t.prototype.mouseMove=function(t){var i;e.prototype.mouseMove.call(this,t);var n={offsetX:this.currentPosition.x,width:3,height:3,offsetY:this.currentPosition.y};if(this.drawingObject||(this.drawingObject=this.commandHandler.drawObject(n)),this.inAction&&!1===X.a.equals(this.currentPosition,this.prevPosition)){var r=A.a.toBounds([this.prevPosition,this.currentPosition]);(i=this.commandHandler.checkBoundaryConstraints(void 0,void 0,r))&&this.commandHandler.updateNodeDimension(this.drawingObject,r)}return i},t.prototype.mouseUp=function(t){this.checkPropertyValue();var i=A.a.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.checkBoundaryConstraints(void 0,void 0,i),this.drawingObject&&this.drawingObject instanceof g.q&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.drawingObject=null),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(oe),pe=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.sourceObject=n,r}return re(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.inAction=!0},t.prototype.mouseMove=function(t){if(this.inAction){var i={sourcePoint:this.currentPosition,targetPoint:this.currentPosition};this.drawingObject||(this.drawingObject=this.commandHandler.drawObject(i)),t.source=this.drawingObject,t.target&&("ConnectorTargetEnd"!==this.endPoint||Object(Z.n)(t.target))&&this.commandHandler.connect(this.endPoint,t),this.endPoint="ConnectorTargetEnd"}return this.inAction||(this.commandHandler.updateSelector(),t.source&&t.sourceWrapper&&this.commandHandler.renderHighlighter(t,!0)),e.prototype.mouseMove.call(this,t),!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.drawingObject&&this.drawingObject instanceof y.b&&(this.commandHandler.addObjectToDiagram(this.drawingObject),this.drawingObject=null),this.inAction=!1,e.prototype.mouseUp.call(this,t)},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.mouseLeave=function(e){this.inAction&&this.mouseUp(e)},t}(se),ue=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.commandHandler.clearSelection();var i={shape:{type:"Text"},offsetX:this.currentPosition.x,width:50,height:20,offsetY:this.currentPosition.y};t.source||(this.drawingNode=this.commandHandler.drawObject(i))},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.drawingNode)this.drawingNode.style.strokeColor="black",this.drawingNode.style.strokeDashArray="2 2",this.drawingNode.style.fill="transparent";else{var i={shape:{type:"Text"},offsetX:this.currentPosition.x,width:30,height:30,style:{strokeDashArray:"2 2",fill:"transparent"},offsetY:this.currentPosition.y};this.drawingNode=this.commandHandler.drawObject(i)}if(this.inAction&&!1===X.a.equals(this.currentPosition,this.prevPosition)){var n=A.a.toBounds([this.prevPosition,this.currentPosition]);this.commandHandler.updateNodeDimension(this.drawingNode,n)}return!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.drawingNode?(this.drawingNode.style.strokeColor="none",this.drawingNode.style.fill="none"):this.drawingNode=t.source,this.drawingNode&&(this.drawingNode instanceof g.q||this.drawingNode instanceof y.b)&&this.commandHandler.addText(this.drawingNode,this.currentPosition),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t}(oe),fe=function(e){function t(t,i){var n=e.call(this,t)||this;return n.zooming=i,n}return re(t,e),t.prototype.mouseDown=function(t){e.prototype.mouseDown.call(this,t),this.inAction=!0},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction)if(this.zooming||!1!==X.a.equals(this.currentPosition,this.prevPosition)){if(t.moveTouches&&t.moveTouches.length&&t.moveTouches.length>=2){var i=t.startTouches[0],n=t.startTouches[1],r=t.moveTouches[0],o=t.moveTouches[1],a=this.getDistance(r,o)/this.getDistance(i,n),s=t.position;this.commandHandler.zoom(a,0,0,s),this.updateTouch(i,r),this.updateTouch(n,o)}}else{var c=this.currentPosition.x-this.prevPosition.x,l=this.currentPosition.y-this.prevPosition.y;this.commandHandler.scroll(c,l,this.currentPosition)}return!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),e.prototype.mouseUp.call(this,t),this.inAction=!1},t.prototype.endAction=function(){e.prototype.endAction.call(this)},t.prototype.getDistance=function(e,t){var i=t.pageX-e.pageX,n=t.pageY-e.pageY;return Math.sqrt(i*i+n*n)},t.prototype.updateTouch=function(e,t){e.pageX=t.pageX,e.pageY=t.pageY},t}(oe),ge=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.commandHandler.initExpand(t),e.prototype.mouseUp.call(this,t)},t}(oe),me=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseUp=function(t){this.checkPropertyValue(),window.open(t.sourceWrapper.hyperlink.link,"_blank").focus(),e.prototype.mouseUp.call(this,t)},t}(oe),ye=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var i=void 0,n=this.drawingObject.shape;i={x:(i=n.points[n.points.length-1]).x,y:i.y},this.drawingObject.shape.points.push(i)}else{this.startPoint={x:this.startPosition.x,y:this.startPosition.y};var r={offsetX:this.currentPosition.x,offsetY:this.currentPosition.y,width:5,height:5,style:{strokeColor:"black",strokeWidth:1},shape:{type:"Basic",shape:"Polygon",points:[{x:this.startPoint.x,y:this.startPoint.y},{x:this.currentPosition.x,y:this.currentPosition.y}]}};this.drawingObject=this.commandHandler.drawObject(r)}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var i=this.drawingObject.shape;if(this.drawingObject&&this.currentPosition&&(i.points[i.points.length-1].x=this.currentPosition.x,i.points[i.points.length-1].y=this.currentPosition.y,this.drawingObject.wrapper.children[0].data=Object(G.b)(this.drawingObject.shape.points),this.inAction&&!1===X.a.equals(this.currentPosition,this.prevPosition))){var n=A.a.toBounds(this.drawingObject.shape.points);this.commandHandler.updateNodeDimension(this.drawingObject,n)}}return!0},t.prototype.mouseUp=function(t,i){this.checkPropertyValue(),e.prototype.mouseMove.call(this,t),this.inAction&&(this.inAction=!1,this.drawingObject&&this.commandHandler.addObjectToDiagram(this.drawingObject)),this.endAction()},t.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},t.prototype.endAction=function(){this.inAction=!1,this.drawingObject=null},t}(oe),ve=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.inAction){var i=this.drawingObject;i.targetPoint=this.currentPosition,this.commandHandler.updateConnectorPoints(i)}return!0},t.prototype.mouseDown=function(t){if(e.prototype.mouseDown.call(this,t),this.inAction=!0,this.drawingObject){var i=this.drawingObject,n=void 0;(n=new y.d(i,"segments",{type:"Straight"},!0)).point=this.currentPosition,i.segments[i.segments.length-1]=n}else{var r={id:"Connector",type:"Straight",sourcePoint:this.currentPosition,targetPoint:this.currentPosition};this.drawingObject=this.commandHandler.drawObject(r)}},t.prototype.mouseWheel=function(t){e.prototype.mouseWheel.call(this,t),this.mouseMove(t)},t.prototype.mouseUp=function(t){this.checkPropertyValue(),e.prototype.mouseMove.call(this,t),this.inAction&&this.drawingObject&&this.commandHandler.addObjectToDiagram(this.drawingObject),this.endAction()},t.prototype.endAction=function(){this.drawingObject=null,this.inAction=!1},t}(oe),be=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.undoElement=Object(V.b)(t.source),this.annotationId=t.sourceWrapper.id,e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){e.prototype.mouseMove.call(this,t);var i=this.currentPosition.x-this.prevPosition.x,n=this.currentPosition.y-this.prevPosition.y,r=t.source;if(r instanceof g.q){var o=Object(Q.a)();Object(Q.c)(o,-r.rotateAngle,0,0);var a=Object(Q.e)(o,{x:i,y:n});i=a.x,n=a.y}return this.inAction&&(this.commandHandler.labelDrag(t.source,t.sourceWrapper,i,n),this.commandHandler.updateSelector()),this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue();var i=t.source;this.inAction=!1;var n={type:"AnnotationPropertyChanged",objectId:this.annotationId,undoObject:Object(V.b)(this.undoElement),category:"Internal",redoObject:Object(V.b)(i)};this.commandHandler.addHistoryEntry(n),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(oe),we=function(e){function t(t,i){var n=e.call(this,t,!0)||this;return n.corner=i,n}return re(t,e),t.prototype.mouseDown=function(t){this.inAction=!0;var i=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.annotationId=t.source.wrapper.children[0].id,this.undoElement=Object(V.b)(i);var n=t.source.wrapper.children[0];this.initialBounds={x:n.offsetX,y:n.offsetY,width:n.actualSize.width,height:n.actualSize.height},e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){return e.prototype.mouseMove.call(this,t),this.inAction&&this.resizeObject(t),!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue();var i=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.inAction=!1;var n={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:Object(V.b)(i),undoObject:Object(V.b)(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(n),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t.prototype.resizeObject=function(e){var t;t=e.source.nodes.length?e.source.nodes[0]:e.source.connectors[0];var i,n,r=e.source.wrapper.children[0],o={x:r.offsetX,y:r.offsetY},a=r.rotateAngle;a=((a+=t instanceof g.q?t.rotateAngle:0)+360)%360;var s=Object(Q.a)();Object(Q.c)(s,a,o.x,o.y);var c=this.corner.slice(5),l=this.updateSize(r,this.startPosition,this.currentPosition,c,this.initialBounds,a),h=r.offsetX-r.actualSize.width*r.pivot.x,d=r.offsetY-r.actualSize.height*r.pivot.y,p=this.getPivot(c);p={x:h+r.actualSize.width*p.x,y:d+r.actualSize.height*p.y};var u=Object(Q.e)(s,p);l.x=u.x,l.y=u.y,i=(i=l.width)<0?1:i,n=(n=l.height)<0?1:n,this.commandHandler.labelResize(t,e.source.annotation,i,n,l,e.source),this.commandHandler.updateSelector()},t}(oe),Oe=function(e){function t(t){return e.call(this,t,!0)||this}return re(t,e),t.prototype.mouseDown=function(t){this.inAction=!0,this.annotationId=t.source.wrapper.children[0].id;var i=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0];this.undoElement=Object(V.b)(i),e.prototype.mouseDown.call(this,t)},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),t.source&&this.inAction){var i,n=t.source.nodes[0]?t.source.nodes[0]:t.source.connectors[0];i=t.source.annotation,this.commandHandler.labelRotate(n,i,this.currentPosition,t.source),this.commandHandler.updateSelector()}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){this.checkPropertyValue(),this.inAction=!1;var i=t.source.nodes.length?t.source.nodes[0]:t.source.connectors[0],n={type:"AnnotationPropertyChanged",objectId:this.annotationId,redoObject:Object(V.b)(i),undoObject:Object(V.b)(this.undoElement),category:"Internal"};this.commandHandler.addHistoryEntry(n),e.prototype.mouseUp.call(this,t)},t.prototype.mouseLeave=function(e){this.mouseUp(e)},t}(oe),xe=i(23),je=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Se=function(e){function t(t,i){var n=e.call(this,t,!0)||this;return n.endPoint=i,n}return je(t,e),t.prototype.mouseDown=function(t){var i;this.inAction=!0,this.undoElement=Object(V.b)(t.source),e.prototype.mouseDown.call(this,t),t.source&&t.source.connectors&&(i=t.source.connectors[0]);for(var n=0;n<i.segments.length;n++){var r=i.segments[n];if("OrthoThumb"===this.endPoint)for(var o=0;o<r.points.length-1;o++){var a={x:0,y:0};a.x=(r.points[o].x+r.points[o+1].x)/2,a.y=(r.points[o].y+r.points[o+1].y)/2,J(this.currentPosition,a,30)&&(this.selectedSegment=r,this.segmentIndex=o)}else J(this.currentPosition,r.point,10)&&(this.selectedSegment=r)}},t.prototype.mouseMove=function(t){if(e.prototype.mouseMove.call(this,t),this.currentPosition=t.position,this.currentPosition&&this.prevPosition){var i=this.currentPosition.y-this.prevPosition.y,n=this.currentPosition.x-this.prevPosition.x;this.currentPosition=this.commandHandler.snapConnectorEnd(this.currentPosition);var r=void 0;if(t.source&&t.source.connectors&&(r=t.source.connectors[0]),this.inAction&&void 0!==this.endPoint&&0!==n||0!==i){if("OrthoThumb"===this.endPoint)this.blocked=!this.dragOrthogonalSegment(r,this.selectedSegment,this.currentPosition,this.segmentIndex);else{var o=this.currentPosition.x-this.selectedSegment.point.x,a=this.currentPosition.y-this.selectedSegment.point.y,s=r.segments.indexOf(this.selectedSegment);this.blocked=!this.commandHandler.dragControlPoint(r,o,a,!1,s)}this.commandHandler.updateSelector()}}return this.prevPosition=this.currentPosition,!this.blocked},t.prototype.mouseUp=function(t){var i,n;if(t.source&&t.source.connectors&&(n={segments:(i=t.source.connectors[0]).segments}),t&&t.source&&t.info&&t.info.ctrlKey&&t.info.shiftKey&&"Straight"===i.type)this.addOrRemoveSegment(i,this.currentPosition);else if("OrthoThumb"===this.endPoint&&this.selectedSegment){var r=i.segments.indexOf(this.selectedSegment),o=i.segments[r-1],a=i.segments[r+1];if(r===i.segments.length-2&&this.updateLastSegment(i,this.selectedSegment))i.segments.splice(i.segments.length-2,1);else if(o&&Math.abs(o.length)<5)1!==r&&this.removePrevSegment(i,r);else if(a){var s=X.a.distancePoints(a.points[0],a.points[1]),c=a.length||0===a.length?a.length:s;Math.abs(c)<=5&&this.removeNextSegment(i,r)}this.commandHandler.updateEndPoint(i,n)}if(this.undoElement){var l={type:"SegmentChanged",redoObject:Object(V.b)(t.source),undoObject:this.undoElement,category:"Internal"};this.commandHandler.addHistoryEntry(l)}e.prototype.mouseUp.call(this,t)},t.prototype.removePrevSegment=function(e,t){var i=e.segments[t-2],n=e.segments[t+1];if(!((n.length||0===n.length?n.length:X.a.distancePoints(n.points[0],n.points[1]))<=5)){var r=e.segments[t+1];e.segments.splice(t-1,2);var o=this.selectedSegment;"Left"===o.direction||"Right"===o.direction?(i.points[i.points.length-1].x=r.points[0].x,r.points[0].y=i.points[i.points.length-1].y):(i.points[i.points.length-1].y=r.points[0].y,r.points[0].x=i.points[i.points.length-1].x),(o.length||0===o.length)&&this.findSegmentDirection(i),this.findSegmentDirection(r)}},t.prototype.findSegmentDirection=function(e){e.direction&&(e.length||0===e.length)&&(e.length=X.a.distancePoints(e.points[0],e.points[e.points.length-1]),e.direction=X.a.direction(e.points[0],e.points[e.points.length-1]))},t.prototype.removeNextSegment=function(e,t){var i=this.selectedSegment,n=e.segments[t-1],r=e.segments[t+2],o=e.segments[t+1];if(o.length||0===o.length?(e.segments.splice(t,2),"Top"===i.direction||"Bottom"===i.direction?(r.points[0].y=i.points[0].y,n.points[n.points.length-1].x=r.points[0].x):(r.points[0].x=i.points[0].x,n.points[n.points.length-1].y=r.points[0].y)):(e.segments.splice(t+1,1),"Top"===i.direction||"Bottom"===i.direction?n.points[n.points.length-1].x=o.points[o.points.length-1].x:n.points[n.points.length-1].y=o.points[o.points.length-1].y,this.findSegmentDirection(n),i.length=i.direction=null),n&&r&&(n.length=X.a.distancePoints(n.points[0],r.points[0]),n.direction=X.a.direction(n.points[0],r.points[0]),r.length||0===r.length)){r.length=X.a.distancePoints(n.points[n.points.length-1],r.points[r.points.length-1]);var a=n.points,s=r.points;r.direction=X.a.direction(a[a.length-1],s[s.length-1])}},t.prototype.addOrRemoveSegment=function(e,t){for(var i,n,r={segments:e.segments},o=0;o<e.segments.length;o++){J(t,(a=e.segments[o]).point,e.hitPadding)&&(n=o,i=!0)}if(i&&void 0!==n){if(e.segments&&e.segments[n]&&"Straight"===e.segments[n].type){var a=e.segments[n],s=e.segments[n+1];s&&(e.segments.splice(n,1),s.points[0]=a.points[0])}}else{var c=this.findIndex(e,t);if(e.segments&&e.segments[c]&&"Straight"===e.segments[c].type){a=e.segments[c];var l=new y.d(e,"segments",{type:"Straight",point:t},!0);l.points[0]=a.points[0],l.points[1]=t,a.points[0]=t,e.segments.splice(c,0,l),i=!0}}i&&this.commandHandler.updateEndPoint(e,r)},t.prototype.findIndex=function(e,t){for(var i=[],n=0;n<e.segments.length;n++){var r=e.segments[n],o=A.a.toBounds([r.points[0],r.points[1]]);o.Inflate(e.hitPadding),o.containsPoint(t)&&i.push(r)}if(1===i.length)return e.segments.indexOf(i[0]);var a=void 0,s=void 0,c=void 0,l=void 0,h=void 0,d=void 0;for(n=0;n<i.length;n++)l=i[n],h=(t.y-l.points[0].y)/(l.points[1].y-t.y),d=(t.x-l.points[0].x)/(l.points[1].x-t.x),a=Math.abs(h-d),0===n&&(s=a,c=0),a<s&&(s=a,c=n);return e.segments.indexOf(i[c])},t.prototype.dragOrthogonalSegment=function(e,t,i,n){var r={x:0,y:0},o={segments:e.segments};r.x=(t.points[n].x+t.points[n+1].x)/2,r.y=(t.points[n].y+t.points[n+1].y)/2;var a=i.y-r.y,s=i.x-r.x,c=e.segments.indexOf(t),l=!1;t.points[0].y.toFixed(2),t.points[1].y.toFixed(2);return-1!==c&&(0===c&&1===e.segments.length&&2===t.points.length?(c=this.addSegments(e,t,s,a,c),l=!0):c!==e.segments.length-1||null!==t.direction&&null!==t.length?0===c&&(c=this.insertFirstSegment(e,t,s,a,c),l=!0):(c=this.addTerminalSegment(e,t,s,a,n),l=!0),l&&(this.selectedSegment=t=e.segments[c],this.segmentIndex=0),this.updateAdjacentSegments(e,c,s,a),this.commandHandler.updateEndPoint(e,o)),!0},t.prototype.addSegments=function(e,t,i,n,r){var o,a,s=[],c=X.a.distancePoints(t.points[0],t.points[1]),l=X.a.direction(t.points[0],t.points[1]);return s.push(new y.c(e,"segments",{type:"Orthogonal",direction:l,length:c/4},!0)),o=t.points[0].y===t.points[1].y?n>0?"Bottom":"Top":i>0?"Right":"Left",a=t.points[0].x===t.points[1].x?n:i,s.push(new y.c(e,"segments",{type:"Orthogonal",direction:o,length:a},!0)),s.push(new y.c(e,"segments",{type:"Orthogonal",direction:l,length:c/2},!0)),e.segments=s.concat(e.segments),r+2},t.prototype.insertFirstSegment=function(e,t,i,n,r){var o,a,s,c,l,h=[];if(e.sourcePortID&&t.length&&e.segments[0].points.length>2){e.segments.splice(0,1);for(var d=void 0,p=0;p<t.points.length-1;p++){var u=X.a.distancePoints(t.points[p],t.points[p+1]),f=X.a.direction(t.points[p],t.points[p+1]);0===(l=new y.c(e,"segments",{type:"Orthogonal",direction:f,length:u},!0)).length&&(!d||"Top"!==d.direction&&"Bottom"!==d.direction?l.direction=n>0?"Bottom":"Top":l.direction=i>0?"Right":"Left"),d=l,h.push(l)}e.segments=h.concat(e.segments),c=1}else{s={type:"Orthogonal",direction:t.direction,length:t.length/3},h.push(new y.c(e,"segments",s,!0)),"Bottom"===t.direction||"Top"===t.direction?(a=Math.abs(i),o=i>0?"Right":"Left"):(a=Math.abs(n),o=n>0?"Bottom":"Top"),l=new y.c(e,"segments",{type:"Orthogonal",direction:o,length:a},!0),h.push(l);var g=e.segments[1];g&&g.length&&(g.length=o!==g.direction?g.length+a:g.length-a),c=2,t.length=2*t.length/3,e.segments=h.concat(e.segments)}return c},t.prototype.updateAdjacentSegments=function(e,t,i,n){var r=e.segments[t],o=r.points[r.points.length-1],a=r.points[0],s=!0;if("Orthogonal"===r.type&&(r.points[0]=a,r.points[r.points.length-1]=o,e.segments[t-1]&&(s=this.updatePreviousSegment(i,n,e,t)),e.segments.length-1>t&&s)){var c=e.segments[t+1];this.updateNextSegment(e,r,c,i,n)}},t.prototype.addTerminalSegment=function(e,t,i,n,r){var o,a,s,c,l={segments:e.segments},h=e.segments.indexOf(t);e.segments.pop();var d=e.segments[e.segments.length-1];o=d&&"Orthogonal"===d.type?d:null;for(var p=0;p<t.points.length-2;p++)s=X.a.distancePoints(t.points[p],t.points[p+1]),c=X.a.direction(t.points[p],t.points[p+1]),a=new y.c(e,"segments",{type:"Orthogonal",length:s,direction:c},!0),e.segments.push(a),o=a;var u=r;if((2===t.points.length||u===t.points.length-2)&&(o&&(o.length+=5),void 0!==u)){var f;s=2*X.a.distancePoints(t.points[t.points.length-2],t.points[t.points.length-1])/3,c=X.a.direction(t.points[t.points.length-2],t.points[t.points.length-1]),f=new y.c(e,"segments",{type:"Orthogonal",length:s,direction:c}),e.segments.push(f)}var g=new y.c(e,"segments",{type:"Orthogonal"},!0);return e.segments.push(g),this.commandHandler.updateEndPoint(e,l),h+=r},t.prototype.updatePortSegment=function(e,t,i,n,r){if(1===i&&2===e.points.length&&e.length<0){var o=t.sourceWrapper.corners,a=t.segments[i],s=t.segments[i+1],c=void 0,l=[];c=new y.c(t,"segments",{type:"Orthogonal",length:13,direction:e.direction}),l.push(c);var h=void 0;h="Left"===a.direction?a.points[0].x-(o.middleLeft.x-20):"Right"===a.direction?o.middleRight.x+20-a.points[0].x:"Bottom"===a.direction?o.bottomCenter.y+20-a.points[0].y:a.points[0].y-(o.topCenter.y-20);a.direction;c=new y.c(t,"segments",{type:"Orthogonal",length:h,direction:a.direction}),l.push(c),a.length=a.length-h,s&&s.length&&s.direction&&(s.direction===e.direction?s.length-=13:s.direction===Object(xe.e)(e.direction)&&(s.length+=13)),t.segments=l.concat(t.segments),this.selectedSegment=t.segments[3]}},t.prototype.updatePreviousSegment=function(e,t,i,n){var r=i.segments[n],o=i.segments[n-1];o.points[o.points.length-1]=r.points[0];var a=!i.sourceID||""!==i.sourcePortID,s=!0;return"Orthogonal"===o.type&&("Bottom"===o.direction?o.length+=t:"Top"===o.direction?o.length-=t:"Right"===o.direction?o.length+=e:o.length-=e,""!==i.sourcePortID&&o.length<0?this.updatePortSegment(o,i,n,e,t):i.sourceID&&""===i.sourcePortID&&o.length<0&&1===n&&(s=!1,this.updateFirstSegment(i,r)),a&&this.changeSegmentDirection(o)),s},t.prototype.changeSegmentDirection=function(e){e.length<0&&(e.direction=Object(xe.e)(e.direction),e.length*=-1)},t.prototype.updateNextSegment=function(e,t,i,n,r){t.points[t.points.length-1];i.points[0]=t.points[t.points.length-1],i&&"Orthogonal"===i.type&&(i.length||0===i.length)&&("Left"===i.direction||"Right"===i.direction?0!==n&&(i.length="Right"===i.direction?i.length-n:i.length+n,(i.length||0===i.length)&&this.changeSegmentDirection(i)):0!==r&&(i.length="Bottom"===i.direction?i.length-r:i.length+r,(i.length||0===i.length)&&this.changeSegmentDirection(i)))},t.prototype.updateFirstSegment=function(e,t){var i,n=e.segments.indexOf(t),r=!1,o=e.segments[n],a=e.segments[n-1],s={segments:e.segments};if(a.length<0&&e.sourceID){var c=e.sourceWrapper.corners,l=[],h=void 0,d=!1;this.changeSegmentDirection(o);var p=e.segments[n+1],u=e.segments[n+2];switch(p&&this.changeSegmentDirection(p),u&&this.changeSegmentDirection(u),a.direction){case"Top":case"Bottom":i=o.length>0&&"Left"===o.direction?c.middleLeft:c.middleRight,o.length>c.width/2?Math.abs(a.length)<c.height/2&&(a.length=X.a.distancePoints(c.center,a.points[a.points.length-1]),o.points[0].x=i.x,o.length=X.a.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,r=!0):(p&&p.direction&&p.length&&(p.points[0].y=i.y,p.points[0].x=p.points[p.points.length-1].x="Right"===o.direction?i.x+20:i.x-20),r=!0,d=!0);break;case"Left":case"Right":i=o.length>0&&"Top"===o.direction?c.topCenter:c.bottomCenter,o.length>c.height/2?Math.abs(a.length)<c.width/2&&(a.length=X.a.distancePoints(c.center,a.points[a.points.length-1]),o.points[0].y=i.y,o.length=X.a.distancePoints(o.points[0],o.points[o.points.length-1]),o.length-=20,r=!0):(p&&p.direction&&p.length&&(p.points[0].x=i.x,p.points[0].y=p.points[p.points.length-1].y="Bottom"===o.direction?i.y+20:i.y-20),r=!0,d=!0)}this.changeSegmentDirection(a),this.changeSegmentDirection(o),r&&(h={type:"Orthogonal",direction:o.direction,length:20},l.push(new y.c(e,"segments",h,!0)),d&&(p&&p.direction&&p.length&&(p.length=X.a.distancePoints(p.points[0],p.points[p.points.length-1])),u&&u.direction&&u.length&&(u.length=X.a.distancePoints(p.points[p.points.length-1],u.points[u.points.length-1])),e.segments.splice(n-1,2)),e.segments=l.concat(e.segments)),this.selectedSegment=d?e.segments[n-1]:e.segments[n+1],this.commandHandler.updateEndPoint(e,s)}},t.prototype.updateLastSegment=function(e,t){if(e.targetID&&""===e.targetPortID){var i=void 0,n=void 0,r=void 0,o=void 0,a=e.targetWrapper.corners,s=t.points[0],c=t.points[t.points.length-1];"Right"===t.direction||"Left"===t.direction?(i={x:s.x,y:s.y},n={x:"Left"===t.direction?c.x-a.width/2:c.x+a.width/2,y:c.y},r={x:a.center.x,y:a.center.y-a.height},o={x:a.center.x,y:a.center.y+a.height}):(i={x:s.x,y:s.y},n={x:c.x,y:"Bottom"===t.direction?c.y+a.height/2:c.y-a.height/2},r={x:a.center.x-a.width,y:a.center.y},o={x:a.center.x+a.width,y:a.center.y});var l={x1:i.x,y1:i.y,x2:n.x,y2:n.y},h={x1:r.x,y1:r.y,x2:o.x,y2:o.y};return Object(m.E)(l,h).enabled}return!1},t.prototype.destroy=function(){},t.prototype.getModuleName=function(){return"ConnectorEditingTool"},t}(oe),Pe=i(31),Ce=i(3),Ee=i(12),Te=i(26),ke=function(){function e(e,t){this.currentAction="None",this.focus=!1,this.isBlocked=!1,this.isMouseDown=!1,this.inAction=!1,this.doingAutoScroll=!1,this.diagram=null,this.objectFinder=null,this.tool=null,this.eventArgs=null,this.diagram=e,this.objectFinder=new Ie,this.commandHandler=t}return Object.defineProperty(e.prototype,"action",{get:function(){return this.currentAction},set:function(e){e!==this.currentAction&&("PortDraw"===this.currentAction&&(this.diagram.tool&=~v.f.DrawOnce,this.tool&&this.tool.mouseUp({position:this.currentPosition}),this.tool=null),"Rotate"===e||"LabelRotate"===e?this.diagram.diagramCanvas.classList.add("e-diagram-rotate"):"Rotate"!==this.currentAction&&"LabelRotate"!==this.currentAction||this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),this.currentAction=e,"None"===this.currentAction||"Select"===this.currentAction||this.diagram.diagramActions&v.c.TextEdit?this.diagram.diagramActions=this.diagram.diagramActions&~v.c.ToolAction:this.diagram.diagramActions=this.diagram.diagramActions|v.c.ToolAction,this.diagram.setCursor(this.diagram.getCursor(e,this.inAction)))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blocked",{get:function(){return this.isBlocked},set:function(e){this.isBlocked=e,this.blocked?this.diagram.setCursor("not-allowed"):this.diagram.setCursor(this.diagram.getCursor(this.action,this.inAction))},enumerable:!0,configurable:!0}),e.prototype.getMousePosition=function(e){var t,i,n;-1!==e.type.indexOf("touch")?(i=(t=e).changedTouches[0].clientX,n=t.changedTouches[0].clientY):(i=e.clientX,n=e.clientY);var r=new T.a;r=Object(E.b)(this.diagram);var o=this.diagram.element.getBoundingClientRect();return i=i+this.diagram.diagramCanvas.scrollLeft-o.left-r.width,n=n+this.diagram.diagramCanvas.scrollTop-o.top-r.height,i/=this.diagram.scroller.transform.scale,n/=this.diagram.scroller.transform.scale,{x:i-=this.diagram.scroller.transform.tx,y:n-=this.diagram.scroller.transform.ty}},e.prototype.windowResize=function(e){var t=this;return this.resizeTo&&clearTimeout(this.resizeTo),this.resizeTo=setTimeout(function(){t.updateViewPortSize(t.diagram.element)},300),!1},e.prototype.updateViewPortSize=function(e){var t=document.getElementById(e.id);if(t){var i=t.getBoundingClientRect();this.diagram.scroller.setViewPortSize(i.width,i.height);var n=new T.a;n=Object(E.b)(this.diagram);var r=this.diagram.getSizeValue(this.diagram.width,n.width),o=this.diagram.getSizeValue(this.diagram.height,n.height);this.diagram.diagramCanvas.style.width=r,this.diagram.diagramCanvas.style.height=o,this.diagram.scroller.setSize(),this.diagram.transformLayers(),this.diagram.rulerSettings.showRulers&&Object(E.g)(this.diagram)}},e.prototype.canHideResizers=function(){return(this.tool instanceof ce||this.tool instanceof le)&&this.isMouseDown},e.prototype.updateCursor=function(){if(1===this.diagram.selectedItems.nodes.length||1===this.diagram.selectedItems.connectors.length){var e=[];e=e.concat(this.diagram.selectedItems.nodes,this.diagram.selectedItems.connectors),this.blocked=this.isMouseDown&&1===e.length&&this.tool instanceof ae&&!Object(Z.o)(e[0])}},e.prototype.isForeignObject=function(e,t){var i=e;if(i)for(;null!==i.parentNode;){if("string"===typeof i.className&&(!t&&-1!==i.className.indexOf("foreign-object")||t&&-1!==i.className.indexOf("e-diagram-text-edit")))return i;i=i.parentNode}return null},e.prototype.isMetaKey=function(e){return navigator.platform.match("Mac")?e.metaKey:e.ctrlKey},e.prototype.renderUmlHighLighter=function(e){this.diagram.commandHandler.removeStackHighlighter();var t=this.diagram.selectedItems.nodes[0];if(t&&t.container&&"Stack"===t.container.type&&"UmlClassifier"===t.shape.type&&!t.wrapper.bounds.containsPoint(this.currentPosition)){var i=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),n=this.diagram.findObjectUnderMouse(i,this.action,this.inAction);if(n&&n.parentId&&n.parentId===t.id){var r="Vertical"===this.diagram.nameTable[n.parentId].container.orientation;Object(K.h)(n.wrapper,r,e.position,this.diagram,!0)}}},e.prototype.isDeleteKey=function(e,t){return navigator.platform.match("Mac")&&"Backspace"===e&&"delete"===t},e.prototype.isMouseOnScrollBar=function(e){var t,i,n,r,o=e.offsetX,a=e.offsetY,s=this.diagram.diagramCanvas,c=s.offsetHeight,l=s.offsetWidth;return!!(c<s.scrollHeight&&(t={x:l-17,y:0},i={x:l,y:0},n={x:l-17,y:c},r={x:l,y:c},A.a.toBounds([t,i,n,r]).containsPoint({x:o,y:a})))||!!(l<s.scrollWidth&&(t={x:0,y:c-17},i={x:l,y:c-17},n={x:0,y:c},r={x:l,y:c},A.a.toBounds([t,i,n,r]).containsPoint({x:o,y:a})))},e.prototype.updateVirtualization=function(){var e,t=this;e=setInterval(function(i){t.diagram.removeVirtualObjects(e)},50),setTimeout(function(){t.diagram.deleteVirtualObject=!0},50)},e.prototype.mouseDown=function(e){var t;if(this.focus=!0,t=e.touches,this.isMouseOnScrollBar(e))return this.isScrolling=!0,void e.preventDefault();if(!this.checkEditBoxAsTarget(e)&&Object(Z.D)(this.diagram)||Object(Z.G)(this.diagram)&&!Object(Z.I)(this.diagram))if("Select"!==this.action&&"Drag"!==this.action||this.diagram.updatePortVisibility(this.hoverElement,v.m.Hover,!0),!(this.tool instanceof ye||this.tool instanceof ve)||2!==e.button&&2!==e.buttons)if(!0===this.inAction&&!0===this.isMouseDown&&(this.tool instanceof ye||this.tool instanceof ve))this.isMouseDown=!0,this.eventArgs={},this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.eventArgs.position=this.currentPosition,this.tool.mouseDown(this.eventArgs);else{this.isMouseDown=!0,this.currentPosition=this.prevPosition=this.getMousePosition(e),this.eventArgs={},this.diagram.textEditing&&!this.isMouseOnScrollBar(e)&&(this.diagram.endEdit(),this.diagram.textEditing=!1);var i=void 0,n=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action),r=this.objectFinder.findObjectUnderMouse(this.diagram,n,this.action,this.inAction,this.eventArgs,e),o=null;null!==r&&(o=this.diagram.findElementUnderMouse(r,this.currentPosition))&&(i=this.commandHandler.findTarget(o,r)),this.action=this.diagram.findActionToBeDone(r,o,this.currentPosition,i);var a=this.isMetaKey(e);if(a&&e.shiftKey&&this.diagram.connectorEditingToolModule?this.action="SegmentEnd":!a&&!e.shiftKey||Object(Z.G)(this.diagram)||(this.action="Select"),this.tool=this.diagram.getTool(this.action),this.tool||(this.action="Select",this.tool=this.diagram.getTool(this.action)),this.getMouseEventArgs(this.currentPosition,this.eventArgs),a||e.shiftKey){var s=a&&e.shiftKey?{ctrlKey:a,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=s}this.eventArgs.position=this.currentPosition,this.tool.mouseDown(this.eventArgs),this.initialEventArgs={source:this.eventArgs.source,sourceWrapper:this.eventArgs.sourceWrapper},this.initialEventArgs.position=this.currentPosition,this.initialEventArgs.info=this.eventArgs.info,this.inAction=!1,"touchstart"===e.type&&(t&&t.length>=2&&(this.touchStartList=Object(Ce.a)(this.touchStartList,e,t)),t||e.preventDefault())}else{this.diagram,this.currentPosition,e.buttons,this.eventArgs.actualObject;this.inAction=!1,this.tool.mouseUp(this.eventArgs)}this.isForeignObject(e.target)||this.isForeignObject(e.target,!0)||t||e.preventDefault()},e.prototype.mouseMoveExtend=function(e,t){(this.tool instanceof ye||this.tool instanceof ve)&&this.tool.mouseMove(this.eventArgs),this.diagram.scrollSettings.canAutoScroll?this.checkAutoScroll(e):this.blocked||this.tool.mouseMove(this.eventArgs),this.eventArgs.target&&(this.hoverElement=this.eventArgs.target);var i=!(this.eventArgs.target instanceof g.q&&t instanceof g.q);this.tool instanceof se&&this.diagram.updatePortVisibility(this.hoverElement instanceof g.q?this.hoverElement:this.hoverNode,v.m.Connect|v.m.Hover,i),this.hoverElement instanceof g.q&&this.hoverNode instanceof g.q&&this.hoverNode&&this.hoverNode.id!==this.hoverElement.id&&this.diagram.updatePortVisibility(this.hoverNode,v.m.Connect|v.m.Hover,!0),this.hoverElement=i?null:t,this.hoverNode=i?null:t},e.prototype.checkAction=function(e){if("LabelSelect"===this.action&&this.eventArgs.sourceWrapper&&(this.eventArgs.sourceWrapper instanceof I.a||this.eventArgs.sourceWrapper instanceof Te.a)){var t=this.commandHandler.findTarget(this.eventArgs.sourceWrapper,this.eventArgs.source);!ie(this.diagram,t,!1,this.eventArgs.sourceWrapper)&&Object(Z.o)(t)&&(this.action="LabelDrag",this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))}else Object(Z.o)(e)&&Object(Z.A)(e)&&this.initialEventArgs&&this.initialEventArgs.source&&"Select"===this.action&&(!ie(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof U.a&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),e instanceof y.b&&(!(e instanceof y.b)||J(this.currentPosition,e.sourcePoint,e.hitPadding)||J(this.currentPosition,e.targetPoint,e.hitPadding))||(this.action="Drag"),this.tool=this.getTool(this.action),this.tool.mouseDown(this.initialEventArgs))},e.prototype.mouseMove=function(e,t){if(this.focus=!0,this.isScrolling)e.preventDefault();else if(Object(Z.D)(this.diagram)||Object(Z.G)(this.diagram)&&!Object(Z.I)(this.diagram)){this.currentPosition=this.getMousePosition(e);var i=this.diagram.findObjectsUnderMouse(this.currentPosition),n=this.diagram.findObjectUnderMouse(i,this.action,this.inAction);Object(E.a)(this.diagram,this.currentPosition);var r=!1,o=void 0;if("touchmove"===e.type&&(t=e.touches)&&t.length>1&&(this.touchMoveList=Object(Ce.a)(this.touchMoveList,e,t),"PinchZoom"!==this.action&&(r=!0)),!1===X.a.equals(this.currentPosition,this.prevPosition)||this.inAction){if(!1===this.isMouseDown||r){this.eventArgs={};var a=null;null!==n&&(a=this.diagram.findElementUnderMouse(n,this.currentPosition),n!==this.hoverElement?(this.hoverElement&&(this.elementLeave(),this.diagram.updatePortVisibility(this.hoverElement,v.m.Hover,!0)),n instanceof g.q&&(this.hoverNode=n),this.hoverElement=n,this.elementEnter(this.currentPosition,!1)):this.hoverElement||this.hoverElement!==n||this.elementEnter(this.currentPosition,!0),a&&(o=this.commandHandler.findTarget(a,n))),this.action=this.diagram.findActionToBeDone(n,a,this.currentPosition,o),this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.tool=this.getTool(this.action),this.mouseEvents(),this.tool instanceof pe||this.tool instanceof ve||this.tool instanceof ye?this.tool.mouseMove(this.eventArgs):t&&this.tool instanceof fe&&this.tool.mouseDown(this.eventArgs),this.updateCursor(),this.renderUmlHighLighter(this.eventArgs);var s=!1;(!this.hoverElement||this.tool instanceof fe||!(n instanceof g.q)||0!==this.diagram.selectedItems.nodes.length&&ie(this.diagram,this.hoverElement))&&(s=!0),this.diagram.updatePortVisibility(this.hoverElement,v.m.Hover,s),null===n&&this.hoverElement&&(this.hoverElement=null,this.elementLeave()),r=!1}else{if(this.eventArgs.position=this.currentPosition,"Drag"===this.action&&!ie(this.diagram,this.eventArgs.source,!1)&&this.eventArgs.source instanceof U.a&&this.getMouseEventArgs(this.currentPosition,this.eventArgs),this.mouseEvents(),e.ctrlKey||e.shiftKey){var c=e.ctrlKey&&e.shiftKey?{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=c}this.checkAction(n),this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source),this.updateCursor(),this.inAction=!0,this.initialEventArgs=null,"Drag"!==this.action&&"Rotate"!==this.action||(this.diagram.diagramActions=this.diagram.diagramActions|v.c.Interactions),this.mouseMoveExtend(e,n)}this.prevPosition=this.currentPosition,this.isForeignObject(e.target,!0)||e.preventDefault()}}},e.prototype.checkAutoScroll=function(e){var t=this.startAutoScroll(e);if(!t&&this.doingAutoScroll)this.doingAutoScroll=!1,clearInterval(this.timeOutValue);else if(t){if((this.tool instanceof ce||this.tool instanceof he||this.tool instanceof ae)&&this.inAction){var i=this;this.diagram.scrollSettings.canAutoScroll&&t&&!this.doingAutoScroll&&(this.doingAutoScroll=!0,this.timeOutValue=setInterval(function(n){i.doAutoScroll(t,e,100)},100))}}else this.blocked=!this.tool.mouseMove(this.eventArgs)},e.prototype.mouseUp=function(e){var t;if("SVG"===this.diagram.mode&&Object(Z.E)(this.diagram)&&this.updateVirtualization(),this.diagram.previousSelectedObject=null,this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,v.o.DrawSelectorBorder),t=e.touches,this.isScrolling)return this.isScrolling=!1,void e.preventDefault();if(!this.checkEditBoxAsTarget(e)&&Object(Z.D)(this.diagram)||Object(Z.G)(this.diagram)&&!Object(Z.I)(this.diagram)){if(this.tool&&(!(this.tool instanceof ye||this.tool instanceof ve)||(this.tool instanceof ye||this.tool instanceof ve)&&2===e.detail)){if(!this.isForeignObject(e.target)&&this.isMouseDown&&document.getElementById(this.diagram.element.id+"content").focus(),!this.inAction&&3!==e.which&&"Drag"===this.action){this.action="Select";var i=this.diagram.findObjectsUnderMouse(this.currentPosition),n=this.diagram.findObjectUnderMouse(i,this.action,this.inAction),r=!0;!e.ctrlKey&&this.isMouseDown&&this.diagram.selectedItems.nodes.length+this.diagram.selectedItems.connectors.length>1&&1===e.which&&!Object(Z.x)(this.diagram.diagramActions)&&(r=!1,this.commandHandler.clearSelection()),ie(this.diagram,n)&&r||this.commandHandler.selectObjects([n])}var o=this.updateContainerProperties(),a=void 0;if(this.addUmlNode(),this.inAction=!1,this.isMouseDown=!1,this.currentPosition=this.getMousePosition(e),this.diagram.selectedObject.helperObject&&(a=this.updateContainerBounds()),this.tool&&(this.tool.prevPosition||this.tool instanceof me)){this.eventArgs.position=this.currentPosition,this.getMouseEventArgs(this.currentPosition,this.eventArgs,this.eventArgs.source);var s=this.isMetaKey(e);if(s||e.shiftKey){var c=s&&e.shiftKey?{ctrlKey:s,shiftKey:e.shiftKey}:{ctrlKey:!0};this.eventArgs.info=c}if(this.diagram.diagramActions&v.c.Interactions&&(this.diagram.diagramActions=this.diagram.diagramActions&~v.c.Interactions),this.eventArgs.clickCount=e.detail,this.diagram.selectedObject.helperObject&&(this.tool instanceof ce||this.tool instanceof he)){if(this.diagram.selectedObject.actualObject&&""!==this.diagram.selectedObject.actualObject.parentId){var l=this.diagram.getObject(this.diagram.selectedObject.actualObject.parentId);l&&l.isLane&&(this.commandHandler.isContainer=!0)}this.tool.mouseUp(this.eventArgs,o.isPreventHistory)}else this.tool.mouseUp(this.eventArgs);o.hasStack&&this.diagram.endGroupAction()}if(a&&this.diagram.endGroupAction(),this.updateContainerBounds(!0),this.diagram.selectedObject&&this.diagram.selectedObject.helperObject&&(this.diagram.remove(this.diagram.selectedObject.helperObject),this.diagram.selectedObject={helperObject:void 0,actualObject:void 0}),this.blocked=!1,this.hoverElement){var h=v.m.Connect;ie(this.diagram,this.hoverElement)&&(h|=v.m.Hover),this.diagram.updatePortVisibility(this.hoverElement,h,!0),this.hoverElement=null}this.touchStartList=null,this.touchMoveList=null,this.tool instanceof ue||(this.tool=null)}t||e.preventDefault(),this.diagram.currentDrawingObject=void 0;var d=this.diagram.selectedItems;if(!this.inAction&&d.wrapper&&d.userHandles.length>0&&this.diagram.renderSelector(!0),!this.inAction&&!this.diagram.currentSymbol&&this.eventArgs){var p={element:this.eventArgs.source||this.diagram,position:this.eventArgs.position,count:e.detail,actualObject:this.eventArgs.actualObject};this.diagram.triggerEvent(v.e.click,p)}this.eventArgs={}}this.eventArgs={},this.diagram.commandHandler.removeStackHighlighter()},e.prototype.addSwimLaneObject=function(e){var t,i,n,r,o,a,s=0,c=e.shape,l=this.objectFinder.findObjectsUnderMouse(this.currentPosition,this.diagram,this.eventArgs,null,this.action);if(i||(i=this.diagram.findObjectUnderMouse(l,this.action,this.inAction)),this.diagram.clearSelectorLayer(),i&&!(i.isLane||i.isPhase||i.isHeader))for(var h=0;h<l.length;h++){var d=this.diagram.nameTable[l[h].id];(d.isLane||d.isPhase||d.isHeader)&&(i=d)}if(i&&(c.isPhase||c.isLane&&i.isLane)){var p=i.parentId;t=this.diagram.nameTable[p]}if(t&&(n=t.shape,o=c.isLane?c.orientation===n.orientation:c.orientation!==n.orientation),o&&i){if(n.header&&n.hasHeader&&"Horizontal"===n.orientation&&(s=1),n.phases.length>0&&(s+=1),c.isPhase){a="Horizontal"===n.orientation?this.currentPosition.x-t.wrapper.bounds.x:this.currentPosition.y-(t.wrapper.bounds.y+n.header.height);var u={id:Object(V.i)(),offset:a,header:{annotation:{content:"Phase"}}};this.diagram.addPhases(t,[u])}else{c.lanes[0].header.height;var f={id:Object(V.i)(),style:c.lanes[0].style,header:{annotation:{content:c.lanes[0].header.annotation.content,style:c.lanes[0].header.annotation.style},style:c.lanes[0].header.style}};"Horizontal"===c.orientation?f.height=c.lanes[0].height:f.width=c.lanes[0].width,"Horizontal"===n.orientation?(r=i.rowIndex?i.rowIndex:this.diagram.nameTable[i.parentId].rowIndex,i.wrapper.offsetY<this.currentPosition.y&&(r+=1)):(r=i.columnIndex?i.columnIndex:this.diagram.nameTable[i.parentId].columnIndex,this.currentPosition.x<i.wrapper.bounds.center.x&&(r-=1)),n.lanes.length>r-s?(f.header.width=n.lanes[r-s].header.width,f.header.height=n.lanes[r-s].header.height):(f.header.width=n.lanes[r-s-1].header.width,f.header.height=n.lanes[r-s-1].header.height),this.diagram.addLanes(t,[f],r-s)}this.commandHandler.select(t)}else if(c.isLane){var g={id:Object(V.i)(),width:e.width,height:e.height,shape:{type:"SwimLane",header:{annotation:{content:"Header"},height:50,style:c.lanes[0].header.style},phases:[{id:Object(V.i)(),header:{annotation:{content:"Phase"}}}],lanes:[{id:Object(V.i)(),height:e.height,width:e.width,style:c.lanes[0].style,header:{annotation:{content:c.lanes[0].header.annotation.content,style:c.lanes[0].header.annotation.style},style:c.lanes[0].header.style}}],orientation:c.orientation}};"Vertical"===c.orientation&&(g.width+=20),g.offsetX=this.currentPosition.x+g.width/2,g.offsetY=this.currentPosition.y+g.height/2,this.diagram.add(g)}},e.prototype.mouseLeave=function(e){(this.tool&&this.inAction&&this.tool.mouseLeave(this.eventArgs),this.diagram.selectedObject.helperObject)&&(this.updateContainerProperties(),this.updateContainerBounds()&&this.diagram.endGroupAction());this.eventArgs&&this.eventArgs.source&&(this.diagram.updatePortVisibility(this.eventArgs.source,v.m.Hover,!0),this.hoverElement=null),this.tool instanceof se&&this.eventArgs&&this.eventArgs.target&&this.eventArgs.target instanceof g.q&&(this.diagram.updatePortVisibility(this.eventArgs.target,v.m.Hover|v.m.Connect,!0),this.hoverElement=null);var t=this.diagram.selectedItems;t&&t.wrapper&&this.diagram.renderSelector(!0),(this.diagram.diagramActions&v.c.Interactions||this.diagram.diagramActions&v.c.ToolAction)&&(this.diagram.diagramActions=this.diagram.diagramActions&~v.c.ToolAction),this.isMouseDown=!1,this.focus=!1,this.touchStartList=null,this.touchMoveList=null,this.commandHandler.removeSnap(),this.inAction=!1,this.eventArgs={},this.tool=null,Object(E.d)(),"Rotate"===this.action&&this.diagram.diagramCanvas.classList.remove("e-diagram-rotate"),e.preventDefault()},e.prototype.mouseWheel=function(e){var t=e.wheelDelta>0||-40*e.detail>0,i=this.getMousePosition(e);if(this.diagram.tooltipObject.close(),this.isMetaKey(e))this.diagram.zoom(t?1.2:1/1.2,i),e.preventDefault();else{var n=this.diagram.scroller.horizontalOffset,r=this.diagram.scroller.verticalOffset,o=t?20:-20;this.tool&&(this.tool instanceof ye||this.tool instanceof ve)&&(this.eventArgs={},this.getMouseEventArgs(i,this.eventArgs),this.eventArgs.position=i,this.tool.mouseWheel(this.eventArgs)),e.shiftKey?this.diagram.scroller.zoom(1,o,0,i):this.diagram.scroller.zoom(1,0,o,i),n===this.diagram.scroller.horizontalOffset&&r===this.diagram.scroller.verticalOffset||e.preventDefault()}if(this.diagram.textEditing){if(this.diagram.isTriggerEvent=!0,this.diagram.activeLabel.parentId){var a=this.diagram.getObject(this.diagram.activeLabel.parentId);this.diagram.startTextEdit(a,this.diagram.activeLabel.id)}this.diagram.isTriggerEvent=!1}},e.prototype.keyDown=function(e){if(!(this.diagram.diagramActions&v.c.TextEdit)&&!this.checkEditBoxAsTarget(e)||"Escape"===e.key||27===e.keyCode){var t=void 0,i=e.keyCode?e.keyCode:e.which,n=e.key,r=this.isMetaKey(e);if(this.diagram.commandManager&&this.diagram.commands)for(var o=this.diagram.commands,a=0,s=Object.keys(o);a<s.length;a++){var c=s[a];if((t=this.diagram.commands[c])&&(t.gesture.keyModifiers||t.gesture.key)&&(i===t.gesture.key||n===v.i[t.gesture.key]||this.isDeleteKey(n,c))&&(!t.gesture.keyModifiers&&!e.altKey&&!e.shiftKey&&!r||t.gesture.keyModifiers&&(r||e.altKey||e.shiftKey)&&this.altKeyPressed(t.gesture.keyModifiers)&&e.altKey||this.shiftKeyPressed(t.gesture.keyModifiers)&&e.shiftKey||this.ctrlKeyPressed(t.gesture.keyModifiers)&&r)){var l=Object(V.f)(t.canExecute);if(l&&l({keyDownEventArgs:KeyboardEvent,parameter:t.parameter})){if(e.preventDefault(),"Escape"===e.key)if(this.checkEditBoxAsTarget(e))document.getElementById(this.diagram.diagramCanvas.id).focus();else if(this.diagram.currentSymbol){this.diagram.removeFromAQuad(this.diagram.currentSymbol),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[this.diagram.currentSymbol.id]),this.diagram.removeElements(this.diagram.currentSymbol),Object(m.H)(this.diagram.currentSymbol,this.diagram),delete this.diagram.nameTable[this.diagram.currentSymbol.id],this.diagram.droppable.sourceElement.draggable.intDestroy();var h=this.diagram.droppable.selectedSymbols;h.parentNode.removeChild(h);var d=this.diagram.diagramActions;this.diagram.diagramActions=this.diagram.addConstraints(d,v.c.PreventClearSelection),this.tool.mouseUp(this.eventArgs),this.diagram.diagramRenderer.rendererActions=this.diagram.removeConstraints(this.diagram.diagramRenderer.rendererActions,v.o.DrawSelectorBorder),this.diagram.previousSelectedObject&&this.diagram.select(this.diagram.previousSelectedObject),this.action="Select",this.diagram.previousSelectedObject=null,this.diagram.currentSymbol=null,this.diagram.diagramActions=this.diagram.removeConstraints(d,v.c.PreventClearSelection),this.isMouseDown=!1}if(t.execute)Object(V.f)(t.execute)({keyDownEventArgs:KeyboardEvent,parameter:t.parameter});break}}}}},e.prototype.startAutoScroll=function(e){var t=this.getMousePosition(e);t.x*=this.diagram.scroller.currentZoom,t.y*=this.diagram.scroller.currentZoom;var i,n=Object(E.b)(this.diagram),r=this.diagram.scrollSettings.autoScrollBorder;return this.diagram.scrollSettings.canAutoScroll&&(t.x+this.diagram.scroller.horizontalOffset+r.right+n.width>=this.diagram.scroller.viewPortWidth-18?i="right":t.x+this.diagram.scroller.horizontalOffset<r.left?i="left":t.y+this.diagram.scroller.verticalOffset+r.bottom+n.height>this.diagram.scroller.viewPortHeight-18?i="bottom":t.y+this.diagram.scroller.verticalOffset<r.top&&(i="top")),i},e.prototype.doAutoScroll=function(e,t,i,n){var r=e;if((this.tool instanceof ce||this.tool instanceof he||this.tool instanceof ae)&&this.inAction){var o=this.getMousePosition(t),a=(this.diagram.scrollSettings.autoScrollBorder,0),s=0,c={x:o.x,y:o.y};switch(r){case"right":c.x=o.x+10,a=10;break;case"left":c.x=o.x-10,a=-10;break;case"bottom":c.y=o.y+10,s=10;break;case"top":c.y=o.y-10,s=-10}this.eventArgs.position={x:c.x,y:c.y},this.tool.mouseMove(this.eventArgs),this.diagram.scroller.zoom(1,-a,-s,o)}},e.prototype.mouseEvents=function(){for(var e=this.diagram.findObjectsUnderMouse(this.currentPosition),t=0;t<e.length;t++)this.eventArgs.actualObject===e[t]&&e.splice(t,1);var i={targets:e,element:this.eventArgs.source===this.eventArgs.actualObject?void 0:this.eventArgs.source,actualObject:this.eventArgs.actualObject};if(this.lastObjectUnderMouse&&(!this.eventArgs.actualObject||this.lastObjectUnderMouse!==this.eventArgs.actualObject)){var n={targets:void 0,element:this.lastObjectUnderMouse,actualObject:void 0};this.diagram.triggerEvent(v.e.mouseLeave,n),this.lastObjectUnderMouse=null}(!this.lastObjectUnderMouse&&this.eventArgs.source||this.lastObjectUnderMouse!==this.eventArgs.actualObject)&&(this.lastObjectUnderMouse=this.eventArgs.actualObject,this.diagram.triggerEvent(v.e.mouseEnter,i)),this.eventArgs.actualObject&&this.diagram.triggerEvent(v.e.mouseOver,i)},e.prototype.elementEnter=function(e,t){if(!t){var i=this.hoverElement instanceof g.q&&this.hoverElement.constraints&v.k.Tooltip||this.hoverElement instanceof y.b&&this.hoverElement.constraints&v.b.Tooltip;Object(Pe.c)(this.diagram,i?this.hoverElement:void 0);var n=Object(m.y)(this.diagram,e,this.hoverElement);this.diagram.tooltipObject.close(),this.diagram.tooltipObject.offsetX=n.x,this.diagram.tooltipObject.offsetY=n.y,this.diagram.tooltipObject.dataBind(),Object(Z.m)(this.hoverElement,this.diagram)&&this.diagram.tooltipObject.open(this.diagram.element)}},e.prototype.elementLeave=function(){this.diagram.tooltipObject.close()},e.prototype.altKeyPressed=function(e){return!!(e&v.h.Alt)},e.prototype.ctrlKeyPressed=function(e){return!!(e&v.h.Control)},e.prototype.shiftKeyPressed=function(e){return!!(e&v.h.Shift)},e.prototype.scrolled=function(e){this.diagram.updateScrollOffset()},e.prototype.doubleClick=function(e){if(Object(Z.D)(this.diagram)){var t=void 0,i=this.diagram.findObjectsUnderMouse(this.currentPosition),n=this.diagram.findObjectUnderMouse(i,this.action,this.inAction);if(null!==n&&Object(Z.D)(this.diagram)){if(t=this.diagram.findElementUnderMouse(n,this.currentPosition),this.tool&&(this.tool instanceof ye||this.tool instanceof ve)){n||this.diagram,this.currentPosition,e.detail;this.tool.mouseUp(this.eventArgs),this.isMouseDown=!1,this.eventArgs={},this.tool=null,e.preventDefault()}else{var r=this.diagram.commandHandler.getObjectLayer(n.id);if(r&&!r.lock&&r.visible&&!(this.diagram.diagramActions&v.c.TextEdit)){var o="";"TextAnnotation"===n.shape.shape&&(o=n.id.split("_textannotation_")[1]),this.diagram.startTextEdit(n,o||(t instanceof I.a?t.id.split(n.id+"_")[1]:void 0))}}}var a={source:n||this.diagram,position:this.currentPosition,count:e.detail};this.diagram.triggerEvent(v.e.doubleClick,a)}},e.prototype.itemClick=function(e,t){var i=e;return Object(K.c)(this.diagram,i,!0)?i:null},e.prototype.inputChange=function(e){var t,i,n,r,o,a,s,c,l,h=document.getElementById(this.diagram.element.id+"_editBox"),d=document.getElementById(this.diagram.element.id+"_editTextBoxDiv"),p=h.value,u=p.split("\n");(!(r=this.diagram.selectedItems.nodes[0]?this.diagram.selectedItems.nodes[0]:this.diagram.selectedItems.connectors[0])&&this.tool instanceof ue||"SwimLane"===r.shape.type)&&(r=this.diagram.nameTable[this.diagram.activeLabel.parentId]),r&&("Text"!==r.shape.type&&r.annotations.length>0||"Text"===r.shape.type)&&(n=this.diagram.getWrapper(r.wrapper,this.diagram.activeLabel.id),t=(t=r.wrapper.bounds.width<n.bounds.width?r.wrapper.bounds.width:n.bounds.width)>90?t:90,s=Object(Ce.x)(n.style,p,void 0,void 0,t),i=Number(h.style.fontSize.split("px")[0]),u.length>1&&""===u[u.length-1]&&(s.height=s.height+i),c=this.diagram.scroller.transform,l=Object(Z.H)(this.diagram)?c.scale:1,a=(90>(a=s.width)?90:a)*l,o=(12>s.height?12:s.height)*l,d.style.left=(n.bounds.center.x+c.tx)*c.scale-a/2-2.5+"px",d.style.top=(n.bounds.center.y+c.ty)*c.scale-o/2-3+"px",d.style.width=a+"px",d.style.height=o+"px",h.style.minHeight="12px",h.style.minWidth="90px",h.style.width=a+"px",h.style.height=o+"px")},e.prototype.isAddTextNode=function(e,t){return!!(this.tool instanceof ue||t)&&(this.tool=null,e&&!Object(Z.c)(this.diagram)&&(this.diagram.drawingObject=void 0,this.diagram.currentDrawingObject=void 0),!(Object(m.t)(this.diagram.nodes,e.id)||Object(m.t)(this.diagram.connectors,e.id)||this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e)>-1))},e.prototype.checkEditBoxAsTarget=function(e){return!(!e.target||e.target.id!==this.diagram.element.id+"_editBox")},e.prototype.getMouseEventArgs=function(e,t,i){var n,r,o;return t.position=e,i?(r=this.diagram.findObjectsUnderMouse(this.currentPosition,i),n=this.diagram.findTargetObjectUnderMouse(r,this.action,this.inAction,t.position,i)):"Drag"===this.action||"ConnectorSourceEnd"===this.action||"SegmentEnd"===this.action||"OrthoThumb"===this.action||"BezierSourceThumb"===this.action||"BezierTargetThumb"===this.action||"ConnectorTargetEnd"===this.action||-1!==this.action.indexOf("Rotate")||-1!==this.action.indexOf("Resize")?(n=this.diagram.selectedItems,!this.diagram.currentSymbol&&"Drag"===this.action&&n&&this.diagram.selectedItems.nodes.length>0&&"SwimLane"===this.diagram.selectedItems.nodes[0].shape.type&&(r=this.diagram.findObjectsUnderMouse(this.currentPosition),n=this.diagram.findObjectUnderMouse(r,this.action,this.inAction))):(r=this.diagram.findObjectsUnderMouse(this.currentPosition),n=this.diagram.findObjectUnderMouse(r,this.action,this.inAction)),n&&n.isHeader&&(n=this.diagram.nameTable[n.parentId],this.eventArgs.actualObject=n),n&&(o=this.diagram.findElementUnderMouse(n,this.currentPosition)),i?(t.target=n,t.targetWrapper=o):(t.source=n,t.sourceWrapper=o),t.actualObject=this.eventArgs.actualObject,t.startTouches=this.touchStartList,t.moveTouches=this.touchMoveList,t},e.prototype.resetTool=function(){this.action="Select",this.hoverElement=null,this.hoverNode=null,this.tool=this.diagram.getTool(this.action),this.updateCursor()},e.prototype.getTool=function(e){switch(e){case"Select":return new ae(this.commandHandler,!0);case"Drag":return new ce(this.commandHandler);case"Rotate":return new le(this.commandHandler);case"LayoutAnimation":return new ge(this.commandHandler);case"Hyperlink":return new me(this.commandHandler);case"ResizeSouthEast":case"ResizeSouthWest":case"ResizeNorthEast":case"ResizeNorthWest":case"ResizeSouth":case"ResizeNorth":case"ResizeWest":case"ResizeEast":return new he(this.commandHandler,e);case"ConnectorSourceEnd":case"ConnectorTargetEnd":case"BezierSourceThumb":case"BezierTargetThumb":return new se(this.commandHandler,e);case"SegmentEnd":case"OrthoThumb":return new Se(this.commandHandler,e);case"Draw":var t=Object(m.m)(this.diagram.drawingObject);if("Node"===t&&"Text"===this.diagram.drawingObject.shape.type)return new ue(this.commandHandler);if("Node"===t&&"Polygon"===this.diagram.drawingObject.shape.shape&&!this.diagram.drawingObject.shape.points)return new ye(this.commandHandler);if("Node"===t||"Node"===t&&"Polygon"===this.diagram.drawingObject.shape.shape&&this.diagram.drawingObject.shape.points)return new de(this.commandHandler,this.diagram.drawingObject);if("Connector"===t&&"Polyline"===this.diagram.drawingObject.type)return new ve(this.commandHandler);if("Connector"===t)return new pe(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);break;case"Pan":return new fe(this.commandHandler,!1);case"PinchZoom":return new fe(this.commandHandler,!0);case"PortDrag":return new ce(this.commandHandler,"Port");case"PortDraw":return new pe(this.commandHandler,"ConnectorSourceEnd",this.diagram.drawingObject);case"LabelSelect":return new ae(this.commandHandler,!0,"LabelSelect");case"LabelDrag":return new be(this.commandHandler);case"LabelResizeSouthEast":case"LabelResizeSouthWest":case"LabelResizeNorthEast":case"LabelResizeNorthWest":case"LabelResizeSouth":case"LabelResizeNorth":case"LabelResizeWest":case"LabelResizeEast":return new we(this.commandHandler,e);case"LabelRotate":return new Oe(this.commandHandler)}return null},e.prototype.getCursor=function(e){var t=this.diagram.selectedItems.annotation?this.diagram.selectedItems.wrapper.children[0]:this.diagram.selectedItems;return function(e,t){if(t+=360,t%=360,-1===e.indexOf("Resize"))return ne[e];var i=ne[e];return t>=0&&t<25||t>=160&&t<=205||t>=340&&t<=360?i:t>=25&&t<=70||t>=205&&t<=250?"n-resize"===i||"s-resize"===i?"ne-resize":"nw-resize"===i||"se-resize"===i?"n-resize":"e-resize"===i||"w-resize"===i?"nw-resize":"e-resize":t>=70&&t<=115||t>=250&&t<=295?"n-resize"===i||"s-resize"===i?"e-resize":"nw-resize"===i||"se-resize"===i?"ne-resize":"e-resize"===i||"w-resize"===i?"n-resize":"nw-resize":t>=115&&t<=155||t>=295&&t<=340?"n-resize"===i||"s-resize"===i?"nw-resize":"nw-resize"===i||"se-resize"===i?"e-resize":"e-resize"===i||"w-resize"===i?"ne-resize":ne[e]:"n-resize"}(e,this.diagram.selectedItems.annotation?t.rotateAngle+t.parentTransform:t.rotateAngle)},e.prototype.findElementUnderMouse=function(e,t){return this.objectFinder.findElementUnderSelectedItem(e,t)},e.prototype.findObjectsUnderMouse=function(e,t){return this.objectFinder.findObjectsUnderMouse(e,this.diagram,this.eventArgs,t)},e.prototype.findObjectUnderMouse=function(e,t,i){return this.objectFinder.findObjectUnderMouse(this.diagram,e,t,i,this.eventArgs,this.currentPosition)},e.prototype.findTargetUnderMouse=function(e,t,i,n,r){return this.objectFinder.findObjectUnderMouse(this.diagram,e,t,i,this.eventArgs,n,r)},e.prototype.findActionToBeDone=function(e,t,i,n){return $(e,t,this.currentPosition,this.diagram,this.touchStartList,this.touchMoveList,n)},e.prototype.updateContainerBounds=function(e){var t=!1;if(this.diagram.selectedObject.helperObject){var i=this.tool instanceof he,n=this.diagram.selectedObject.actualObject,r=this.diagram.nameTable[n.parentId];e?Object(K.f)(this.diagram,n,this.currentPosition,i):((!r||r&&"SwimLane"!==r.shape.type)&&this.diagram.updateDiagramObject(n),t=Object(K.i)(this.diagram,n,this.currentPosition,i),this.diagram.updateSelector(),(n.isLane||n.isPhase)&&(this.diagram.clearSelection(),this.commandHandler.select(n)))}return t},e.prototype.updateContainerProperties=function(){var e,t,i,n,r=!1,o=!1,a={hasStack:!1,isPreventHistory:!1};if(this.diagram.selectedObject.helperObject){var s=this.diagram.findObjectsUnderMouse(this.currentPosition),c=this.diagram.findObjectUnderMouse(s,this.action,this.inAction);if(e=this.diagram.selectedObject.helperObject,"SwimLane"===(n=this.diagram.selectedObject.actualObject).shape.type&&(i=Object(Ee.h)(this.diagram,n.wrapper.children[0],0,!0)),"SwimLane"!==n.shape.type&&n.parentId&&"SwimLane"===this.diagram.getObject(n.parentId).shape.type&&c instanceof g.q&&this.diagram.getObject(c.parentId)&&"SwimLane"!==this.diagram.getObject(c.parentId).shape.type&&(c=this.diagram.getObject(c.parentId)),"Drag"===this.currentAction&&n.container&&"Canvas"===n.container.type&&n.parentId&&"SwimLane"===this.diagram.getObject(n.parentId).shape.type&&c&&c!==n&&c.container&&"Canvas"===c.container.type&&c.isLane&&n.isLane&&c.parentId===n.parentId)Object(Ee.k)(this.diagram,n,c,this.currentPosition),a.isPreventHistory=!0;else{var l=this.diagram.nameTable[n.parentId];(!l||l&&"SwimLane"!==l.shape.type)&&(n.offsetX=e.offsetX,n.offsetY=e.offsetY,n&&n.shape&&"UmlClassifier"!==n.shape.type&&(n.width=e.width,n.height=e.height),n.rotateAngle=e.rotateAngle);var h=void 0;if(l&&l.container&&"Stack"===l.container.type&&(this.diagram.startGroupAction(),o=!0),!c&&l&&l.container&&"Stack"===l.container.type&&"Drag"===this.action){var d=l.wrapper.children.indexOf(n.wrapper);if(h={targetIndex:void 0,target:void 0,sourceIndex:d,source:Object(V.b)(n)},d>-1){var p=l.children;p.splice(p.indexOf(n.id),1),this.diagram.nameTable[n.id].parentId="",t=!0,l.wrapper.children.splice(d,1)}}if(Object(K.e)(n,c,this.diagram,this.action),(l=Object(K.c)(this.diagram,n)?this.diagram.nameTable[n.parentId]:this.diagram.nameTable[n.parentId]||n)&&l.container&&"Canvas"===l.container.type&&(l.wrapper.maxWidth=l.maxWidth=l.wrapper.actualSize.width,l.wrapper.maxHeight=l.maxHeight=l.wrapper.actualSize.height,r=!0),Object(K.c)(this.diagram,n,!0)&&l&&"Canvas"===l.container.type?Object(K.b)(this.diagram,n):a=this.updateContainerPropertiesExtend(l,n,i,e,a),n.shape.lanes&&this.updateLaneChildNode(n),r&&(l.maxWidth=l.wrapper.maxWidth=void 0,l.maxHeight=l.wrapper.maxHeight=void 0),t){this.diagram.nodePropertyChange(l,{},{offsetX:l.offsetX,offsetY:l.offsetY,width:l.width,height:l.height,rotateAngle:l.rotateAngle});var u={type:"StackChildPositionChanged",redoObject:{sourceIndex:void 0,source:h.source},undoObject:h,category:"Internal"};this.diagram.diagramActions&v.c.UndoRedo||this.diagram.addHistoryEntry(u)}n&&n.container&&("Stack"===n.container.type||"Canvas"===n.container.type&&""===n.parentId)&&(n&&n.shape&&"UmlClassifier"===n.shape.type&&(n.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(n,{},{offsetX:n.offsetX,offsetY:n.offsetY,width:n.width,height:n.height,rotateAngle:n.rotateAngle}),n&&n.shape&&"UmlClassifier"===n.shape.type&&(n.wrapper.measureChildren=!1))}Object(Ee.t)(i,this.diagram),a.hasStack=o}return a},e.prototype.updateLaneChildNode=function(e){for(var t=0;t<e.shape.lanes.length;t++)if(e.shape.lanes[t].children&&e.shape.lanes[t].children.length>0)for(var i=0;i<e.shape.lanes[t].children.length;i++){var n=e.shape.lanes[t].children[i].id,r=this.diagram.nameTable[n];r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY}},e.prototype.updateContainerPropertiesExtend=function(e,t,i,n,r){if("ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction||"SwimLane"===t.shape.type){var o=Object(V.b)(t),a=!1;if(e&&e.container&&"Grid"===e.container.type){var s="SwimLane"===e.shape.type,c=s?e.wrapper.children[0]:e.wrapper,l=s?e.shape.padding:void 0,h=e.wrapper.bounds.x,d=e.wrapper.bounds.y;if(void 0!==t.columnIndex&&"Horizontal"===e.container.orientation&&(s&&t.isPhase||!s&&1===t.rowIndex)||"Vertical"===e.container.orientation&&(!s&&t.rowIndex>0&&t.columnIndex>0||s&&t.isLane)){if("Horizontal"===e.container.orientation&&t.isPhase&&t.wrapper.width>t.maxWidth&&(t.maxWidth=t.wrapper.width,t.wrapper.maxWidth=t.wrapper.width),Object(Ee.w)(this.diagram,t,e,n),c.updateColumnWidth(t.columnIndex,n.width,!0,l),t.isPhase){var p=e.shape.phases[t.columnIndex].header.id,u=this.diagram.nameTable[p];u.maxWidth<n.width&&(u.maxWidth=n.width,u.wrapper.maxWidth=n.width)}"SwimLane"===e.shape.type&&(e.width=e.width?c.width:e.width,Object(Ee.u)(this.diagram,e),e.wrapper.width=e.width,i=Object(Ee.h)(this.diagram,c,t.rowIndex,!1))}else void 0!==t.rowIndex&&(a=!0,Object(Ee.w)(this.diagram,t,e,n),c.updateRowHeight(t.rowIndex,n.height,!0,l),"SwimLane"===e.shape.type&&(e.height=e.height?c.height:e.height,e.wrapper.height=e.height,i=Object(Ee.h)(this.diagram,c,t.rowIndex,!0)));"SwimLane"===e.shape.type&&(r.isPreventHistory=!0),this.diagram.nodePropertyChange(e,{},{offsetX:e.offsetX,offsetY:e.offsetY,rotateAngle:e.rotateAngle}),this.diagram.drag(e,h-e.wrapper.bounds.x,d-e.wrapper.bounds.y)}else t&&t.shape&&"UmlClassifier"===t.shape.type&&(t.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(t,{},{offsetX:t.offsetX,offsetY:t.offsetY,width:t.width,height:t.height,rotateAngle:t.rotateAngle}),t.wrapper.measureChildren=!1;if(t.wrapper.measure(new T.a(t.wrapper.width,t.wrapper.height)),t.wrapper.arrange(t.wrapper.desiredSize),"ResizeEast"===this.currentAction||"ResizeSouth"===this.currentAction){var f={category:"Internal",type:a?"RowHeightChanged":"ColumnWidthChanged",undoObject:o,redoObject:Object(V.b)(t)};this.diagram.addHistoryEntry(f)}}return Object(Ee.t)(i,this.diagram),r},e.prototype.addUmlNode=function(){var e=this.diagram.selectedItems.nodes[0],t=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x+20,y:this.currentPosition.y}),i=this.diagram.findObjectUnderMouse(t,this.action,this.inAction);if(i||(t=this.diagram.findObjectsUnderMouse({x:this.currentPosition.x-20,y:this.currentPosition.y}),i=this.diagram.findObjectUnderMouse(t,this.action,this.inAction)),e&&e.container&&"Stack"===e.container.type&&i&&i.parentId&&i.parentId===e.id){var n=i,r=Object(Ce.g)(this.diagram.element.id);if(r.getElementById(r.id+"_stack_highlighter")){var o=e.wrapper.children.indexOf(i.wrapper)+1,a=new g.q(this.diagram,"nodes",{style:{fill:e.style.fill,strokeColor:"#ffffff00"},annotations:i.annotations,verticalAlignment:"Stretch",horizontalAlignment:"Stretch",constraints:(v.k.Default|v.k.HideThumbs)&~(v.k.Rotate|v.k.Drag|v.k.Resize),minHeight:25},!0);a.annotations[0].content=" + Name : Type";n.id.split("_");a.id=Object(V.i)()+a.id,a.parentId=e.id,a.zIndex=-1,a.umlIndex=o,this.diagram.startGroupAction();e.wrapper.children.indexOf(a.wrapper);this.diagram.add(a),this.diagram.updateConnectorEdges(e),this.diagram.select([this.diagram.nameTable[a.id]]),this.diagram.endGroupAction(),this.diagram.startTextEdit()}}},e}(),Ie=function(){function e(){}return e.prototype.findObjectsUnderMouse=function(e,t,i,n,r){var o,a,s,c,l=[];n&&n instanceof U.a&&n.nodes.length+n.connectors.length===1&&(n=n.nodes[0]||n.connectors[0]).children&&0===n.children.length&&(i.actualObject=n);for(var h,d={},p=0,u=t.spatialSearch.findObjects(new A.a(e.x-50,e.y-50,100,100));p<u.length;p++){var f=e;a=(C=u[p]).wrapper.outerBounds;var g=!C.rotateAngle&&a.containsPoint(f);if((C!==n||t.currentDrawingObject instanceof y.b)&&C instanceof y.b?C!==t.currentDrawingObject:C.wrapper.visible)if((j=t.commandHandler.getObjectLayer(C.id))&&!j.lock&&j.visible){if(h=d[j.zIndex]=d[j.zIndex]||[],C.rotateAngle){o=C.wrapper,a=Object(V.c)(o);for(var v=0,b=o.children;v<b.length;v++)s=b[v],c=Object(Q.a)(),Object(Q.c)(c,-(s.rotateAngle+s.parentTransform),s.offsetX,s.offsetY),f=Object(Q.e)(c,e),Object(V.c)(s).containsPoint(f)&&(g=!0)}if((!n||!1===ie(t,C))&&Object(Z.l)(C,t)&&(C instanceof y.b?Object(m.G)(C,e):g)){var w=C instanceof y.b&&C.hitPadding||0;this.findElementUnderMouse(C,e,w)&&"helper"!==C.id&&Object(m.C)(C,"zIndex",h)}}}for(var O=0,x=t.layers;O<x.length;O++)for(var j=x[O],S=0,P=l=l.concat(d[j.zIndex]||[]);S<P.length;S++){var C;if("Bpmn"===(C=P[S]).shape.type&&C.processId&&(!(t.eventHandler.tool instanceof ce)||t.eventHandler.tool instanceof ce&&Object(Z.b)(C)))(z=l.indexOf(t.nameTable[C.processId]))>-1&&l.splice(z,1);if("UmlClassifier"===C.shape.type&&C.container&&"Stack"===C.container.type)(z=l.indexOf(t.nameTable[t.nameTable[C.id].wrapper.children[0].id]))>-1&&l.splice(z,1)}for(var E=0;E<l.length;E++){var T=t.nameTable[l[E].parentId];if(T)for(var k=this.findElementUnderMouse(T,e),I=0;I<T.ports.length;I++)if(k.id.match("_"+T.ports[I].id+"$")){var M=T.ports[I];if(Object(Z.e)(M,t)||Object(Z.i)(M,t))return l}for(;T;){var z;if(-1===(z=l.indexOf(T)))break;l.splice(z,1),T=t.nameTable[T.parentId]}}if(i&&!i.source)for(E=0;E<l.length;E++){var D=t.nameTable[l[E].parentId];if(D&&"SwimLane"===D.shape.type)for(I=0;I<l.length;I++){l[I]instanceof y.b&&l.splice(E,1)}}return l},e.prototype.isTarget=function(e,t,i){var n,r=t.selectedItems.connectors[0];if(!(n="ConnectorSourceEnd"===i?t.nameTable[r.targetID]:n=t.nameTable[r.sourceID])||(n.processId||e.processId)&&n.processId===e.processId||(n.processId!==e.processId&&(e=null),e&&e.parentId&&"UmlClassifier"===t.nameTable[e.parentId].shape.type&&(e=t.nameTable[e.parentId])),"ConnectorSourceEnd"===i&&r.targetID){var o=t.nameTable[r.targetID];if(o&&o.shape&&"TextAnnotation"===o.shape.shape){var a=r.id.split("_");("Bpmn"===o.shape.type&&"Bpmn"!==e.shape.type||a[0]===e.id||"TextAnnotation"===e.shape.shape)&&(e=null),e.parentId&&"UmlClassifier"===t.nameTable[e.parentId].shape.type&&(e=t.nameTable[e.parentId])}}return e},e.prototype.findObjectUnderMouse=function(e,t,i,n,r,o,a){var s,c,l=null;if(0!==t.length)if(a&&a instanceof U.a&&a.nodes.length+a.connectors.length===1&&(a=a.nodes[0]||a.connectors[0]),"ConnectorSourceEnd"===i&&a||"PortDraw"===i||(Object(Z.j)(e)||Object(Z.c)(e))&&Object(m.u)(e.drawingObject)===y.b){for(var h=e.selectedItems.connectors[0],d=t.length-1;d>=0;d--)if(c=Object(m.s)(t[d],!1),t[d]instanceof g.q&&(Object(Z.q)(t[d])||Object(Z.w)(c)))return l=t[d],h&&(l=this.isTarget(l,e,i)),r.actualObject=l,l}else if("ConnectorTargetEnd"===i&&a){for(d=t.length-1;d>=0;d--)if(s=Object(m.s)(t[d],!0),t[d]instanceof g.q&&(Object(Z.n)(t[d])||Object(Z.v)(s)))return l=t[d],l=this.isTarget(l,e,i),r.actualObject=l,l}else{if(a&&("Drag"===i||e.eventHandler.tool instanceof ce)){var p=0;for(d=0;d<t.length;d++){var u=t[d];a!==u&&(u instanceof y.b||!o||u.wrapper.bounds.containsPoint(o))&&Object(Z.b)(u)&&(l?(l=p>=u.zIndex?l:u,p=Math.max(p,u.zIndex)):p=(l=u).zIndex)}return l&&"Bpmn"===l.shape.type&&(l=e.selectedItems.nodes.length>0&&"Bpmn"===e.selectedItems.nodes[0].shape.type?l:null),l&&(r.actualObject=l),l}if("Select"===i&&e.eventHandler.tool){for(d=t.length-1;d>=0;d--)if(t[d]instanceof y.b&&t[d-1]instanceof g.q&&t[d-1].ports){if((w=this.findTargetElement(t[d-1].wrapper,o,void 0))&&(w.id.match("_icon_content_shape$")||w.id.match("_icon_content_rect$")))return t[d-1];for(var f=0;f<t[d-1].ports.length;f++)if(w&&w.id.match("_"+t[d-1].ports[f].id+"$")&&Object(Z.i)(t[d-1].ports[f],e))return t[d-1]}if(l=t[t.length-1],r.actualObject=l,!e.eventHandler.itemClick(l,!0)&&l.parentId)for(var v=l,b=ie(e,v);v&&(!ie(e,v)||b);)l=v,v=e.nameTable[v.parentId]}else if("Pan"===i||"LayoutAnimation"===i){for(d=t.length-1;d>=0;d--)if(t[d]instanceof g.q){var w=this.findTargetElement(t[d].wrapper,o,void 0);if("LayoutAnimation"===i||"Pan"===i||w&&(w.id.match("_icon_content_shape$")||w.id.match("_icon_content_rect$")))return t[d]}}else l=t[t.length-1],r&&l&&(r.actualObject=l)}return l},e.prototype.findElementUnderSelectedItem=function(e,t){return e instanceof U.a?1!==e.nodes.length||e.connectors&&e.connectors.length?e.nodes&&!e.nodes.length||1!==e.connectors.length?null:this.findElementUnderMouse(e.connectors[0],t):this.findElementUnderMouse(e.nodes[0],t):this.findElementUnderMouse(e,t)},e.prototype.findElementUnderMouse=function(e,t,i){return this.findTargetElement(e.wrapper,t,i)},e.prototype.findTargetElement=function(e,t,i){for(var n=e.children.length-1;n>=0;n--){var r=e.children[n];if(r&&r.outerBounds.containsPoint(t)){if(r instanceof f.a){var o=this.findTargetElement(r,t);if(o)return o}if(r.bounds.containsPoint(t))return r}}return e.bounds.containsPoint(t,i)&&"none"!==e.style.fill?e:null},e}(),Ae=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Me=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},ze=function(e){function t(t,i,n,r){var o=e.call(this,t,i,n,r)||this;return o.objectZIndex=-1,o.zIndexTable={},o.objects=[],o}return Ae(t,e),Me([Object(n.q)("")],t.prototype,"id",void 0),Me([Object(n.q)(!0)],t.prototype,"visible",void 0),Me([Object(n.q)(!1)],t.prototype,"lock",void 0),Me([Object(n.q)()],t.prototype,"objects",void 0),Me([Object(n.q)()],t.prototype,"addInfo",void 0),Me([Object(n.q)(-1)],t.prototype,"zIndex",void 0),t}(n.d),De=function(){function e(e){this.clipboardData={},this.connectorsTable=[],this.processTable={},this.isContainer=!1,this.childTable={},this.parentTable={},this.diagram=e}return Object.defineProperty(e.prototype,"snappingModule",{get:function(){return this.diagram.snappingModule},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layoutAnimateModule",{get:function(){return this.diagram.layoutAnimateModule},enumerable:!0,configurable:!0}),e.prototype.startTransaction=function(e){this.state={element:this.diagram.selectedItems,backup:null},e&&this.diagram.protectPropertyChange(!0),Object(Ce.f)(this.diagram.element.id).style.pointerEvents="none"},e.prototype.endTransaction=function(e){this.state=null,e&&this.diagram.protectPropertyChange(!1),Object(Ce.f)(this.diagram.element.id).style.pointerEvents="all"},e.prototype.showTooltip=function(e,t,i,n,r){var o=this;r&&(this.diagram.tooltipObject.position="BottomCenter",this.diagram.tooltipObject.animation={open:{delay:0,duration:0}},this.diagram.tooltip.relativeMode="ConnectTool"===n?"Mouse":"Object",this.diagram.tooltipObject.openDelay=0,this.diagram.tooltipObject.closeDelay=0),this.diagram.tooltipObject.content=i;var a=Object(m.y)(this.diagram,{x:t.x,y:t.y},e);this.diagram.tooltipObject.offsetX=a.x+("ConnectTool"===n?10:0),this.diagram.tooltipObject.offsetY=a.y+10,this.diagram.tooltipObject.dataBind(),r&&setTimeout(function(){o.diagram.tooltipObject.open(o.diagram.element)},1)},e.prototype.closeTooltip=function(){this.diagram.tooltipObject.close()},e.prototype.canEnableDefaultTooltip=function(){return!!(this.diagram.selectedItems.constraints&v.p.ToolTip)},e.prototype.updateSelector=function(){this.diagram.updateSelector()},e.prototype.triggerEvent=function(e,t){if(e===v.e.drop||e===v.e.positionChange||e===v.e.connectionChange){if(this.diagram.currentSymbol)return;if(e===v.e.drop&&(t.source=this.diagram),this.diagram.currentDrawingObject)return}this.diagram.triggerEvent(e,t)},e.prototype.dragOverElement=function(e,t){if(this.diagram.currentSymbol){var i={element:e.source,target:e.target,mousePosition:t,diagram:this.diagram};this.triggerEvent(v.e.dragOver,i)}},e.prototype.disConnect=function(e,t){var i,n={},r={};if(e instanceof U.a?i=e.connectors[0]:e instanceof y.b&&this.diagram.currentDrawingObject&&(i=this.diagram.currentDrawingObject),e&&i&&(te(this.diagram)||this.diagram.currentDrawingObject))if(!t||"ConnectorSourceEnd"!==t&&"ConnectorTargetEnd"!==t){if("OrthoThumb"!==t&&"SegmentEnd"!==t&&(i.sourceID||i.targetID)){n={sourceID:i.sourceID,sourcePortID:i.sourcePortID,targetID:i.targetID,targetPortID:i.targetPortID},i.sourceID="",i.sourcePortID="",i.targetID="",i.targetPortID="";var o={connector:i,oldValue:n,newValue:r={sourceID:i.sourceID,sourcePortID:i.sourcePortID,targetID:i.targetID,targetPortID:i.targetPortID},cancel:!1,state:"Changing",connectorEnd:t};this.triggerEvent(v.e.connectionChange,o),o.cancel?(i.sourceID=n.sourceID,i.sourcePortID=n.sourcePortID,i.targetID=n.targetID,i.targetPortID=n.targetPortID):(this.diagram.connectorPropertyChange(i,n,r),this.diagram.updateDiagramObject(i),o={connector:i,oldValue:n,newValue:r,cancel:!1,state:"Changed",connectorEnd:t},this.triggerEvent(v.e.connectionChange,o))}}else{var a="ConnectorSourceEnd"===t?"sourceID":"targetID",s="ConnectorSourceEnd"===t?"sourcePortID":"targetPortID";i[a]&&(n[a]=i[a],i[a]="",r[a]=i[a],(i.sourcePortID||i.targetPortID)&&(n[s]=i[s],i[s]="",r[s]=i[s]),this.connectionEventChange(i,n,r,t))}},e.prototype.connectionEventChange=function(e,t,i,n){var r="ConnectorSourceEnd"===n?"sourceID":"targetID",o="ConnectorSourceEnd"===n?"sourcePortID":"targetPortID",a={connector:e,oldValue:{nodeId:t[r],portId:t[o]},newValue:{nodeId:i[r],portId:i[o]},cancel:!1,state:"Changing",connectorEnd:n};this.triggerEvent(v.e.connectionChange,a),a.cancel?(e[r]=t[r],e[o]=t[o],i=t):(this.diagram.connectorPropertyChange(e,t,i),this.diagram.updateDiagramObject(e),a={connector:e,oldValue:{nodeId:t[r],portId:t[o]},newValue:{nodeId:i[r],portId:i[o]},cancel:!1,state:"Changed",connectorEnd:n},this.triggerEvent(v.e.connectionChange,a))},e.prototype.findTarget=function(e,t,i,n){if(t instanceof g.q){if(e&&e.id===t.id+"_content")return t;if(i&&"Bpmn"===t.shape.type&&"Activity"===t.shape.shape&&"Transaction"===t.shape.activity.subProcess.type){var r=t.shape.activity.subProcess.transaction;if(r.success.visible&&0===e.id.indexOf(t.id+"_success"))return r.success;if(r.cancel.visible&&0===e.id.indexOf(t.id+"_cancel"))return r.cancel;if(r.failure.visible&&0===e.id.indexOf(t.id+"_failure"))return r.failure}if(e instanceof k.a)for(var o=0;o<t.ports.length;o++){var a=t.ports[o];if(e.id===t.id+"_"+a.id)return a}}if(!n){var s=void 0;for(o=0;o<t.annotations.length;o++)if(s=t.annotations[o],e.id===t.id+"_"+s.id)return s}return t},e.prototype.canDisconnect=function(e,t,i,n){var r;t.source instanceof U.a?r=t.source.connectors[0]:t.source instanceof y.b&&this.diagram.currentDrawingObject&&(r=this.diagram.currentDrawingObject);this.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===e,!0);var o="ConnectorSourceEnd"===e?"sourcePortID":"targetPortID";return r["ConnectorSourceEnd"===e?"sourceID":"targetID"]!==n||r[o]!==i},e.prototype.changeAnnotationDrag=function(e){var t;if(e.source&&e.source.connectors&&e.source.connectors.length&&this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e.source.connectors[0])>-1){e.source instanceof U.a&&(t=e.source.connectors[0]);var i=t.id.split("_"),n=(i[i.length-1],i[i.length-3]||i[0]);if(e.target&&e.target.id!==n&&"TextAnnotation"!==e.target.shape.shape){this.diagram.startGroupAction();var r=this.diagram.nameTable[i[0]],o=this.getAnnotation(r,i[1]),a={id:i[1]+Object(V.i)(),angle:X.a.findAngle(t.intermediatePoints[0],t.intermediatePoints[1]),text:o.text,length:X.a.distancePoints(t.intermediatePoints[0],t.intermediatePoints[1]),shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:o.nodeId},s=new g.c(e.target.shape,"annotations",a,!0);this.diagram.bpmnModule.checkAndRemoveAnnotations(this.diagram.nameTable[t.targetID],this.diagram),this.diagram.refreshCanvasLayers(),s.id=i[1],this.diagram.addTextAnnotation(s,e.target),this.diagram.endGroupAction()}else t&&(t.sourceID=n,this.diagram.connectorPropertyChange(t,{},{sourceID:n}),this.diagram.updateDiagramObject(t))}},e.prototype.connect=function(e,t){var i,n,r,o={},a={};t.source instanceof U.a?r=t.source.connectors[0]:t.source instanceof y.b&&this.diagram.currentDrawingObject&&(r=this.diagram.currentDrawingObject);var s=this.findTarget(t.targetWrapper,t.target,"ConnectorSourceEnd"===e,!0),c="ConnectorSourceEnd"===e?"sourceID":"targetID",l="ConnectorSourceEnd"===e?"sourcePortID":"targetPortID";if(s instanceof g.q)a[c]=r[c],r[c]=s.id,o[c]=r[c],a[l]=r[l],this.connectionEventChange(r,a,o,e);else{i=r[c],n=r[l],r[l]=s.id,r[c]=t.target.id,o[c]=r[c],o[l]=r[l];var h={connector:r,oldValue:{nodeId:i,portId:n},newValue:{nodeId:o[c],portId:o[l]},cancel:!1,state:"Changing",connectorEnd:e};this.triggerEvent(v.e.connectionChange,h),h.cancel?(r[c]=i,r[l]=n,o[c]=i,o[l]=n):(this.diagram.connectorPropertyChange(r,a,o),this.diagram.updateDiagramObject(r),h={connector:r,oldValue:{nodeId:i,portId:n},newValue:{nodeId:o[c],portId:o[l]},cancel:!1,state:"Changed",connectorEnd:e},this.triggerEvent(v.e.connectionChange,h))}this.renderHighlighter(t,void 0,"ConnectorSourceEnd"===e)},e.prototype.cut=function(){this.clipboardData.pasteIndex=0,this.diagram.undoRedoModule&&this.diagram.historyManager.startGroupAction(),this.clipboardData.clipObject=this.copyObjects(),this.diagram.undoRedoModule&&this.diagram.historyManager.endGroupAction(),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()},e.prototype.addLayer=function(e,t){e.id=e.id||Object(V.i)(),e.zIndex=this.diagram.layers.length,(e=new ze(this.diagram,"layers",e,!0)).objectZIndex=-1,e.zIndexTable={},this.diagram.layers.push(e),this.diagram.layerZIndexTable[e.zIndex]=e.id,this.diagram.activeLayer=e;e.objects;if(t)for(var i=0;i<t.length;i++)this.diagram.add(t[i])},e.prototype.getObjectLayer=function(e){for(var t=this.diagram.layers,i=0;i<t.length;i++){if(t[i].objects.indexOf(e)>-1)return t[i]}return this.diagram.activeLayer},e.prototype.getLayer=function(e){for(var t=this.diagram.layers,i=0;i<t.length;i++)if(t[i].id===e)return t[i]},e.prototype.removeLayer=function(e){var t=this.getLayer(e);if(t){for(var i=this.diagram.layers.indexOf(t),n=t.objects,r=n.length-1;r>=0;r--)this.diagram.unSelect(this.diagram.nameTable[n[r]]),this.diagram.remove(this.diagram.nameTable[n[r]]),"default_layer"!==t.id&&this.diagram.activeLayer.id===e&&(this.diagram.activeLayer=this.diagram.layers[this.diagram.layers.length-1]);delete this.diagram.layerZIndexTable[t.zIndex],this.diagram.layers.splice(i,1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.moveObjects=function(e,t){var i,n=this.getLayer(t)||this.diagram.activeLayer;this.diagram.setActiveLayer(n.id);for(var r=0,o=e;r<o.length;r++){var a=o[r];this.getObjectLayer(a).objects.indexOf(a)>-1&&(i=this.diagram.nameTable[a],this.diagram.unSelect(i),this.diagram.remove(this.diagram.nameTable[a]),this.diagram.add(i))}},e.prototype.cloneLayer=function(e){this.diagram.layers;var t=this.getLayer(e);if(t){var i=[],n={id:e+"_"+Object(V.i)(),objects:[],visible:!0,lock:!1};this.addLayer(n),n.zIndex=this.diagram.layers.length-1;i.length;for(var r=0,o=t.objects;r<o.length;r++){var a=o[r];i.push(this.diagram.nameTable[a])}this.paste(i)}},e.prototype.copy=function(){return this.clipboardData.pasteIndex=1,this.clipboardData.clipObject=this.copyObjects(),this.clipboardData.clipObject},e.prototype.copyObjects=function(){var e=[],t=[];if(this.clipboardData.childTable={},this.diagram.selectedItems.connectors.length>0){e=this.diagram.selectedItems.connectors;for(var i=0;i<e.length;i++){var n=void 0;n=this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(e[i])>-1?Object(V.b)(this.diagram.nameTable[e[i].targetID]):Object(V.b)(e[i]),t.push(n)}}if(this.diagram.selectedItems.nodes.length>0){e=e.concat(this.diagram.selectedItems.nodes);for(i=0;i<this.diagram.selectedItems.nodes.length;i++){var r=Object(V.b)(this.diagram.selectedItems.nodes[i]);this.copyProcesses(r),t.push(Object(V.b)(r));var o=Object(Q.a)();if(Object(Q.c)(o,-r.rotateAngle,r.offsetX,r.offsetY),r.children){for(var a=this.clipboardData.childTable,s=void 0,c=this.getAllDescendants(r,[],!0),l=0;l<c.length;l++){var h=a[(s=this.diagram.nameTable[c[l].id]).id]=Object(V.b)(s),d=Object(Q.e)(o,{x:h.wrapper.offsetX,y:h.wrapper.offsetY});s instanceof g.q&&(h.offsetX=d.x,h.offsetY=d.y,h.rotateAngle-=r.rotateAngle)}this.clipboardData.childTable=a}if("SwimLane"===r.shape.type){var p=this.diagram.getObject(this.diagram.selectedItems.nodes[i].id),u=(a=this.clipboardData.childTable,Object(Ee.h)(this.diagram,p.wrapper.children[0],0,!0));for(l=0;l<u.length;l++){var f=this.diagram.getObject(u[l]);a[f.id]=Object(V.b)(f)}}if(r&&r.isLane){a=this.clipboardData.childTable,p=this.diagram.getObject(r.parentId);var m=Object(Ee.g)(p,r);a[r.id]=Object(V.b)(p.shape.lanes[m]),a[r.id].width=p.wrapper.actualSize.width}}}if(0===this.clipboardData.pasteIndex){this.startGroupAction();for(var y=0,v=e;y<v.length;y++){var b=v[y];this.diagram.nameTable[b.id]&&(this.diagram.bpmnModule&&this.diagram.bpmnModule.textAnnotationConnectors.indexOf(b)>-1?this.diagram.remove(this.diagram.nameTable[b.targetID]):this.diagram.remove(b))}this.endGroupAction()}return this.sortByZIndex(t,"zIndex"),t},e.prototype.copyProcesses=function(e){if("Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0){for(var t=0,i=e.shape.activity.subProcess.processes;t<i.length;t++){var n=i[t];this.processTable[n]=Object(V.b)(this.diagram.nameTable[n]),this.processTable[n].shape.activity.subProcess.processes&&this.processTable[n].shape.activity.subProcess.processes.length>0&&this.copyProcesses(this.processTable[n])}this.clipboardData.processTable=this.processTable}},e.prototype.group=function(){var e=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|v.c.Group;var t,i=[],n={};n.id="group"+Object(V.i)(),(n=new g.q(this.diagram,"nodes",n,!0)).children=[],i=(i=this.diagram.selectedItems.nodes).concat(this.diagram.selectedItems.connectors);for(var r=0;r<i.length;r++)i[r].parentId||n.children.push(i[r].id);(t=this.diagram.add(n))&&this.select(t);var o={type:"Group",undoObject:n,redoObject:n,category:"Internal"};this.addHistoryEntry(o),this.diagram.diagramActions=this.diagram.diagramActions&~v.c.Group,this.diagram.protectPropertyChange(e)},e.prototype.unGroup=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0),this.diagram.diagramActions=this.diagram.diagramActions|v.c.Group;var i=[];e?i.push(e):i=this.diagram.selectedItems.nodes;for(var n=0;n<i.length;n++){var r=i[n],o={type:"UnGroup",undoObject:Object(V.b)(r),redoObject:Object(V.b)(r),category:"Internal"};if(this.diagram.diagramActions&v.c.UndoRedo||this.addHistoryEntry(o),r.children){r.ports&&r.ports.length>0&&this.diagram.removePorts(r,r.ports),r.annotations&&r.annotations.length>0&&this.diagram.removeLabels(r,r.annotations);for(var a=this.diagram.nameTable[r.parentId],s=r.children.length-1;s>=0;s--)this.diagram.nameTable[r.children[s]].parentId="",this.diagram.deleteChild(this.diagram.nameTable[r.children[s]],r),r.parentId&&r.children[s]&&this.diagram.addChild(a,r.children[s]);r.parentId&&this.diagram.deleteChild(r,a)}this.diagram.removeNode(r),this.clearSelection()}this.diagram.diagramActions=this.diagram.diagramActions&~v.c.Group,this.diagram.protectPropertyChange(t)},e.prototype.paste=function(e){if(e||this.clipboardData.clipObject){this.diagram.protectPropertyChange(!0);var t=e?this.getNewObject(e):this.clipboardData.clipObject;if(t){var i=1!==t.length,n=!1,r={},o={};0!==this.clipboardData.pasteIndex&&this.clearSelection(),this.diagram.undoRedoModule&&(n=!0,this.diagram.historyManager.startGroupAction());for(var a=0,s=t;a<s.length;a++){r[(l=s[a]).id]=l}for(var c=0;c<t.length;c++){var l=t[c];if(Object(m.u)(l)===y.b){var h=Object(V.b)(l),d=h.sourceID;h.sourceID="",r[d]&&o[d]&&(h.sourceID=o[d]),d=h.targetID,h.targetID="",r[d]&&o[d]&&(h.targetID=o[d]);var p=this.cloneConnector(h,i);o[l.id]=p.id}else{var u=this.cloneNode(l,i);if(u){o[l.id]=u.id;var f=l.inEdges;if(f)for(var g=0,v=f;g<v.length;g++){if(r[O=v[g]]&&o[O])(x=this.diagram.nameTable[o[O]]).targetID=o[l.id],this.diagram.connectorPropertyChange(x,{targetID:"",targetPortID:""},{targetID:x.targetID,targetPortID:x.targetPortID})}if(f=l.outEdges)for(var b=0,w=f;b<w.length;b++){var O,x;if(r[O=w[b]]&&o[O])(x=this.diagram.nameTable[o[O]]).sourceID=o[l.id],this.diagram.connectorPropertyChange(x,{sourceID:"",sourcePortID:""},{sourceID:x.sourceID,sourcePortID:x.sourcePortID})}}}}!0===n&&(this.diagram.historyManager.endGroupAction(),n=!1),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.clipboardData.pasteIndex++,this.diagram.protectPropertyChange(!1)}}},e.prototype.getNewObject=function(e){var t,i=[];this.clipboardData.pasteIndex=1;for(var n=0;n<e.length;n++)t=Object(V.b)(e[n]),i.push(t);return i},e.prototype.cloneConnector=function(e,t){var i,n=Object(V.b)(e);return this.translateObject(n),n.zIndex=-1,i=this.diagram.add(n),this.selectObjects([i],t),i},e.prototype.cloneNode=function(e,t,i,n){var r,o,a={},s=Object(V.b)(e),c=this.diagram.nameTable[e.parentId];if(e.shape&&"Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length&&(o=s.shape.activity.subProcess.processes,s.zIndex=-1,s.shape.activity.subProcess.processes=void 0),e.shape&&"SwimLane"===e.shape.type)Object(Ee.l)(e,this.diagram,this.clipboardData);else if(c&&"SwimLane"===c.shape.type)Object(Ee.l)(Object(V.b)(c),this.diagram,this.clipboardData,e,!0);else if(!e.children||!e.children.length||i&&i.length)if(e.shape&&"TextAnnotation"===e.shape.shape&&-1!==e.id.indexOf("_textannotation_")&&this.diagram.nameTable[e.id])for(var l=e.id.split("_textannotation_"),h=void 0,d=this.diagram.nameTable[e.id],p=0;p<d.inEdges.length;p++){var u=this.diagram.nameTable[d.inEdges[p]];if(u){h=this.diagram.nameTable[u.sourceID];var f=this.getAnnotation(h,l[1]),g={id:l[1]+Object(V.i)(),angle:f.angle,text:f.text,length:f.length,shape:{shape:"TextAnnotation",type:"Bpmn"},nodeId:f.nodeId};this.diagram.addTextAnnotation(g,h)}}else this.translateObject(s,n),s.zIndex=-1,i&&(s.children=i),r=this.diagram.add(s);else r=this.cloneGroup(e,t);for(var m=0,y=Object.keys(a);m<y.length;m++){var v=y[m];this.diagram.add(a[v])}return o&&o.length&&(r.shape.activity.subProcess.processes=o,this.cloneSubProcesses(r)),r&&this.selectObjects([r],t),r},e.prototype.getAnnotation=function(e,t){var i=e.shape.annotations;if(i&&i.length)for(var n=0;n<=i.length;n++)if(i[n].id===t)return i[n]},e.prototype.cloneSubProcesses=function(e){var t=[],i={};if("Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length)for(var n=e.shape.activity.subProcess.processes,r=0;r<n.length;r++){for(var o=this.diagram.nameTable[n[r]]||this.clipboardData.processTable[n[r]],a=0,s=o.outEdges;a<s.length;a++){var c=s[a];t.indexOf(c)<0&&t.push(c)}for(var l=0,h=o.inEdges;l<h.length;l++){c=h[l];t.indexOf(c)<0&&t.push(c)}var d=Object(V.b)(this.clipboardData.processTable[n[r]]);d.processId=e.id;var p=this.cloneNode(d,!1);i[n[r]]=p.id,n[r]=p.id,this.diagram.addProcess(p,e.id);for(var u=0,f=t;u<f.length;u++){var g=f[u],m=this.diagram.nameTable[g]||this.diagram.connectorTable[g],y=Object(V.b)(m);i[y.sourceID]&&i[y.targetID]&&(y.zIndex=-1,y.id+=Object(V.i)(),y.sourceID=i[y.sourceID],y.targetID=i[y.targetID],t.splice(t.indexOf(g),1),this.diagram.add(y))}}},e.prototype.cloneGroup=function(e,t){var i,n=[],r=[],o=[],a=[];r=r.concat(e.children);var s=Object(V.i)();if(this.clipboardData.childTable||e.children.length>0)for(var c=0;c<r.length;c++){var l=void 0;(l=this.clipboardData.childTable?this.clipboardData.childTable[r[c]]:this.diagram.nameTable[r[c]]).parentId="",l&&(Object(m.u)(l)===y.b?o.push(l):(i=this.cloneNode(l,t,void 0,s),a.push(l.id),n.push(i.id)))}for(var h=0;h<o.length;h++){if(o[h].sourceID||o[h].targetID)for(var d=0;d<a.length;d++)o[h].sourceID===a[d]&&(o[h].sourceID+=s),o[h].targetID===a[d]&&(o[h].targetID+=s);i=this.cloneConnector(o[h],t),n.push(i.id)}var p=this.cloneNode(e,t,n);return p&&p.container&&p.shape&&"UmlClassifier"===p.shape.type&&(this.diagram.updateDiagramObject(p),p.wrapper.measure(new T.a)),p},e.prototype.translateObject=function(e,t){e.id+=t||Object(V.i)();var i=10*this.clipboardData.pasteIndex;if(Object(m.u)(e)===y.b){if(e.sourcePoint={x:e.sourcePoint.x+i,y:e.sourcePoint.y+i},e.targetPoint={x:e.targetPoint.x+i,y:e.targetPoint.y+i},"Bezier"===e.type)for(var n=e.segments,r=0;r<n.length;r++)X.a.isEmptyPoint(n[r].point1)||(n[r].point1={x:n[r].point1.x+i,y:n[r].point1.y+i}),X.a.isEmptyPoint(n[r].point2)||(n[r].point2={x:n[r].point2.x+i,y:n[r].point2.y+i});if(("Straight"===e.type||"Bezier"===e.type)&&e.segments&&e.segments.length>0)for(n=e.segments,r=0;r<n.length-1;r++)n[r].point.x+=i,n[r].point.y+=i}else e.offsetX+=i,e.offsetY+=i},e.prototype.drawObject=function(e){var t,i;i=Object(V.b)(this.diagram.drawingObject);for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];i[o]=e[o]}return Object(m.u)(this.diagram.drawingObject)===g.q?((t=new g.q(this.diagram,"nodes",i,!0)).id=(this.diagram.drawingObject.id||"node")+Object(V.i)(),this.diagram.initObject(t)):((t=new y.b(this.diagram,"connectors",i,!0)).id=(this.diagram.drawingObject.id||"connector")+Object(V.i)(),this.diagram.initObject(t)),this.diagram.updateDiagramObject(t),this.diagram.currentDrawingObject=t,t},e.prototype.addObjectToDiagram=function(e){var t;this.diagram.removeFromAQuad(e),this.diagram.removeObjectsFromLayer(this.diagram.nameTable[e.id]),delete this.diagram.nameTable[e.id],t=this.diagram.add(e),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer(),this.selectObjects([t]),e&&!Object(Z.c)(this.diagram)&&(this.diagram.tool&=~v.f.DrawOnce,this.diagram.currentDrawingObject=void 0)},e.prototype.addText=function(e,t){var i=this.diagram.findElementUnderMouse(e,t);this.diagram.startTextEdit(e,i instanceof I.a?i.id.split("_")[1]:void 0)},e.prototype.selectObjects=function(e,t,i){var n={oldValue:i||[],newValue:e,cause:this.diagram.diagramActions,state:"Changing",type:"Addition",cancel:!1};this.diagram.triggerEvent(v.e.selectionChange,n);var r=Object(Z.p)(this.diagram),o=Object(Z.C)(this.diagram);if(o||r){if(!r&&(e.length>1||t&&1===e.length)){if(1!==e.length)return;this.clearSelection()}if(!o&&1===e.length&&(!t||!ee(this.diagram)))return void this.clearSelection()}if(!n.cancel){for(var a=0;a<e.length;a++){var s=e[a];if(!0,ee(this.diagram)){if((a>0||t)&&s.children&&!s.parentId)for(var c=0;c<this.diagram.selectedItems.nodes.length;c++){var l=this.diagram.nameTable[this.diagram.selectedItems.nodes[c].parentId];l&&(l=this.findParent(l))&&s.id===l.id&&this.selectGroup(s)}this.selectProcesses(s),this.selectBpmnSubProcesses(s)&&this.select(s,a>0||t,!0)}else this.select(s,a>0||t,!0)}n={oldValue:i||[],newValue:e,cause:this.diagram.diagramActions,state:"Changed",type:"Addition",cancel:!1},this.diagram.triggerEvent(v.e.selectionChange,n),this.diagram.renderSelector(t||e&&e.length>1)}},e.prototype.findParent=function(e){return e.parentId&&(e=this.diagram.nameTable[e.parentId],this.findParent(e)),e},e.prototype.selectProcesses=function(e){if(this.hasProcesses(e))for(var t=e.shape.activity.subProcess.processes,i=0;i<t.length;i++){var n=this.diagram.nameTable[t[i]];this.hasProcesses(n)&&this.selectObjects([n],!0),this.unSelect(n)}},e.prototype.selectGroup=function(e){for(var t=0;t<e.children.length;t++){var i=this.diagram.nameTable[e.children[t]];i.children&&this.selectGroup(i),this.unSelect(this.diagram.nameTable[e.children[t]])}},e.prototype.selectBpmnSubProcesses=function(e){var t,i=!0;if(e.processId)i=!ie(this.diagram,this.diagram.nameTable[e.processId])&&this.selectBpmnSubProcesses(this.diagram.nameTable[e.processId]);else if(e instanceof y.b&&(e.sourceID&&this.diagram.nameTable[e.sourceID]&&this.diagram.nameTable[e.sourceID].processId&&(t=this.diagram.nameTable[e.sourceID].processId),e.targetID&&this.diagram.nameTable[e.targetID]&&this.diagram.nameTable[e.targetID].processId&&(t=this.diagram.nameTable[e.targetID].processId),t)){if(ie(this.diagram,this.diagram.nameTable[t]))return!1;i=this.selectBpmnSubProcesses(this.diagram.nameTable[t])}return i},e.prototype.hasProcesses=function(e){return!!(e&&"Bpmn"===e.shape.type&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length>0)},e.prototype.select=function(e,t,i){var n=this.getObjectLayer(e.id);if(Object(Z.A)(e)&&!(e instanceof U.a)&&!ie(this.diagram,e)&&n&&!n.lock&&n.visible&&e.wrapper.visible){(t=!!ee(this.diagram)&&t)||this.clearSelection();var r=this.diagram.selectedItems;if(e instanceof g.q)if(e.isHeader){var o=this.diagram.nameTable[e.parentId];r.nodes.push(o)}else r.nodes.push(e);else r.connectors.push(e);if(t)r.wrapper.rotateAngle=r.rotateAngle=0,r.wrapper.children.push(e.wrapper);else if(r.init(this.diagram),1===r.nodes.length&&0===r.connectors.length){var a=Object(Ee.i)(this.diagram,r);a&&(r.wrapper.children[0]=a),r.rotateAngle=r.nodes[0].rotateAngle,r.wrapper.rotateAngle=r.nodes[0].rotateAngle,r.wrapper.pivot=r.nodes[0].pivot}i||this.diagram.renderSelector(t)}},e.prototype.labelSelect=function(e,t){var i=this.diagram.selectedItems;i.nodes=i.connectors=[],e instanceof g.q?i.nodes[0]=e:i.connectors[0]=e,i.annotation=this.findTarget(t,e),i.init(this.diagram),this.diagram.renderSelector(!1)},e.prototype.unSelect=function(e){var t=[];t.push(e);var i={oldValue:t,newValue:[],cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1};if(this.diagram.currentSymbol||this.diagram.triggerEvent(v.e.selectionChange,i),ie(this.diagram,e)){var n=this.diagram.selectedItems,r=void 0;e instanceof g.q?(r=n.nodes.indexOf(e,0),n.nodes.splice(r,1)):(r=n.connectors.indexOf(e,0),n.connectors.splice(r,1)),(i={oldValue:t,newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1}).cancel||(r=n.wrapper.children.indexOf(e.wrapper,0),n.wrapper.children.splice(r,1),this.diagram.updateSelector(),this.diagram.currentSymbol||this.diagram.triggerEvent(v.e.selectionChange,i))}},e.prototype.getChildElements=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];n.children&&n.children.length>0?t.concat(this.getChildElements(n.children)):(t.push(n.id),n instanceof I.a&&t.push(n.id+"_text"))}return t},e.prototype.moveSvgNode=function(e,t){var i=Object(Ce.m)(t+"_groupElement",this.diagram.element.id),n=Object(Ce.m)(e+"_groupElement",this.diagram.element.id);i.parentNode.insertBefore(n,i)},e.prototype.sendLayerBackward=function(e){var t=this.getLayer(e);if(t&&0!==t.zIndex){var i=t.zIndex;if("SVG"===this.diagram.mode){var n=t.objects,r=this.getLayer(this.diagram.layerZIndexTable[i-1]).objects[0];if(r)for(var o=0,a=n;o<a.length;o++){var s=a[o];this.moveSvgNode(s,r)}}var c=this.getLayer(this.diagram.layerZIndexTable[i-1]);c.zIndex=c.zIndex+1,t.zIndex=t.zIndex-1;var l=this.diagram.layerZIndexTable[i];this.diagram.layerZIndexTable[i]=this.diagram.layerZIndexTable[i-1],this.diagram.layerZIndexTable[i-1]=l,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.bringLayerForward=function(e){var t=this.getLayer(e);if(t&&t.zIndex<this.diagram.layers.length-1){var i=t.zIndex,n=this.getLayer(this.diagram.layerZIndexTable[i+1]);if("SVG"===this.diagram.mode)for(var r=t.objects[0],o=0,a=n.objects;o<a.length;o++){var s=a[o];s&&this.moveSvgNode(s,r)}n.zIndex=n.zIndex-1,t.zIndex=t.zIndex+1;var c=this.diagram.layerZIndexTable[i];this.diagram.layerZIndexTable[i]=this.diagram.layerZIndexTable[i+1],this.diagram.layerZIndexTable[i+1]=c,"Canvas"===this.diagram.mode&&this.diagram.refreshDiagramLayer()}},e.prototype.sendToBack=function(){if(ee(this.diagram)){for(var e=this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id,t=this.diagram.nameTable[e].zIndex,i=this.diagram.layers.indexOf(this.getObjectLayer(e)),n=this.diagram.layers[i].zIndexTable,r=t;r>0;r--)n[r]&&(n[r-1]?(n[r]=n[r-1],this.diagram.nameTable[n[r]].zIndex=r):(n[r-1]=n[r],this.diagram.nameTable[n[r-1]].zIndex=r,delete n[r]));if(n[0]=this.diagram.nameTable[e].id,this.diagram.nameTable[e].zIndex=0,"SVG"===this.diagram.mode){for(var o=n[r=1];!o&&r<t;)o=n[++r];this.moveSvgNode(e,o),this.updateNativeNodeIndex(e)}else this.diagram.refreshCanvasLayers()}},e.prototype.bringToFront=function(){if(ee(this.diagram)){for(var e=this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id,t=this.diagram.layers.indexOf(this.getObjectLayer(e)),i=this.diagram.layers[t].zIndexTable,n=Number(Object.keys(i).sort(function(e,t){return Number(e)-Number(t)}).reverse()[0]),r=this.diagram.nameTable[e].zIndex;r<n;r++)i[r]&&(i[r+1]?(i[r]=i[r+1],this.diagram.nameTable[i[r]].zIndex=r):(i[r+1]=i[r],this.diagram.nameTable[i[r+1]].zIndex=r,delete i[r]));if(i[n]=this.diagram.nameTable[e].id,this.diagram.nameTable[e].zIndex=n,"SVG"===this.diagram.mode){var o=this.diagram.diagramLayer,a=(this.getChildElements(this.diagram.nameTable[e].wrapper.children),Object(Ce.m)(e+"_groupElement",this.diagram.element.id)),s=this.diagram.selectedItems.nodes;if(s.length>0&&("Native"===s[0].shape.type||"HTML"===s[0].shape.type)){a.parentNode.removeChild(a);for(var c=0;c<this.diagram.views.length;c++){var l=(a=Object(Ce.m)(e+("HTML"===s[0].shape.type?"_content_html_element":"_content_groupElement"),this.diagram.views[c])).parentNode.lastChild;l.parentNode.insertBefore(a,l.nextSibling)}var h=Object(Ce.r)(this.diagram.element.id);this.diagram.diagramRenderer.renderElement(this.diagram.nameTable[e].wrapper,o,h)}else{var d=this.getObjectLayer(e);for(r=0;r<d.objects.length;r++)d.objects[r]!==e&&(this.moveSvgNode(d.objects[r],e),this.updateNativeNodeIndex(e))}}else this.diagram.refreshCanvasLayers()}},e.prototype.sortByZIndex=function(e,t){var i=t||"zIndex";return e=e.sort(function(e,t){return e[i]-t[i]})},e.prototype.sendForward=function(){if(ee(this.diagram)){var e=this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id,t=this.diagram.layers.indexOf(this.getObjectLayer(e)),i=this.diagram.layers[t].zIndexTable,n=(Object.keys(i).length,this.diagram.nameTable[e]),r=[],o=this.diagram.spatialSearch.findObjects(n.wrapper.bounds);o.length>2&&(o=this.sortByZIndex(o));for(var a=0,s=o;a<s.length;a++){var c=s[a];if(n.id!==c.id)if(t===this.getObjectLayer(c.id).zIndex&&Number(this.diagram.nameTable[e].zIndex)<Number(c.zIndex)&&n.wrapper.bounds.intersects(c.wrapper.bounds)){r.push(c);break}}if(r.length>0){var l=r[0].zIndex,h=n.zIndex;i[l];this.diagram.layers[0].zIndexTable[l]=n.id,this.diagram.nameTable[i[l]].zIndex=l,this.diagram.layers[0].zIndexTable[h]=r[0].id,this.diagram.nameTable[i[h]].zIndex=h,"SVG"===this.diagram.mode?(this.moveSvgNode(i[Number(r[0].zIndex)],e),this.updateNativeNodeIndex(i[Number(r[0].zIndex)],e)):this.diagram.refreshCanvasLayers()}}},e.prototype.sendBackward=function(){if(ee(this.diagram)){var e=this.diagram.selectedItems.nodes.length?this.diagram.selectedItems.nodes[0].id:this.diagram.selectedItems.connectors[0].id,t=this.diagram.layers.indexOf(this.getObjectLayer(e)),i=this.diagram.layers[t].zIndexTable,n=(Object.keys(i).length,this.diagram.nameTable[e]),r=[],o=this.diagram.spatialSearch.findObjects(n.wrapper.bounds);o.length>2&&(o=this.sortByZIndex(o));for(var a=0,s=o;a<s.length;a++){var c=s[a];if(n.id!==c.id)t===this.getObjectLayer(c.id).zIndex&&Number(this.diagram.nameTable[e].zIndex)>Number(c.zIndex)&&n.wrapper.bounds.intersects(c.wrapper.bounds)&&r.push(c)}if(r.length>0){var l=r[r.length-1].zIndex,h=n.zIndex;i[l];i[l]=n.id,this.diagram.nameTable[i[l]].zIndex=l,i[h]=r[r.length-1].id,this.diagram.nameTable[i[h]].zIndex=h,"SVG"===this.diagram.mode?(this.moveSvgNode(e,i[r[r.length-1].zIndex]),this.updateNativeNodeIndex(e,i[r[r.length-1].zIndex])):this.diagram.refreshCanvasLayers()}}},e.prototype.updateNativeNodeIndex=function(e,t){for(var i=this.diagram.selectedItems.nodes,n=0;n<this.diagram.views.length;n++)if(i.length>0&&("HTML"===i[0].shape.type||"Native"===i[0].shape.type)){var r="HTML"===i[0].shape.type?"_content_html_element":"_content_groupElement",o=Object(Ce.m)(e+r,this.diagram.views[n]),a=t?Object(Ce.m)(t+r,this.diagram.views[n]):o.parentElement.firstChild;o.parentNode.id===a.parentNode.id&&a.parentNode.insertBefore(o,a)}},e.prototype.initSelectorWrapper=function(){var e=this.diagram.selectedItems;e.init(this.diagram),1===e.nodes.length&&0===e.connectors.length&&(e.rotateAngle=e.nodes[0].rotateAngle,e.wrapper.rotateAngle=e.nodes[0].rotateAngle,e.wrapper.pivot=e.nodes[0].pivot)},e.prototype.doRubberBandSelection=function(e){this.clearSelectionRectangle();var t=[],i=[];t=this.diagram.getNodesConnectors(t),(i="CompleteIntersect"===this.diagram.selectedItems.rubberBandSelectionMode?Object(m.g)(e,t):this.diagram.spatialSearch.findObjects(e)).length&&this.selectObjects(i,!0)},e.prototype.clearSelectionRectangle=function(){var e=Object(Ce.g)(this.diagram.element.id).getElementById(this.diagram.element.id+"_diagramAdorner_selected_region");e&&Object(n.H)(e)},e.prototype.dragConnectorEnds=function(e,t,i,n,r,o){var a,s,c,l=!1;return t instanceof U.a?a=t.connectors[0]:t instanceof y.b&&this.diagram.currentDrawingObject&&(this.clearSelection(),a=this.diagram.currentDrawingObject),"BezierSourceThumb"!==e&&"BezierTargetThumb"!==e||(l=!0),"ConnectorSourceEnd"===e||"BezierSourceThumb"===e?(s=i.x-(l?n.bezierPoint1.x:a.sourcePoint.x),c=i.y-(l?n.bezierPoint1.y:a.sourcePoint.y),this.dragSourceEnd(a,s,c,null,i,e,void 0,r,o,void 0,n)):(s=i.x-(l?n.bezierPoint2.x:a.targetPoint.x),c=i.y-(l?n.bezierPoint2.y:a.targetPoint.y),this.dragTargetEnd(a,s,c,null,i,e,void 0,n))},e.prototype.getSelectedObject=function(){var e=this.diagram.selectedItems;return e.nodes.concat(e.connectors)},e.prototype.clearSelection=function(e){if(ee(this.diagram)){var t=this.diagram.selectedItems,i=this.getSelectedObject();this.diagram.currentSymbol&&(this.diagram.previousSelectedObject=i);var n={oldValue:i,newValue:[],cause:this.diagram.diagramActions,state:"Changing",type:"Removal",cancel:!1};e&&this.diagram.triggerEvent(v.e.selectionChange,n),n.cancel||(t.offsetX=0,t.offsetY=0,t.width=0,t.height=0,t.rotateAngle=0,t.nodes=[],t.connectors=[],t.wrapper=null,t.annotation=void 0,this.diagram.clearSelectorLayer(),e&&(n={oldValue:i,newValue:[],cause:this.diagram.diagramActions,state:"Changed",type:"Removal",cancel:!1},this.diagram.triggerEvent(v.e.selectionChange,n)))}},e.prototype.clearSelectedItems=function(){var e=this.diagram.selectedItems.nodes?this.diagram.selectedItems.nodes.length:0,t=this.diagram.selectedItems.connectors?this.diagram.selectedItems.connectors.length:0;this.clearSelection(e+t>0)},e.prototype.removeStackHighlighter=function(){var e=Object(Ce.g)(this.diagram.element.id),t=e.getElementById(e.id+"_stack_highlighter");t&&t.parentNode.removeChild(t)},e.prototype.renderStackHighlighter=function(e,t){var i,n,r,o=this.diagram.selectedItems.nodes[0];if(!t){var a=this.diagram.findObjectsUnderMouse(e.position);if((t=this.diagram.findObjectUnderMouse(a,"Drag",!0))&&!(t.isLane||t.isPhase||t.isHeader))for(var s=0;s<a.length;s++){var c=this.diagram.nameTable[a[s].id];(c.isLane||c.isPhase||c.isHeader)&&(t=c)}}o&&t&&t.isLane&&o.shape&&!o.shape.isPhase&&(n=this.diagram.nameTable[t.parentId],this.diagram.currentSymbol&&"SwimLane"===n.shape.type&&(i=!0),(o&&!o.parentId&&"SwimLane"!==o.shape.type||o&&o.parentId&&this.diagram.nameTable[o.parentId]&&this.diagram.nameTable[o.parentId].isLane&&o.parentId!==t.parentId&&o.parentId!==t.id)&&(r=this.diagram.selectedItems,(l=Object(Ee.i)(this.diagram,r,t.id,!0))&&(r.wrapper.children[0]=l),this.diagram.renderSelector(!1,!0),r.wrapper.children[0]=r.nodes[0].wrapper));o&&t&&t.parentId&&o.shape&&o.shape.isPhase&&("SwimLane"===this.diagram.nameTable[t.parentId].shape.type&&(this.diagram.selectedItems.wrapper.children[0]=this.diagram.nameTable[t.parentId].wrapper,this.diagram.renderSelector(!1,!0)));if(i&&this.diagram.currentSymbol.shape.isLane||o&&t&&o.parentId&&t.parentId&&!o.isPhase&&o.parentId===t.parentId&&o.id!==t.id&&n&&n.container&&("Stack"===n.container.type||"Grid"===n.container.type)){var l=void 0,h="Vertical"===n.container.orientation,d="Stack"===n.container?h:!h;"Grid"===n.container.type&&t.isLane&&(!this.diagram.currentSymbol&&"Horizontal"===n.shape.orientation&&t.rowIndex!==o.rowIndex||"Vertical"===n.shape.orientation&&t.columnIndex!==o.columnIndex||this.diagram.currentSymbol&&this.diagram.currentSymbol.shape.orientation===n.container.orientation)&&(r=this.diagram.selectedItems,l=Object(Ee.i)(this.diagram,r,t.id,i));var p="Stack"===n.container.type?t.wrapper:l;p&&Object(K.h)(p,d,e.position,this.diagram,!1,!0)}},e.prototype.drag=function(e,t,i){var n;if(Object(Z.o)(e)&&this.checkBoundaryConstraints(t,i,e.wrapper.bounds)&&Object(Z.r)(this.diagram))if(e instanceof g.q){var r={offsetX:e.offsetX,offsetY:e.offsetY};if(e.offsetX+=t,e.offsetY+=i,e.children&&!e.container){for(var o=this.getAllDescendants(e,[]),a=0;a<o.length;a++)n=this.diagram.nameTable[o[a].id],this.drag(n,t,i);this.updateInnerParentProperties(e)}if(Object(K.c)(this.diagram,e,!0)?Object(K.b)(this.diagram,e):(e&&e.shape&&"UmlClassifier"===e.shape.type&&(e.wrapper.measureChildren=!0),this.diagram.nodePropertyChange(e,r,{offsetX:e.offsetX,offsetY:e.offsetY},void 0,void 0,!1),e.wrapper.measureChildren=!1),"SwimLane"===e.shape.type&&!this.diagram.currentSymbol){var s=e.wrapper.children[0],c=Object(Ee.h)(this.diagram,s,0,!0);Object(Ee.t)(c,this.diagram)}}else{var l=e,h=(r={sourcePoint:l.sourcePoint,targetPoint:l.targetPoint},"Bezier"===l.type),d=!1;if(l.sourceWrapper?d=!0:this.dragSourceEnd(l,t,i,!0,null,"",h),l.targetWrapper?d=!0:this.dragTargetEnd(l,t,i,!0,null,"",h),!d){this.dragControlPoint(l,t,i,!0);var p={sourcePoint:l.sourcePoint,targetPoint:l.targetPoint};this.diagram.connectorPropertyChange(l,r,p)}}},e.prototype.connectorSegmentChange=function(e,t,i){var n,r,o=!0;if(!1===t.equals(t,e.wrapper.bounds)&&e.outEdges.length>0)for(var a=0;a<e.outEdges.length;a++){var s=this.diagram.nameTable[e.outEdges[a]];if(o=""!==s.targetID?!this.isSelected(this.diagram.nameTable[s.targetID]):!this.isSelected(this.diagram.nameTable[s.id]),"Orthogonal"===s.type&&s.segments&&s.segments.length>1)if(i){var c=s.segments[0],l=s.segments[1],h=Object(xe.i)(e.wrapper,e.wrapper.corners,e.wrapper.bounds),d=Object(xe.c)(h,c.direction),p={corners:void 0,point:d=Object(xe.d)(s,s.sourceWrapper,d,{x:s.sourceWrapper.offsetX,y:s.sourceWrapper.offsetY},!1),margin:void 0,direction:c.direction},u={corners:void 0,point:l.points[1],margin:void 0,direction:void 0},f=Object(xe.h)(p,u);c.length=X.a.distancePoints(f[0],f[1]),l.direction&&l.length&&(l.length=X.a.distancePoints(f[1],f[2]))}else if(o){switch(s.segments[0].direction){case"Bottom":n=e.wrapper.bounds.bottomCenter.x-t.bottomCenter.x,r=e.wrapper.bounds.bottomCenter.y-t.bottomCenter.y;break;case"Top":n=e.wrapper.bounds.topCenter.x-t.topCenter.x,r=e.wrapper.bounds.topCenter.y-t.topCenter.y;break;case"Left":n=e.wrapper.bounds.middleLeft.x-t.middleLeft.x,r=e.wrapper.bounds.middleLeft.y-t.middleLeft.y;break;case"Right":n=e.wrapper.bounds.middleRight.x-t.middleRight.x,r=e.wrapper.bounds.middleRight.y-t.middleRight.y}this.dragSourceEnd(s,n,r,!0,null,"ConnectorSourceEnd",void 0,void 0,void 0,!0)}}},e.prototype.updateEndPoint=function(e,t){e.sourcePoint,e.targetPoint,e.sourceID&&e.sourceID,e.targetID&&e.targetID,e.sourcePortID&&e.sourcePortID,e.targetPortID&&e.targetPortID,e.segments&&e.segments;var i={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};e.sourceID&&(i.sourceID=e.sourceID),e.targetID&&(i.targetID=e.targetID),e.sourcePortID&&(i.sourcePortID=e.sourcePortID),e.targetPortID&&(i.targetPortID=e.targetPortID),e.segments&&(i.segments=e.segments),this.diagram.connectorPropertyChange(e,t||{},i),this.diagram.updateSelector()},e.prototype.dragSourceEnd=function(e,t,i,n,r,o,a,s,c,l,h){var d=this.diagram.nameTable[e.id],p={},u=this.checkBoundaryConstraints(t,i,d.wrapper.bounds);if(Object(Z.g)(d)&&u&&"BezierSourceThumb"!==o&&Object(Z.r)(this.diagram)&&(p={sourcePoint:d.sourcePoint},d.sourcePoint.x+=t,d.sourcePoint.y+=i,"ConnectorSourceEnd"===o&&"Orthogonal"===d.type&&this.changeSegmentLength(d,s,c,l),"Bpmn"===d.shape.type&&"Default"===d.shape.sequence&&this.updatePathElementOffset(d)),"Bezier"===d.type)if(p={sourcePoint:d.sourcePoint},h)this.translateBezierPoints(e,""===o?"ConnectorSourceEnd":o,t,i,h,r,!a);else for(var f=0;f<e.segments.length;f++)this.translateBezierPoints(e,""===o?"ConnectorSourceEnd":o,t,i,e.segments[f],r,!a);return n||this.updateEndPoint(d,p),this.diagram.refreshCanvasLayers(),u},e.prototype.updatePathElementOffset=function(e){e.wrapper.children.splice(3,1);var t=new k.a,i=e.intermediatePoints;t=Object(m.R)(i,e),e.wrapper.children.splice(3,0,t)},e.prototype.changeSegmentLength=function(e,t,i,n){if(e.segments&&null!==e.segments[0].direction&&(!t&&""===e.sourceID||n)){var r=e.segments[0],o=e.segments[1],a=this.diagram.nameTable[e.sourceID],s=void 0;if(r.points[0]=e.sourcePoint,"Top"===r.direction||"Bottom"===r.direction?(r.points[r.points.length-1].x=e.sourcePoint.x,o.points[0].y=r.points[r.points.length-1].y):(r.points[r.points.length-1].y=e.sourcePoint.y,o.points[0].x=r.points[r.points.length-1].x),r.direction&&(r.length||0===r.length)&&(r.length=X.a.distancePoints(r.points[0],r.points[r.points.length-1])),o.direction&&(o.length||0===o.length)&&(o.length=X.a.distancePoints(r.points[r.points.length-1],o.points[o.points.length-1]),o.direction=X.a.direction(r.points[r.points.length-1],o.points[o.points.length-1])),""!==e.sourcePortID&&r.length<10)if(e.segments.length>2){var c=e.segments[2],l=X.a.direction(c.points[0],c.points[1]);r.direction===Object(xe.e)(l)?("Right"===r.direction?c.points[0].x=r.points[r.points.length-1].x=a.wrapper.corners.middleRight.x+20:"Left"===r.direction?c.points[0].x=r.points[r.points.length-1].x=a.wrapper.corners.middleLeft.x-20:"Top"===r.direction?c.points[0].y=r.points[r.points.length-1].y=a.wrapper.corners.topCenter.y-20:c.points[0].y=r.points[r.points.length-1].y=a.wrapper.corners.bottomCenter.y+20,c.direction&&c.length&&(c.length=X.a.distancePoints(c.points[0],c.points[c.points.length-1])),r.length=X.a.distancePoints(r.points[0],r.points[r.points.length-1])):r.direction===l&&c.direction&&c.length?("Top"===r.direction||"Bottom"===r.direction?(c.points[0]=r.points[0],c.points[c.points.length-1].x=c.points[0].x):(c.points[0]=r.points[0],c.points[c.points.length-1].y=c.points[0].y),c.length=X.a.distancePoints(c.points[0],c.points[c.points.length-1]),e.segments.splice(0,2)):r.length=20}else r.length=20;else if(r.length<1)if(""!==e.sourceID){if("Right"===o.direction?(s=a.wrapper.corners.middleRight,o.points[o.points.length-1].y=s.y):"Left"===o.direction?(s=a.wrapper.corners.middleLeft,o.points[o.points.length-1].y=s.y):"Top"===o.direction?(s=a.wrapper.corners.topCenter,o.points[o.points.length-1].x=s.x):(s=a.wrapper.corners.bottomCenter,o.points[o.points.length-1].x=s.x),o.length=X.a.distancePoints(s,o.points[o.points.length-1]),e.segments.length>2)(c=e.segments[2]).direction&&c.length&&(c.length=X.a.distancePoints(o.points[o.points.length-1],c.points[c.points.length-1]));e.segments.splice(0,1)}else e.segments.splice(0,1)}else t&&!i&&e.sourceID!==t.id&&e.segments&&null!==e.segments[0].direction&&t&&t instanceof g.q&&this.changeSourceEndToNode(e,t),t&&i&&e.sourcePortID!==i&&e.segments&&null!==e.segments[0].direction&&t&&t instanceof g.q&&this.changeSourceEndToPort(e,t,i)},e.prototype.changeSourceEndToPort=function(e,t,i){var n=this.diagram.getWrapper(t.wrapper,i),r={x:n.offsetX,y:n.offsetY},o=Object(xe.g)(r,Object(V.c)(t.wrapper),t.wrapper.bounds,!1),a=e.segments[0],s=e.segments[1];if(a.direction!==o){var c=[],l={};if(a.direction===Object(xe.e)(o)){l={};var h=void 0;"Top"===o||"Bottom"===o?(h="Top"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].y-r.y)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(r.y-a.points[0].y)},l=a.points[0].x>r.x?{type:"Orthogonal",isTerminal:!0,direction:"Right",length:a.points[0].x-r.x}:{type:"Orthogonal",isTerminal:!0,direction:"Left",length:r.x-a.points[0].x}):(h="Right"===o?{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(a.points[0].x-r.x)}:{type:"Orthogonal",isTerminal:!0,direction:o,length:Math.abs(r.x-a.points[0].x)},l=a.points[0].y>r.y?{type:"Orthogonal",direction:"Top",isTerminal:!0,length:a.points[0].y-r.y}:{type:"Orthogonal",direction:"Bottom",isTerminal:!0,length:r.y-a.points[0].y}),c.push(new y.c(e,"segments",h,!0)),c.push(new y.c(e,"segments",l,!0))}else l={type:"Orthogonal",direction:o,length:20,isTerminal:!0},c.push(new y.c(e,"segments",l,!0));a.direction!==Object(xe.e)(o)&&("Top"===o||"Bottom"===o?(a.points[0].x=r.x,a.points[0].y=a.points[a.points.length-1].y="Top"===o?r.y-20:r.y+20):(a.points[0].y=r.y,a.points[0].x=a.points[a.points.length-1].x="Right"===o?r.x+20:r.x-20),a.length=X.a.distancePoints(a.points[0],a.points[a.points.length-1]),s.length=X.a.distancePoints(a.points[a.points.length-1],s.points[s.points.length-1])),e.segments=c.concat(e.segments)}else a.points[0]=r,"Top"===o||"Bottom"===o?a.points[a.points.length-1].x=r.x:a.points[a.points.length-1].y=r.y,a.length=X.a.distancePoints(a.points[0],a.points[a.points.length-1]),s.length=X.a.distancePoints(a.points[a.points.length-1],s.points[s.points.length-1])},e.prototype.removeTerminalSegment=function(e,t){for(var i=0;i<e.segments.length-2;i++){var n=e.segments[0];n.isTerminal&&(t?n.isTerminal=!1:(e.segments.splice(i,1),i--))}},e.prototype.changeSourceEndToNode=function(e,t){this.removeTerminalSegment(e);var i,n,r=t.wrapper.children[0].corners,o=e.segments[0],a=e.segments[1],s=[];if("Right"===o.direction||"Left"===o.direction)if(i="Left"===o.direction?r.middleLeft:r.middleRight,o.length>r.width||"Left"===o.direction&&i.x>=o.points[0].x||"Right"===o.direction&&i.x<=o.points[0].x)o.points[0].y=o.points[o.points.length-1].y=i.y,o.points[0].x=i.x,o.length=X.a.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=X.a.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);else{var c=void 0;n="Bottom"===(c=a.direction?a.direction:X.a.direction(a.points[0],a.points[a.points.length-1]))?r.bottomCenter:r.topCenter,a.length&&a.direction&&(a.length="Top"===c?o.points[o.points.length-1].y-(n.y+20):n.y+20-o.points[o.points.length-1].y),o.length=o.points[o.points.length-1].x-n.x,o.direction=o.length>0?"Right":"Left";var l={type:"Orthogonal",direction:c,length:20};s.push(new y.c(e,"segments",l,!0)),e.segments=s.concat(e.segments)}else if(i="Bottom"===o.direction?r.bottomCenter:r.topCenter,o.length>r.height||"Top"===o.direction&&i.y>=o.points[0].y||"Bottom"===o.direction&&i.y<=o.points[0].y)o.points[0].x=o.points[o.points.length-1].x=i.x,o.points[0].y=i.y,o.length=X.a.distancePoints(o.points[0],o.points[o.points.length-1]),a.length=X.a.distancePoints(o.points[o.points.length-1],a.points[a.points.length-1]);else{n="Left"===a.direction?r.middleLeft:r.middleRight;c=void 0;c=a.direction?a.direction:X.a.direction(a.points[0],a.points[a.points.length-1]),a.length&&a.direction&&(a.length="Left"===c?o.points[o.points.length-1].x-(n.x+20):n.x+20-o.points[o.points.length-1].x),o.length=o.points[o.points.length-1].y-n.y,o.direction=o.length>0?"Bottom":"Top";l={type:"Orthogonal",direction:c,length:20};s.push(new y.c(e,"segments",l,!0)),e.segments=s.concat(e.segments)}},e.prototype.translateBezierPoints=function(e,t,i,n,r,o,a){var s=e.segments.indexOf(r),c=e.segments[s];c&&("BezierSourceThumb"===t&&(c.vector1.angle||c.vector1.distance)?c.vector1={distance:e.distance(e.sourcePoint,o),angle:X.a.findAngle(e.sourcePoint,o)}:"BezierTargetThumb"===t&&(c.vector2.angle||c.vector2.distance)?c.vector2={distance:e.distance(e.targetPoint,o),angle:X.a.findAngle(e.targetPoint,o)}:("ConnectorSourceEnd"===t&&!e.sourceID||"ConnectorTargetEnd"===t&&!e.targetID)&&a&&Object(y.g)(c.vector1)&&Object(y.g)(c.vector2)?(X.a.isEmptyPoint(c.point1)&&(c.bezierPoint1=Object(y.f)(e.sourcePoint,e.targetPoint)),X.a.isEmptyPoint(c.point2)&&(c.bezierPoint2=Object(y.f)(e.targetPoint,e.sourcePoint))):"BezierSourceThumb"===t||"ConnectorSourceEnd"===t&&!a&&Object(y.g)(c.vector1)?(c.bezierPoint1.x+=i,c.bezierPoint1.y+=n,X.a.isEmptyPoint(c.point1)&&!a||(c.point1={x:c.bezierPoint1.x,y:c.bezierPoint1.y})):("BezierTargetThumb"===t||"ConnectorTargetEnd"===t&&!a&&Object(y.g)(c.vector2))&&(c.bezierPoint2.x+=i,c.bezierPoint2.y+=n,X.a.isEmptyPoint(c.point2)&&!a||(c.point2={x:c.bezierPoint2.x,y:c.bezierPoint2.y})))},e.prototype.dragTargetEnd=function(e,t,i,n,r,o,a,s){var c,l=this.diagram.nameTable[e.id],h=this.checkBoundaryConstraints(t,i,l.wrapper.bounds);if(Object(Z.h)(l)&&"BezierTargetThumb"!==o&&h&&Object(Z.r)(this.diagram)){if(c={targetPoint:l.targetPoint},l.targetPoint.x+=t,l.targetPoint.y+=i,"ConnectorTargetEnd"===o&&"Orthogonal"===l.type&&l.segments&&l.segments.length>0){var d=l.segments[l.segments.length-2];d&&2===l.segments[l.segments.length-1].points.length&&("Left"===d.direction||"Right"===d.direction?d.points[d.points.length-1].x=l.targetPoint.x:d.points[d.points.length-1].y=l.targetPoint.y,d.length=X.a.distancePoints(d.points[0],d.points[d.points.length-1]),d.direction=X.a.direction(d.points[0],d.points[d.points.length-1]))}"Bpmn"===l.shape.type&&"Default"===l.shape.sequence&&this.updatePathElementOffset(l)}if("Bezier"===l.type)if(c={targetPoint:l.targetPoint},s)this.translateBezierPoints(e,""===o?"ConnectorTargetEnd":o,t,i,s,r,!a);else for(var p=0;p<e.segments.length;p++)this.translateBezierPoints(e,""===o?"ConnectorTargetEnd":o,t,i,e.segments[p],r,!a);return n||this.updateEndPoint(l,c),this.diagram.refreshCanvasLayers(),h},e.prototype.dragControlPoint=function(e,t,i,n,r){var o=this.diagram.nameTable[e.id];if(("Straight"===o.type||"Bezier"===o.type)&&o.segments.length>0){if(void 0!==r&&o.segments[r])o.segments[r].point.x+=t,o.segments[r].point.y+=i;else for(var a=0;a<o.segments.length-1;a++)o.segments[a].point.x+=t,o.segments[a].point.y+=i;n||this.updateEndPoint(o)}return!0},e.prototype.rotateObjects=function(e,t,i,n,r){n=n||{};var o,a=Object(Q.a)();Object(Q.c)(a,i,n.x,n.y);for(var s=0,c=t;s<c.length;s++){var l=c[s];if(l instanceof g.q){if(Object(Z.z)(l)&&Object(Z.r)(this.diagram)){if(!1!==r||e!==l){o={rotateAngle:l.rotateAngle},l.rotateAngle+=i,l.rotateAngle=(l.rotateAngle+360)%360;var h=Object(Q.e)(a,{x:l.offsetX,y:l.offsetY});l.offsetX=h.x,l.offsetY=h.y,this.diagram.nodePropertyChange(l,o,{rotateAngle:l.rotateAngle})}if(l.processId){var d=this.diagram.nameTable[l.processId],p=this.diagram.bpmnModule.getChildrenBound(d,l.id,this.diagram);this.diagram.bpmnModule.updateSubProcessess(p,l,this.diagram)}l.children&&l.children.length&&!l.container&&this.getChildren(l,t)}}else this.rotatePoints(l,i,n||{x:l.wrapper.offsetX,y:l.wrapper.offsetY});this.diagram.updateDiagramObject(l)}this.diagram.refreshCanvasLayers(),this.diagram.updateSelector()},e.prototype.snapConnectorEnd=function(e){return this.diagram.snapSettings.constraints&v.q.SnapToLines&&this.snappingModule&&this.diagram.snappingModule.snapConnectorEnd(e),e},e.prototype.snapAngle=function(e){return this.diagram.snapSettings.constraints&v.q.SnapToLines&&this.snappingModule?this.snappingModule.snapAngle(this.diagram,e):0},e.prototype.rotatePoints=function(e,t,i){if(!e.sourceWrapper||!e.targetWrapper){var n=Object(Q.a)();Object(Q.c)(n,t,i.x,i.y),e.sourcePoint=Object(Q.e)(n,e.sourcePoint),e.targetPoint=Object(Q.e)(n,e.targetPoint),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.updatePathElementOffset(e);var r={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};this.diagram.connectorPropertyChange(e,{},r)}},e.prototype.updateInnerParentProperties=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);for(var i=this.getAllDescendants(e,[],!1,!0),n=0;n<i.length;n++){var r=this.diagram.nameTable[i[n].id];r.offsetX=r.wrapper.offsetX,r.offsetY=r.wrapper.offsetY,r.width=r.wrapper.width,r.height=r.wrapper.height}this.diagram.protectPropertyChange(t)},e.prototype.scale=function(e,t,i,n,r){var o=this.diagram.nameTable[e.id],a=o,s=o.wrapper;r||(r=e);var c=r.wrapper,l=c.offsetX-c.actualSize.width*c.pivot.x,h=c.offsetY-c.actualSize.height*c.pivot.y,d=Object(m.w)(l,h,c.actualSize.width,c.actualSize.height,c.rotateAngle,c.offsetX,c.offsetY,n);if(void 0!==s.actualSize.width&&void 0!==s.actualSize.height&&Object(Z.r)(this.diagram)){if(a.children&&!a.container){for(var p=0,u=this.getAllDescendants(a,[]);p<u.length;p++){var f=u[p];this.scaleObject(t,i,d,f,s,r)}e.wrapper.measure(new T.a),e.wrapper.arrange(e.wrapper.desiredSize),this.diagram.updateGroupOffset(o),this.updateInnerParentProperties(a)}else this.scaleObject(t,i,d,o,s,r);var g=Object(V.e)(e.wrapper);if(!this.checkBoundaryConstraints(void 0,void 0,g))return this.scale(e,1/t,1/i,n),!1;this.diagram.updateDiagramObject(e)}return!0},e.prototype.getAllDescendants=function(e,t,i,n){for(var r=e,o=[],a=0;a<r.children.length;a++)(e=this.diagram.nameTable[r.children[a]])&&(e.children?(i&&t.push(e),n&&o.push(e),t=this.getAllDescendants(e,t)):t.push(e));return n?o:t},e.prototype.getChildren=function(e,t){var i=e;if(e.children)for(var n=0;n<i.children.length;n++)e=this.diagram.nameTable[i.children[n]],t.push(e);return t},e.prototype.cloneChild=function(e){return this.diagram.nameTable[e]},e.prototype.scaleObject=function(e,t,i,n,r,o){t=t<0?1:t;var a={};if(1!==(e=e<0?1:e)||1!==t){var s=void 0,c=void 0;if(n instanceof g.q){var l=n,h=void 0,d=void 0;a={width:n.wrapper.actualSize.width,height:n.wrapper.actualSize.height,offsetX:n.wrapper.offsetX,offsetY:n.wrapper.offsetY,margin:{top:l.margin.top,left:l.margin.left}},"Bpmn"===l.shape.type&&l.shape.activity.subProcess.processes&&l.shape.activity.subProcess.processes.length>0&&(d=this.diagram.bpmnModule.getChildrenBound(l,l.id,this.diagram),h=l.wrapper.bounds.containsRect(d)),s=l.wrapper.actualSize.width*e,c=l.wrapper.actualSize.height*t,void 0!==l.maxWidth&&0!==l.maxWidth&&(s=Math.min(l.maxWidth,s)),void 0!==l.minWidth&&0!==l.minWidth&&(s=Math.max(l.minWidth,s)),void 0!==l.maxHeight&&0!==l.maxHeight&&(c=Math.min(l.maxHeight,c)),void 0!==l.minHeight&&0!==l.minHeight&&(c=Math.max(l.minHeight,c)),h&&(s=Math.max(s,d.right-l.wrapper.bounds.x),c=Math.max(c,d.bottom-l.wrapper.bounds.y)),e=s/l.actualSize.width,t=c/l.actualSize.height}var p,u=Object(Q.a)();if(o||(o=n),p=o.wrapper,Object(Q.c)(u,-p.rotateAngle,i.x,i.y),Object(Q.d)(u,e,t,i.x,i.y),Object(Q.c)(u,p.rotateAngle,i.x,i.y),n instanceof g.q){l=n;var f,m,y=Object(Q.e)(u,{x:l.wrapper.offsetX,y:l.wrapper.offsetY}),v=l.wrapper.offsetX-l.wrapper.actualSize.width*l.pivot.x,b=l.wrapper.offsetY-l.wrapper.actualSize.height*l.pivot.y;if(s>0)if(l.processId){var w=this.diagram.nameTable[l.processId];(!w.maxWidth||l.margin.left+s<w.maxWidth)&&(l.width=s,l.offsetX=y.x)}else l.width=s,l.offsetX=y.x;if(c>0)if(l.processId){var O=this.diagram.nameTable[l.processId];(!O.maxHeight||l.margin.top+c<O.maxHeight)&&(l.height=c,l.offsetY=y.y)}else l.height=c,l.offsetY=y.y;f=l.wrapper.offsetX-l.wrapper.actualSize.width*l.pivot.x,m=l.wrapper.offsetY-l.wrapper.actualSize.height*l.pivot.y,this.diagram.nameTable[l.processId]&&(l.margin.top+(m-b)<=0||l.margin.left+(f-v)<=0)?this.diagram.nodePropertyChange(n,{},{margin:{top:l.margin.top,left:l.margin.left}}):Object(K.c)(this.diagram,n,!0)?Object(K.b)(this.diagram,n):this.diagram.nodePropertyChange(n,a,{width:l.width,height:l.height,offsetX:l.offsetX,offsetY:l.offsetY,margin:{top:l.margin.top+(m-b),left:l.margin.left+(f-v)}})}else{var x=n,j={sourcePoint:x.sourcePoint,targetPoint:x.targetPoint};x.sourceWrapper&&x.targetWrapper||this.scaleConnector(x,u,j)}var S=this.diagram.nameTable[n.processId];if(S){S.wrapper.bounds,n.wrapper.bounds,d=this.diagram.bpmnModule.getChildrenBound(S,n.id,this.diagram);this.diagram.bpmnModule.updateSubProcessess(d,n,this.diagram)}}},e.prototype.scaleConnector=function(e,t,i){e.sourcePoint=Object(Q.e)(t,e.sourcePoint),e.targetPoint=Object(Q.e)(t,e.targetPoint),"Bpmn"===e.shape.type&&"Default"===e.shape.sequence&&this.updatePathElementOffset(e);var n={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint};this.diagram.connectorPropertyChange(e,i,n)},e.prototype.portDrag=function(e,t,i,n){var r,o,a=this.findTarget(t,e),s=Object(V.e)(e.wrapper);a&&Object(Z.e)(a,this.diagram)&&(r=this.getPortChanges(e,a),a.offset.x+=i/s.width,a.offset.y+=n/s.height,o=this.getPortChanges(e,a),this.diagram.nodePropertyChange(e,r,o),this.diagram.updateDiagramObject(e))},e.prototype.labelDrag=function(e,t,i,n){var r,o,a;a=this.findTarget(t,e);var s=Object(V.c)(e.wrapper);r=this.getAnnotationChanges(e,a),a instanceof z.c?(a.offset.x+=i/s.width,a.offset.y+=n/s.height):(this.updatePathAnnotationOffset(e,a,i,n),a instanceof z.b&&(a.alignment="Center")),o=this.getAnnotationChanges(e,a),e instanceof g.q?this.diagram.nodePropertyChange(e,r,o):this.diagram.connectorPropertyChange(e,r,o),this.diagram.updateDiagramObject(e),ie(this.diagram,a,!1,t)||this.labelSelect(e,t)},e.prototype.updatePathAnnotationOffset=function(e,t,i,n,r,o){var a,s,c,l,h=this.diagram.getWrapper(e.wrapper,t.id),d=h.offsetX,p=h.offsetY,u=e.intermediatePoints,f=0,g=r||{x:d+i,y:p+n},y=this.getInterceptWithSegment(g,u),v=u[u.length-1];if(c=X.a.getLengthFromListOfPoints(u),y.length>0){if(t.dragLimit.top||t.dragLimit.bottom||t.dragLimit.left||t.dragLimit.right){var b={minDistance:null};v=this.getRelativeOffset(g,u,b);var w={minDistance:null};if(l=this.getRelativeOffset(g,y,w),null!=b&&w.minDistance<b.minDistance)v=l;else v=Object(m.v)(e.intermediatePoints,t,e.wrapper.bounds).point}else v=l=y[y.length-1];if(v){var O=void 0;for(O=0;O<u.length;O++){if(null!=s){if(A.a.toBounds([s,u[O]]).containsPoint(v)){f+=X.a.findLength(s,v);break}f+=X.a.findLength(s,u[O])}s=u[O]}a={x:f/c,y:0}}this.updateLabelMargin(e,t,a,g,o,i,n)}else this.updateLabelMargin(e,t,null,g,o,i,n)},e.prototype.getRelativeOffset=function(e,t,i){var n,r,o,a;for(a=0;a<t.length;a++)o=t[a],r=Math.round(Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))),null!==i.minDistance&&Math.min(Math.abs(i.minDistance),Math.abs(r))!==Math.abs(r)||(n=o,i.minDistance=r);return n},e.prototype.dragLimitValue=function(e,t,i,n){var r=!1,o=!1;return i.x>=t.x-e.dragLimit.left-n.width/2&&i.x<=t.x+e.dragLimit.right+n.width/2&&(r=!0),i.y>=t.y-e.dragLimit.top-n.height/2&&i.y<=t.y+e.dragLimit.bottom+n.height/2&&(o=!0),{x:r,y:o}},e.prototype.updateLabelMargin=function(e,t,i,n,r,o,a){if(i=i||{x:t.offset,y:0},t&&i&&i.x>0&&i.x<1){var s,c=X.a.getLengthFromListOfPoints(e.intermediatePoints);s=this.getPointAtLength(c*i.x,e.intermediatePoints,0);var l=this.diagram.scrollSettings.currentZoom,h=t.dragLimit;if(h.top||h.bottom||h.left||h.right){this.diagram.getWrapper(e.wrapper,t.id);var d=new A.a(0,0,0,0),p=this.diagram.getWrapper(e.wrapper,t.id);d.x=p.offsetX/l+o,d.y=p.offsetY/l+a,d.width=p.bounds.width/l,d.height=p.bounds.height/l;var u=new A.a(s.x-(h.left||0)-d.width/2,s.y-(h.top||0)-d.height/2,(h.left||0)+(h.right||0)+d.width,(h.top||0)+(h.bottom||0)+d.height);if(u.containsPoint(n))n=n;else for(var f=[s,n],g=0,m=this.boundsInterSects(f,u,!1);g<m.length;g++){n=m[g]}var y=this.dragLimitValue(t,s,n,d);t.margin={left:y.x?n.x-s.x:t.margin.left,top:y.y?n.y-s.y:t.margin.top,right:0,bottom:0}}else t.margin={left:n.x-s.x,top:n.y-s.y,right:0,bottom:0};t.offset=i.x,r&&(t.width=r.width,t.height=r.height)}},e.prototype.boundsInterSects=function(e,t,i){var n;if(t){var r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height},{x:t.x,y:t.y}];n=this.intersect(e,r,i)}return n},e.prototype.intersect=function(e,t,i){for(var n=[],r=0;r<e.length-1;r++)for(var o=0;o<t.length-1;o++){var a=Object(m.D)(e[r],e[r+1],t[o],t[o+1]);0!==a.x&&0!==a.y&&n.push(a)}return n},e.prototype.getPointAtLength=function(e,t,i){for(var n,r,o=0,a={x:0,y:0},s=0;s<t.length;s++)if(r=t[s],n){var c=X.a.findLength(n,r),l=void 0,h=void 0,d=void 0,p=void 0;if(o+c>=e){l=e-o,h=X.a.findAngle(n,r),d=l*Math.cos(h*Math.PI/180),p=l*Math.sin(h*Math.PI/180),a={x:n.x+d,y:n.y+p},h;break}o+=c,n=r}else n=r;return a},e.prototype.getInterceptWithSegment=function(e,t){var i,n,r,o=[],a=[],s=[];r=X.a.findLength({x:0,y:0},{x:this.diagram.scroller.viewPortWidth,y:this.diagram.scroller.viewPortHeight});for(var c=1;c<t.length;c++){s=[t[c-1],t[c]],a=[],n=Math.round(X.a.findAngle(s[0],s[1])%360),i=Math.round(X.a.findAngle(s[1],s[0])%360);var l=n>0&&n<=90||n>180&&n<=270?90:-90;a.push(X.a.transform(e,n+l,r)),a.push(X.a.transform(e,i+l,r));var h={x1:s[0].x,y1:s[0].y,x2:s[1].x,y2:s[1].y},d={x1:a[0].x,y1:a[0].y,x2:a[1].x,y2:a[1].y},p=Object(m.E)(h,d);p.enabled&&o.push(p.intersectPt)}return o},e.prototype.getAnnotationChanges=function(e,t){var i={};return i[Object(m.l)(e,t.id,!0)]={width:t.width,height:t.height,offset:e instanceof g.q?{x:t.offset.x,y:t.offset.y}:t.offset,rotateAngle:t.rotateAngle,margin:{left:t.margin.left,right:t.margin.right,top:t.margin.top,bottom:t.margin.bottom},horizontalAlignment:t.horizontalAlignment,verticalAlignment:t.verticalAlignment,alignment:e instanceof y.b?t.alignment:void 0},{annotations:i}},e.prototype.getPortChanges=function(e,t){var i={};return i[Object(m.l)(e,t.id,!1)]={offset:t.offset},{ports:i}},e.prototype.labelRotate=function(e,t,i,n){var r,o;r=this.getAnnotationChanges(e,t);Object(Q.a)(),t.rotateAngle;var a=this.diagram.getWrapper(e.wrapper,t.id),s=Object(xe.a)({x:a.offsetX,y:a.offsetY},i)+90,c=this.snapAngle(s);(s=0!==c?c:s,t instanceof z.b&&t.segmentAngle)&&(s-=Object(m.q)(e.intermediatePoints,t,e.wrapper.bounds).angle);s=(s+360)%360,t.rotateAngle+=s-(t.rotateAngle+a.parentTransform),t.margin.bottom+="Top"===a.verticalAlignment?-t.height/2:"Bottom"===a.verticalAlignment?t.height/2:0,t.margin.right+="Left"===a.horizontalAlignment?-t.width/2:"Right"===a.horizontalAlignment?t.width/2:0,t instanceof z.b?t.alignment="Center":t.horizontalAlignment=t.verticalAlignment="Center",n.wrapper.rotateAngle=n.rotateAngle=t.rotateAngle,o=this.getAnnotationChanges(e,t),e instanceof g.q?this.diagram.nodePropertyChange(e,r,o):this.diagram.connectorPropertyChange(e,r,o),this.diagram.updateDiagramObject(e)},e.prototype.labelResize=function(e,t,i,n,r,o){var a,s,c;a=this.getAnnotationChanges(e,t);var l=o.wrapper.children[0];if(i&&1!==i||n&&1!==n){var h=Object(Q.a)(),d=Object(Q.a)();Object(Q.c)(h,-e.rotateAngle,e.offsetX,e.offsetY),c=(l.rotateAngle+(e instanceof g.q?e.rotateAngle:0)+360)%360,Object(Q.c)(d,-c,r.x,r.y),Object(Q.d)(d,i,n,r.x,r.y),Object(Q.c)(d,c,r.x,r.y);var p=Object(Q.e)(d,{x:l.offsetX,y:l.offsetY}),u=l.actualSize.height*n,f=l.actualSize.width*i,m=this.findTarget(l,e);if(m instanceof z.b)this.updatePathAnnotationOffset(e,t,0,0,p,new T.a(f,u));else{var y=Object(V.c)(e.wrapper);(p=Object(Q.e)(h,p)).x=p.x-l.margin.left+l.margin.right,p.y=p.y-l.margin.top+l.margin.bottom,p.y+="Top"===m.verticalAlignment?-u/2:"Bottom"===m.verticalAlignment?u/2:0,p.x+="Left"===m.horizontalAlignment?-f/2:"Right"===m.horizontalAlignment?f/2:0;var v=y.width/(p.x-y.x),b=y.height/(p.y-y.y);f>1&&(m.width=f,m.offset.x=1/v),u>1&&(m.height=u,m.offset.y=1/b)}}t instanceof z.b&&(t.alignment="Center"),s=this.getAnnotationChanges(e,t),e instanceof g.q?this.diagram.nodePropertyChange(e,a,s):this.diagram.connectorPropertyChange(e,a,s),this.diagram.updateDiagramObject(e)},e.prototype.getSubProcess=function(e){var t,i={nodes:[],connectors:[]};return e instanceof g.q?t=e.processId:e&&e.nodes&&e.nodes.length&&e.nodes[0].processId&&(t=e.nodes[0].processId),t?(i.nodes.push(Object(V.b)(this.diagram.nameTable[t])),i):i},e.prototype.checkBoundaryConstraints=function(e,t,i){var n=this.diagram.pageSettings,r=this.diagram.pageSettings.boundaryConstraints,o=this.diagram.scroller;if("Page"===r||"Diagram"===r){var a=i?void 0:this.diagram.selectedItems.wrapper.bounds,s="Page"===r?n.width:o.viewPortWidth,c="Page"===r?n.height:o.viewPortHeight,l=i,h=(i?l.right:a.right)+(e||0),d=(i?l.left:a.left)+(e||0),p=(i?l.top:a.top)+(t||0),u=(i?l.bottom:a.bottom)+(t||0);return h<=s&&d>=0&&u<=c&&p>=0}return!0},e.prototype.dragSelectedObjects=function(e,t){var i=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=i.offsetX,this.state.backup.offsetY=i.offsetY),i=Object(K.g)(this.diagram,i)||i,!!this.checkBoundaryConstraints(e,t)&&(this.diagram.drag(i,e,t),this.diagram.refreshCanvasLayers(),!0)},e.prototype.scaleSelectedItems=function(e,t,i){var n=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.offsetX=n.offsetX,this.state.backup.offsetY=n.offsetY,this.state.backup.width=n.width,this.state.backup.height=n.height,this.state.backup.pivot=i),n=Object(K.g)(this.diagram,n)||n,this.diagram.scale(n,e,t,i)},e.prototype.rotateSelectedItems=function(e){var t=this.diagram.selectedItems;return this.state&&!this.state.backup&&(this.state.backup={},this.state.backup.angle=t.rotateAngle),t=Object(K.g)(this.diagram,t)||t,this.diagram.rotate(t,e)},e.prototype.hasSelection=function(){return ee(this.diagram)},e.prototype.isSelected=function(e){return ie(this.diagram,e)},e.prototype.initExpand=function(e){var t=this.diagram.isProtectedOnChange;this.diagram.protectPropertyChange(!0);var i=e.target||e.source,n={isExpanded:i.isExpanded};i.isExpanded=!i.isExpanded,this.diagram.preventNodesUpdate=!0,this.diagram.diagramActions|=v.c.PreventIconsUpdate,this.diagram.nodePropertyChange(i,n,{isExpanded:i.isExpanded}),this.diagram.diagramActions=this.diagram.diagramActions&~v.c.PreventIconsUpdate,this.diagram.preventNodesUpdate=!1,this.diagram.protectPropertyChange(t)},e.prototype.expandNode=function(e,t){var i,n=this.diagram.preventNodesUpdate,r=e.isExpanded;if(this.diagram.preventNodesUpdate=!0,this.diagram.preventConnectorsUpdate=!0,this.expandCollapse(e,r,this.diagram),e.isExpanded=r,this.diagram.layout.fixedNode=e.id,this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&this.diagram.organizationalChartModule&&(this.diagram.organizationalChartModule.isAnimation=!0),i=this.diagram.doLayout(),this.diagram.preventNodesUpdate=n,this.diagram.preventConnectorsUpdate=!1,this.diagram.layoutAnimateModule&&this.diagram.organizationalChartModule)this.layoutAnimateModule.expand(this.diagram.layout.enableAnimation,i,e,this.diagram);else{var o={element:Object(V.b)(e),state:!!e.isExpanded};this.triggerEvent(v.e.expandStateChange,o)}return i},e.prototype.getparentexpand=function(e,t,i,n){for(var r,o=0;o<e.inEdges.length;o++){var a=t.nameTable[e.inEdges[o]],s=t.nameTable[a.sourceID];if(s.isExpanded&&!i&&s.id!==n.sourceID&&a.visible)return!1;r=!0}return r},e.prototype.expandCollapse=function(e,t,i){for(var n=0;n<e.outEdges.length;n++){var r=i.nameTable[e.outEdges[n]],o=i.nameTable[r.targetID],a=this.getparentexpand(o,i,t,r);r.visible=t;var s={visible:o.visible,style:{opacity:o.style.opacity}},c={visible:o.visible,style:{opacity:o.style.opacity}};a&&(o.isExpanded&&this.expandCollapse(o,t,i),o.visible=t,o.style.opacity=this.diagram.layoutAnimateModule&&this.diagram.layout.enableAnimation&&t?.1:o.style.opacity,i.nodePropertyChange(o,s,c)),i.connectorPropertyChange(r,s,c)}},e.prototype.updateNodeDimension=function(e,t){e instanceof g.q&&(e.offsetX=t.x+t.width/2,e.offsetY=t.y+t.height/2,e.width=t.width,e.height=t.height,e.wrapper.children[0].canMeasurePath=!0,this.diagram.nodePropertyChange(e,{},{width:t.width,height:t.height,offsetX:e.offsetX,offsetY:e.offsetY}),"SVG"!==this.diagram.mode&&this.diagram.refreshDiagramLayer())},e.prototype.updateConnectorPoints=function(e,t){e instanceof y.b&&(this.diagram.connectorPropertyChange(e,{},{targetPoint:e.targetPoint}),this.diagram.updateDiagramObject(e))},e.prototype.drawSelectionRectangle=function(e,t,i,n){this.diagram.drawSelectionRectangle(e,t,i,n)},e.prototype.startGroupAction=function(){this.diagram.startGroupAction()},e.prototype.endGroupAction=function(){this.diagram.endGroupAction()},e.prototype.removeChildFromBPmn=function(e,t,i){var n=this.diagram.nameTable[e.id]||e.nodes[0];if(i&&n&&n.processId&&n.processId===i.wrapper.id){var r=Object(V.b)(n);r.processId=n.processId,this.diagram.startGroupAction();for(var o=[],a=(o=o.concat(n.outEdges,n.inEdges)).length-1;a>=0;a--){var s=this.diagram.nameTable[o[a]];s&&this.diagram.remove(s)}var c=void 0;(c=this.diagram.nameTable[n.processId].shape.activity.subProcess.processes||[]).splice(c.indexOf(n.id),1),this.diagram.bpmnModule.removeChildFromBPMN(this.diagram.nameTable[n.processId].wrapper,n.id),this.diagram.nameTable[n.id].processId="",n.offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY;var l={type:"PositionChanged",redoObject:{nodes:[Object(V.b)(n)]},undoObject:{nodes:[r]},category:"Internal"};this.addHistoryEntry(l),this.diagram.endGroupAction()}},e.prototype.isDroppable=function(e,t){var i=this.diagram.nameTable[e.id]||e.nodes[0];return!!i&&("TextAnnotation"===i.shape.shape||(!i||"Bpmn"!==i.shape.type||!(i.processId===t.id||i.id===t.processId||"Bpmn"===t.shape.type&&t.shape.activity.subProcess.collapsed)))},e.prototype.renderHighlighter=function(e,t,i){new A.a;if(e.target instanceof g.q||t&&e.source instanceof g.q){var n=t?e.source:e.target,r=t?e.sourceWrapper:e.targetWrapper,o=this.findTarget(r,n,i,!0),a=void 0;if(o instanceof g.h)for(var s=o.id,c=e.target,l=0,h=c.wrapper.children[0].children[0].children[2].children;l<h.length;l++){var d=h[l];if(d.id===c.id+"_"+s){a=d.children[0];break}}else a=o instanceof g.q?o.wrapper:t?e.sourceWrapper:e.targetWrapper;this.diagram.renderHighlighter(a)}},e.prototype.mouseOver=function(e,t,i){return!0},e.prototype.snapPoint=function(e,t,i,n){var r,o=this.diagram.selectedItems,a=t.x<e.x,s=t.y<e.y,c=r={x:i,y:n};return this.snappingModule&&(c=this.diagram.snappingModule.snapPoint(this.diagram,o,a,s,r,e,t)),c},e.prototype.removeSnap=function(){this.diagram.snapSettings.constraints&v.q.SnapToObject&&this.snappingModule&&this.snappingModule.removeGuidelines(this.diagram)},e.prototype.dropAnnotation=function(e,t){var i=e instanceof g.q?e:e.nodes[0];if(this.diagram.bpmnModule&&"Bpmn"===t.shape.type&&"TextAnnotation"===i.shape.shape){i.hasTarget=t.id,i.shape.annotation.nodeId=t.id,this.diagram.currentSymbol||(this.diagram.addTextAnnotation(i.shape.annotation,t),i.shape.annotation.nodeId="",this.diagram.remove(i)),this.diagram.refreshDiagramLayer()}},e.prototype.drop=function(e,t,i){this.diagram.bpmnModule&&(this.diagram.bpmnModule.dropBPMNchild(t,e instanceof g.q?e:e.nodes[0],this.diagram),this.diagram.refreshDiagramLayer())},e.prototype.addHistoryEntry=function(e){this.diagram.addHistoryEntry(e)},e.prototype.align=function(e,t,i){if(e.length>0){var n=0,r="Object"===i?Object(V.e)(e[0].wrapper):this.diagram.selectedItems.wrapper.bounds,o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(n="Object"===i?n+1:n;n<e.length;n++){var s=0,c=0,l=Object(V.e)(e[n].wrapper);"Left"===t?s=r.left+l.width/2-l.center.x:"Right"===t?s=r.right-l.width/2-l.center.x:"Top"===t?c=r.top+l.height/2-l.center.y:"Bottom"===t?c=r.bottom-l.height/2-l.center.y:"Center"===t?s=r.center.x-l.center.x:"Middle"===t&&(c=r.center.y-l.center.y),o=this.storeObject(o,e[n]),this.drag(e[n],s,c),this.diagram.updateSelector(),a=this.storeObject(a,e[n])}o=Object(V.b)(o),a=Object(V.b)(a);var h={type:"Align",category:"Internal",undoObject:Object(V.b)(o),redoObject:Object(V.b)(a)};this.addHistoryEntry(h)}},e.prototype.distribute=function(e,t){if(e.length>0){var i=0,n=(new A.a,0),r=0,o=0,a=0,s=0,c=0,l=0,h={nodes:[],connectors:[]},d={nodes:[],connectors:[]};for(e=Object(m.O)(e,t),i=1;i<e.length;i++)n=n+e[i].wrapper.bounds.topRight.x-e[i-1].wrapper.bounds.topRight.x,r=r+e[i].wrapper.bounds.topLeft.x-e[i-1].wrapper.bounds.topLeft.x,o=o+e[i].wrapper.bounds.topRight.y-e[i-1].wrapper.bounds.topRight.y,a=a+e[i].wrapper.bounds.bottomRight.y-e[i-1].wrapper.bounds.bottomRight.y,s=s+e[i].wrapper.bounds.center.x-e[i-1].wrapper.bounds.center.x,c=c+e[i].wrapper.bounds.center.y-e[i-1].wrapper.bounds.center.y,l=l+e[i].wrapper.bounds.topRight.y-e[i-1].wrapper.bounds.bottomRight.y;for(i=1;i<e.length-1;i++){var p=0,u=0,f=Object(V.e)(e[i-1].wrapper),g=Object(V.e)(e[i].wrapper);"RightToLeft"===t||"Center"===t?p=f.center.x-g.center.x+s/(e.length-1):"Right"===t?p=f.topRight.x-g.topRight.x+n/(e.length-1):"Left"===t?p=f.topLeft.x-g.topLeft.x+r/(e.length-1):"Middle"===t?u=f.center.y-g.center.y+c/(e.length-1):"Top"===t?u=f.topRight.y-g.topRight.y+o/(e.length-1):"Bottom"===t?u=f.bottomRight.y-g.bottomRight.y+a/(e.length-1):"BottomToTop"===t&&(u=f.bottomRight.y-g.topRight.y+l/(e.length-1)),h=this.storeObject(h,e[i]),this.drag(e[i],p,u),this.diagram.updateSelector(),d=this.storeObject(d,e[i])}h=Object(V.b)(h),d=Object(V.b)(d);var y={type:"Distribute",category:"Internal",undoObject:Object(V.b)(h),redoObject:Object(V.b)(d)};this.addHistoryEntry(y)}},e.prototype.sameSize=function(e,t){if(e.length>0){var i,n=0;i={x:.5,y:.5};var r=Object(V.e)(e[0].wrapper),o={nodes:[],connectors:[]},a={nodes:[],connectors:[]};for(n=1;n<e.length;n++){var s=Object(V.e)(e[n].wrapper),c=1,l=1;"Width"===t?c=r.width/s.width:"Height"===t?l=r.height/s.height:"Size"===t&&(c=r.width/s.width,l=r.height/s.height),o=this.storeObject(o,e[n]),this.scale(e[n],c,l,i),a=this.storeObject(a,e[n])}this.diagram.updateSelector(),o=Object(V.b)(o),a=Object(V.b)(a);var h={type:"Sizing",category:"Internal",undoObject:Object(V.b)(o),redoObject:Object(V.b)(a)};this.addHistoryEntry(h)}},e.prototype.storeObject=function(e,t){return t instanceof g.q?e.nodes.push(Object(V.b)(t)):e.connectors.push(Object(V.b)(t)),e},e.prototype.scroll=function(e,t,i){var n=Object(Z.t)(this.diagram),r=Object(Z.u)(this.diagram);this.diagram.pan((e=n?e:0)*this.diagram.scroller.currentZoom,(t=r?t:0)*this.diagram.scroller.currentZoom,i)},e.prototype.drawHighlighter=function(e){this.diagram.renderHighlighter(e.wrapper)},e.prototype.removeHighlighter=function(){this.diagram.clearHighlighter()},e.prototype.renderContainerHelper=function(e){return Object(K.g)(this.diagram,e)},e.prototype.isParentAsContainer=function(e,t){return Object(K.c)(this.diagram,e,t)},e.prototype.dropChildToContainer=function(e,t){Object(K.a)(this.diagram,e,t)},e.prototype.checkSelection=function(e,t){var i;if(1===e.nodes.length&&0===e.connectors.length)if(Object(K.c)(this.diagram,e.nodes[0],!0)){i="SwimLane"===e.nodes[0].shape?e.nodes[0]:this.diagram.nameTable[e.nodes[0].parentId];var n=e.nodes[0];if("SwimLane"===i.shape.type){var r="Horizontal"===i.shape.orientation;(n.isPhase&&(r&&"ResizeSouth"===t||!r&&"ResizeEast"===t)||n.isLane&&(r&&"ResizeEast"===t||!r&&"ResizeSouth"===t))&&Object(Ee.s)(this.diagram,i,t)}else if("Grid"===i.container.type)if("Horizontal"===i.container.orientation&&1===n.rowIndex||"Vertical"===i.container.orientation&&n.rowIndex>0&&n.columnIndex>0){if("ResizeSouth"===t)for(var o=0;o<this.diagram.nodes.length;o++){if((a=this.diagram.nodes[o]).rowIndex===i.rows.length-1&&0===a.columnIndex){this.select(a);break}}}else if("ResizeEast"===t)for(o=0;o<this.diagram.nodes.length;o++){var a;if(1===(a=this.diagram.nodes[o]).rowIndex&&a.columnIndex===i.columns.length-1){this.select(a);break}}}else Object(Ee.s)(this.diagram,e.nodes[0],t)},e.prototype.zoom=function(e,t,i,n){this.diagram.scroller.zoom(e,t*this.diagram.scroller.currentZoom,i*this.diagram.scroller.currentZoom,n)},e}(),Le=function(){function e(e){this.transform={tx:0,ty:0,scale:1},this.oldCollectionObjects=[],this.removeCollection=[],this.vPortWidth=0,this.vPortHeight=0,this.currentZoomFActor=1,this.hOffset=0,this.vOffset=0,this.scrolled=!1,this.hScrollSize=0,this.vScrollSize=0,this.diagram=e,this.objects=[],this.transform=e.scroller?e.scroller.transform:{tx:0,ty:0,scale:1},this.vPortWidth=e.scrollSettings.viewPortWidth,this.vPortHeight=e.scrollSettings.viewPortHeight,this.currentZoomFActor=e.scrollSettings.currentZoom,this.hOffset=e.scrollSettings.horizontalOffset,this.vOffset=e.scrollSettings.verticalOffset}return Object.defineProperty(e.prototype,"viewPortHeight",{get:function(){return this.vPortHeight},set:function(e){this.vPortHeight=e,this.diagram.scrollSettings.viewPortHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentZoom",{get:function(){return this.currentZoomFActor},set:function(e){this.currentZoomFActor=e,this.diagram.scrollSettings.currentZoom=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewPortWidth",{get:function(){return this.vPortWidth},set:function(e){this.vPortWidth=e,this.diagram.scrollSettings.viewPortWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"horizontalOffset",{get:function(){return this.hOffset},set:function(e){this.hOffset=e,Math.abs(this.hOffset-this.diagram.scrollSettings.horizontalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|v.n.hScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.horizontalOffset=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalOffset",{get:function(){return this.vOffset},set:function(e){this.vOffset=e,Math.abs(this.vOffset-this.diagram.scrollSettings.verticalOffset)>1&&(this.diagram.realActions=this.diagram.realActions|v.n.vScrollbarMoved,this.scrolled=!0),this.diagram.scrollSettings.verticalOffset=e},enumerable:!0,configurable:!0}),e.prototype.updateScrollOffsets=function(e,t){var i,n,r=this.getPageBounds(void 0,void 0,!0);r.x*=this.currentZoom,r.y*=this.currentZoom,r.width*=this.currentZoom,r.height*=this.currentZoom,i=Math.max(0,e-r.left),n=Math.max(0,t-r.top),void 0!==e&&void 0!==t?(this.horizontalOffset=i,this.verticalOffset=n,this.diagram.setOffset(i,n)):this.diagram.setOffset(-this.horizontalOffset-r.x,-this.verticalOffset-r.y),this.transform={tx:Math.max(this.horizontalOffset,-r.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-r.top)/this.currentZoom,scale:this.currentZoom}},e.prototype.setScrollOffset=function(e,t){this.scrolled=!1;var i=this.getPageBounds(void 0,void 0,!0);i.x*=this.currentZoom,i.y*=this.currentZoom,i.width*=this.currentZoom,i.height*=this.currentZoom;var n=-i.left,r=-i.top,o=!1,a=this.viewPortWidth*this.currentZoom,s=this.viewPortHeight*this.currentZoom,c=n-e;if(c!==this.horizontalOffset){n<this.horizontalOffset&&(this.horizontalOffset>c?this.horizontalOffset-=e:this.horizontalOffset=c,o=!0);var l=Math.max(i.right+this.vScrollSize,a);if(!o&&l<-c+this.viewPortWidth){var h=-c+a-this.vScrollSize,d=-this.horizontalOffset+a-this.vScrollSize;h<d?this.horizontalOffset=c:h-i.right>h-d?this.horizontalOffset=c:this.horizontalOffset=-(i.right+this.vScrollSize-a),o=!0}o||(this.horizontalOffset=n-e)}o=!1;var p=r-t;if(p!==this.verticalOffset){r<this.verticalOffset&&(this.verticalOffset>p?this.verticalOffset-=t:this.verticalOffset=p,o=!0);var u=Math.max(i.bottom+this.hScrollSize,s);if(!o&&u<-p+s){var f=-p+s-this.hScrollSize,g=-this.verticalOffset+s-this.hScrollSize;f<g?this.verticalOffset=p:f-i.bottom>f-g?this.verticalOffset=p:this.verticalOffset=-(i.bottom+this.hScrollSize-s),o=!0}o||(this.verticalOffset=r-t)}this.transform={tx:Math.max(this.horizontalOffset,-i.left)/this.currentZoom,ty:Math.max(this.verticalOffset,-i.top)/this.currentZoom,scale:this.currentZoom},this.setSize()},e.prototype.getObjects=function(e,t){for(var i=[],n=0;n<e.length;n++){for(var r=!1,o=0;o<t.length;o++)if(e[n]===t[o]){r=!0;break}r||i.push(e[n])}return i},e.prototype.virtualizeElements=function(){for(var e=this.viewPortWidth/this.currentZoom,t=this.viewPortHeight/this.currentZoom,i=this.diagram.spatialSearch.findObjects(new A.a(-this.horizontalOffset/this.currentZoom,-this.verticalOffset/this.currentZoom,e,t)),n=[],r=0;r<i.length;r++)n.push(i[r].id);var o=this.getObjects(n,this.oldCollectionObjects);0===this.oldCollectionObjects.length&&(this.oldCollectionObjects=n);var a=this.getObjects(this.oldCollectionObjects,n);this.diagram.updateVirtualObjects(o,!1,a),this.oldCollectionObjects=n},e.prototype.setSize=function(){var e=this.getPageBounds(void 0,void 0,!0);e.x*=this.currentZoom,e.y*=this.currentZoom,e.width*=this.currentZoom,e.height*=this.currentZoom;var t=Math.min(e.x,-this.horizontalOffset),i=Math.min(e.y,-this.verticalOffset),n=(this.horizontalOffset,this.viewPortWidth,e.right,this.verticalOffset,this.viewPortHeight,e.bottom,this.scrollerWidth),r=this.scrollerWidth;-this.verticalOffset<=e.y&&-this.verticalOffset+this.viewPortHeight>=e.bottom&&(r=0),-this.horizontalOffset<=e.x&&-this.horizontalOffset+this.viewPortWidth>=e.right&&(n=0),this.hScrollSize=n,this.vScrollSize=r;var o=this.diagramWidth,a=this.diagramHeight;this.diagramWidth=Math.max(e.right,-this.horizontalOffset+this.viewPortWidth-r)-t,this.diagramHeight=Math.max(e.bottom,-this.verticalOffset+this.viewPortHeight-n)-i,o===this.diagramWidth&&a===this.diagramHeight||this.diagram.setSize(this.diagramWidth,this.diagramHeight),this.diagram.transformLayers(),this.diagram.element.style.overflow="hidden"},e.prototype.setViewPortSize=function(e,t){this.viewPortWidth=e,this.viewPortHeight=t},e.prototype.getPageBounds=function(e,t,i){var n,r=new A.a;if("Content"!==t&&null!==this.diagram.pageSettings.width&&null!==this.diagram.pageSettings.height){var o=this.diagram.pageSettings.width,a=this.diagram.pageSettings.height,s=0,c=0;if(this.diagram.pageSettings.multiplePage){if((r=this.diagram.spatialSearch.getPageBounds(0,0)).right>o)o*=l=Math.ceil(r.right/o);if(r.bottom>a)a*=l=Math.ceil(r.bottom/a);if(r.left<0&&Math.abs(r.left)>s){var l=Math.ceil(Math.abs(r.left)/this.diagram.pageSettings.width);s=this.diagram.pageSettings.width*l}if(r.top<0&&Math.abs(r.top)>c){l=Math.ceil(Math.abs(r.top)/this.diagram.pageSettings.height);c=this.diagram.pageSettings.height*l}}n=new A.a(-s,-c,o+s,a+c)}else{var h=e?void 0:0;n=this.diagram.spatialSearch.getPageBounds(h,h)}if(i){var d=this.diagram.scrollSettings.padding;n.x-=d.left,n.y-=d.top,n.width+=d.left+d.right,n.height+=d.top+d.bottom}return n},e.prototype.getPageBreak=function(e){for(var t=0,i=0,n=-1,r=[],o=0,a=0,s=0,c=0,l=this.diagram.pageSettings.margin.left,h=this.diagram.pageSettings.margin.right,d=this.diagram.pageSettings.margin.top,p=this.diagram.pageSettings.margin.bottom,u=1,f=1,g={x1:o,y1:s,x2:a,y2:c};e.width>t;)(t+=this.diagram.pageSettings.width?this.diagram.pageSettings.width:e.width)===this.diagram.pageSettings.width&&(g={x1:e.left+l,y1:e.top+d,x2:e.left+l,y2:e.bottom-p},r[++n]=g),t<e.width&&(g={x1:o=e.topLeft.x+this.diagram.pageSettings.width*u,y1:s=e.topLeft.y+d,x2:a=e.bottomLeft.x+this.diagram.pageSettings.width*u,y2:c=e.bottomLeft.y-p},r[++n]=g,u++),e.width===t&&(g={x1:e.right-h,y1:e.top+d,x2:e.right-h,y2:e.bottom-p},r[++n]=g);for(;e.height>i;)(i+=this.diagram.pageSettings.height?this.diagram.pageSettings.height:e.height)===this.diagram.pageSettings.height&&(g={x1:e.left+l,y1:e.top+d,x2:e.right-h,y2:e.top+d},r[++n]=g),i<e.height&&(g={x1:o=e.topLeft.x+l,y1:s=e.topLeft.y+this.diagram.pageSettings.height*f,x2:a=e.topRight.x-h,y2:c=e.topRight.y+this.diagram.pageSettings.height*f},r[++n]=g,f++),e.height===i&&(g={x1:e.left+l,y1:e.bottom-p,x2:e.right-h,y2:e.bottom-p},r[++n]=g);return r},e.prototype.zoom=function(e,t,i,n){if(Object(Z.F)(this.diagram)&&1!==e||Object(Z.s)(this.diagram)&&1===e){var r=Object(Q.a)();if(Object(Q.d)(r,this.currentZoom,this.currentZoom),Object(Q.g)(r,this.horizontalOffset,this.verticalOffset),n=n||{x:(this.viewPortWidth/2-this.horizontalOffset)/this.currentZoom,y:(this.viewPortHeight/2-this.verticalOffset)/this.currentZoom},n=Object(Q.e)(r,n),this.currentZoom*e>=this.diagram.scrollSettings.minZoom&&this.currentZoom*e<=this.diagram.scrollSettings.maxZoom){this.currentZoom*=e;var o=this.getPageBounds(void 0,void 0,!0);o.x*=this.currentZoom,o.y*=this.currentZoom;var a=Object(Q.a)();Object(Q.d)(a,e,e,n.x,n.y),Object(Q.g)(a,t||0,i||0),Object(Q.b)(r,a);var s=Object(Q.e)(r,{x:0,y:0});1===e&&(s=this.applyScrollLimit(s.x,s.y)),this.transform={tx:Math.max(s.x,-o.left)/this.currentZoom,ty:Math.max(s.y,-o.top)/this.currentZoom,scale:this.currentZoom},this.horizontalOffset=s.x,this.verticalOffset=s.y,this.setSize(),"SVG"!==this.diagram.mode&&Object(Z.E)(this.diagram)&&this.diagram.scroller.virtualizeElements(),"SVG"===this.diagram.mode||Object(Z.E)(this.diagram)||this.diagram.refreshDiagramLayer(),this.diagram.setOffset(-this.horizontalOffset-o.x,-this.verticalOffset-o.y),Object(E.g)(this.diagram)}}},e.prototype.fitToPage=function(e){var t=(e=e||{}).mode,i=e.region,n=e.margin||{},r=e.canZoomIn,o=e.customBounds;n.bottom=n.bottom||25,n.top=n.top||25,n.left=n.left||25,n.right=n.right||25;var a,s=o,c=-this.horizontalOffset,l=-this.verticalOffset;if("PageSettings"===(i=i||"PageSettings")&&this.diagram.pageSettings.width&&this.diagram.pageSettings.height||this.diagram.nodes.length>0||this.diagram.connectors.length>0){t=t||"Page","CustomBounds"!==i&&(s=this.getPageBounds(!0,i,!0));var h={x:0,y:0};h.x=(this.viewPortWidth-(n.left+n.right))/s.width,h.y=(this.viewPortHeight-(n.top+n.bottom))/s.height,!r&&s.width-this.horizontalOffset<this.viewPortWidth&&s.height-this.verticalOffset<this.viewPortHeight&&(h.x=Math.min(1,h.x),h.y=Math.min(1,h.y));var d=void 0,p=void 0,u=void 0;switch(t){case"Width":a=(d=h.x)/this.currentZoom,c+=(p=(this.viewPortWidth-s.width*d)/2-s.x*d)+(n.left-n.right)/2*d,l-=-this.verticalOffset*a,l="CustomBounds"!==i?l:l-this.verticalOffset*a;break;case"Height":a=(d=h.y)/this.currentZoom,p=(this.viewPortWidth-s.width*d)/2-s.x*d,u=(this.viewPortHeight-s.height*d)/2-s.y*d,c+=p+(n.left-n.right)/2*d,l+=u+(n.top-n.bottom)/2*d;break;case"Page":a=(d=Math.min(h.x,h.y))/this.currentZoom,p=(this.viewPortWidth-s.width*d)/2-s.x*d,u=(this.viewPortHeight-s.height*d)/2-s.y*d,c+=p+(n.left-n.right)/2*d,l+=u+(n.top-n.bottom)/2*d}this.zoom(a,c,l,{x:0,y:0})}else a=1/this.currentZoom,this.zoom(a,c,l,{x:0,y:0})},e.prototype.bringIntoView=function(e){var t=0,i=0,n=this.currentZoom,r=e,o=-this.horizontalOffset,a=-this.verticalOffset;r=new A.a(r.x*n,r.y*n,r.width*n,r.height*n),new A.a(o,a,this.viewPortWidth,this.viewPortHeight).containsRect(r)||(r.right>-o+this.viewPortWidth&&(t=r.right-this.viewPortWidth),r.x<-o&&(t=r.x),r.bottom>-a+this.viewPortHeight&&(i=r.bottom-this.viewPortHeight),r.y<-a&&(i=r.y),this.zoom(1,-this.horizontalOffset-t,-this.verticalOffset-i,null))},e.prototype.bringToCenter=function(e){var t=this.currentZoom,i=new A.a(e.x*t,e.y*t,e.width*t,e.height*t),n=i.x+i.width/2-this.viewPortWidth/2,r=i.y+i.height/2-this.viewPortHeight/2;this.zoom(1,-this.horizontalOffset-n,-this.verticalOffset-r,null)},e.prototype.applyScrollLimit=function(e,t){if("Infinity"!==this.diagram.scrollSettings.scrollLimit){var i=void 0;"Limited"===this.diagram.scrollSettings.scrollLimit&&(i=this.diagram.scrollSettings.scrollableArea),(i=i||this.getPageBounds(!0)).x*=this.currentZoom,i.y*=this.currentZoom,i.width*=this.currentZoom,i.height*=this.currentZoom,e*=-1,t*=-1;var n=Math.max(i.right,this.viewPortWidth);if(!(e<=i.x&&(e+this.viewPortWidth>=i.right||e>=i.right-this.viewPortWidth)||e>=i.x&&e+this.viewPortWidth<=n))if(e>=i.x)e=Math.max(i.x,Math.min(e,e-(e+this.viewPortWidth-this.vScrollSize-n)));else{var r=i.right-this.viewPortWidth;e=Math.min(r,i.x)}var o=Math.max(i.bottom,this.viewPortHeight);if(!(t<=i.y&&t+this.viewPortHeight>=i.bottom||t>=i.y&&t+this.viewPortHeight<=o))if(t>=i.y)t=Math.max(i.y,Math.min(t,t-(t+this.viewPortHeight-this.hScrollSize-o)));else{r=i.bottom-this.viewPortHeight;t=Math.min(i.y,r)}e*=-1,t*=-1}return{x:e,y:t}},e}(),Re=function(){function e(e,t,i,n,r){this.objects=[],this.left=e,this.top=t,this.width=i,this.height=n,this.spatialSearch=r}return e.prototype.findQuads=function(e,t){null!=this.first&&this.first.isIntersect(e)&&this.first.findQuads(e,t),null!=this.second&&this.second.isIntersect(e)&&this.second.findQuads(e,t),null!=this.third&&this.third.isIntersect(e)&&this.third.findQuads(e,t),null!=this.fourth&&this.fourth.isIntersect(e)&&this.fourth.findQuads(e,t),this.objects.length>0&&t.push(this)},e.prototype.isIntersect=function(e){return!(this.left+this.width<e.left||this.top+this.height<e.top||this.left>e.right||this.top>e.bottom)},e.prototype.selectQuad=function(){for(var e,t=null,i=this;null!=i;)e=i.getQuad(t),i=e.source,t=e.target||t;return t},e.prototype.getQuad=function(t){var i=this.width/2,n=this.height/2;if(i>=1e3&&n>=1e3){var r=this.left+i,o=this.top+n;if(this.spatialSearch.childRight<=r){if(this.spatialSearch.childBottom<=o){if(!this.first)(a=new e(this.left,this.top,i,n,this.spatialSearch)).parent=this,this.first=a;return{source:this.first}}if(this.spatialSearch.childTop>=o){if(!this.third)(a=new e(this.left,o,i,n,this.spatialSearch)).parent=this,this.third=a;return{source:this.third}}}else if(this.spatialSearch.childLeft>=r){if(this.spatialSearch.childBottom<=o){if(!this.second)(a=new e(r,this.top,i,n,this.spatialSearch)).parent=this,this.second=a;return{source:this.second}}if(this.spatialSearch.childTop>=o){var a;if(!this.fourth)(a=new e(r,o,i,n,this.spatialSearch)).parent=this,this.fourth=a;return{source:this.fourth}}}}return this,this.objects.push(this.spatialSearch.childNode),{target:this}},e.prototype.isContained=function(){return this.spatialSearch.childLeft>=this.left&&this.spatialSearch.childRight<=this.left+this.width&&this.spatialSearch.childTop>=this.top&&this.spatialSearch.childBottom<=this.top+this.height},e.prototype.addIntoAQuad=function(e){var t={};this.spatialSearch.setCurrentNode(e);for(var i=null;!t.isAdded;)i=(t=this.spatialSearch.parentQuad.add(i)).quad;return i},e.prototype.add=function(t){if(t=null,this.isContained())return{isAdded:!0,quad:t=this.selectQuad()};var i=void 0,n=0===this.objects.length&&!this.first&&!this.second&&!this.third&&!this.fourth,r=2*this.width,o=2*this.height;return this.spatialSearch.childLeft<this.left?this.spatialSearch.childTop<this.top?(i=new e(this.left-this.width,this.top-this.height,r,o,this.spatialSearch),n||(i.fourth=this)):(i=new e(this.left-this.width,this.top,r,o,this.spatialSearch),n||(i.second=this)):this.spatialSearch.childTop<this.top?(i=new e(this.left,this.top-this.height,r,o,this.spatialSearch),n||(i.third=this)):(i=new e(this.left,this.top,r,o,this.spatialSearch),n||(i.first=this)),this.parent=i,this.spatialSearch.parentQuad=i,{isAdded:!1,quad:t}},e}(),Ne=function(){function e(e){this.quadSize=500,this.objectTable=e,this.parentQuad=new Re(0,0,2*this.quadSize,2*this.quadSize,this),this.pageLeft=Number.MAX_VALUE,this.pageRight=-Number.MAX_VALUE,this.pageTop=Number.MAX_VALUE,this.pageBottom=-Number.MAX_VALUE,this.quadTable={}}return e.prototype.removeFromAQuad=function(e){if(this.quadTable[e.id]){var t=this.quadTable[e.id],i=this.objectIndex(t.objects,e);-1!==i&&(t.objects.splice(i,1),this.update(t),delete this.quadTable[e.id])}},e.prototype.update=function(e){if(e.parent&&0===e.objects.length&&e.first&&e.second&&e.third&&e.fourth){var t=e.parent;t.first===e?t.first=null:t.second===e?t.second=null:t.third===e?t.third=null:t.fourth===e&&(t.fourth=null),this.update(e.parent)}else e!==this.parentQuad||e.first||e.second||e.third||e.fourth||(e.left=0,e.width=1e3,e.top=0,e.height=1e3)},e.prototype.addIntoAQuad=function(e){var t=this.parentQuad.addIntoAQuad(e);this.quadTable[e.id]=t},e.prototype.objectIndex=function(e,t){for(var i=0;i<e.length;i++)if(e[i].id===t.id)return i;return-1},e.prototype.updateQuad=function(e){this.setCurrentNode(e);var t=e.outerBounds;if(isNaN(t.x)||isNaN(t.y)||isNaN(t.width)||isNaN(t.height))return!1;this.quadTable[e.id]?this.quadTable[e.id].isContained()||(this.removeFromAQuad(e),this.addIntoAQuad(e)):this.addIntoAQuad(e);if(!this.isWithinPageBounds(t)||this.leftElement===e||this.topElement===e||this.rightElement===e||this.bottomElement===e){var i=!1;return this.pageLeft===this.childLeft&&e===this.leftElement||(this.pageLeft>=this.childLeft?(this.pageLeft=this.childLeft,this.leftElement=e,i=!0):e===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.findLeft(this.parentQuad),i=!0)),this.pageTop===this.childTop&&e===this.topElement||(this.pageTop>=this.childTop?(this.pageTop=this.childTop,this.topElement=e,i=!0):e===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.findTop(this.parentQuad),i=!0)),this.pageBottom===this.childBottom&&e===this.bottomElement||(this.pageBottom<=this.childBottom?(i=!0,this.pageBottom=this.childBottom,this.bottomElement=e):e===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.findBottom(this.parentQuad),i=!0)),this.pageRight===this.childRight&&e===this.rightElement||(this.pageRight<=this.childRight?(this.pageRight=this.childRight,this.rightElement=e,i=!0):e===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.findRight(this.parentQuad),i=!0)),i}return this.setCurrentNode(null),!1},e.prototype.isWithinPageBounds=function(e){return e.left>=this.pageLeft&&e.right<=this.pageRight&&e.top>=this.pageTop&&e.bottom<=this.pageBottom},e.prototype.findQuads=function(e){var t=[];return this.parentQuad.findQuads(e,t),t},e.prototype.findObjects=function(e){for(var t=[],i=0,n=this.findQuads(e);i<n.length;i++)for(var r=0,o=n[i].objects;r<o.length;r++){var a=o[r];a.outerBounds.intersects(e)&&t.push(this.objectTable[a.id])}return t},e.prototype.updateBounds=function(e){var t=!1;return e===this.topElement&&(this.pageTop=Number.MAX_VALUE,this.topElement=null,this.findTop(this.parentQuad),t=!0),e===this.leftElement&&(this.pageLeft=Number.MAX_VALUE,this.leftElement=null,this.findLeft(this.parentQuad),t=!0),e===this.rightElement&&(this.pageRight=-Number.MAX_VALUE,this.rightElement=null,this.findRight(this.parentQuad),t=!0),e===this.bottomElement&&(this.pageBottom=-Number.MAX_VALUE,this.bottomElement=null,this.findBottom(this.parentQuad),t=!0),t},e.prototype.findBottom=function(e){e.third||e.fourth?(e.third&&this.findBottom(e.third),e.fourth&&this.findBottom(e.fourth)):(e.second&&this.findBottom(e.second),e.first&&this.findBottom(e.first));for(var t=0,i=e.objects;t<i.length;t++){var n=i[t];this.pageBottom<=n.outerBounds.bottom&&(this.pageBottom=n.outerBounds.bottom,this.bottomElement=n)}},e.prototype.findRight=function(e){e.second||e.fourth?(e.second&&this.findRight(e.second),e.fourth&&this.findRight(e.fourth)):(e.first&&this.findRight(e.first),e.third&&this.findRight(e.third));for(var t=0,i=e.objects;t<i.length;t++){var n=i[t];this.pageRight<=n.outerBounds.right&&(this.pageRight=n.outerBounds.right,this.rightElement=n)}},e.prototype.findLeft=function(e){e.first||e.third?(e.first&&this.findLeft(e.first),e.third&&this.findLeft(e.third)):(e.second&&this.findLeft(e.second),e.fourth&&this.findLeft(e.fourth));for(var t=0,i=e.objects;t<i.length;t++){var n=i[t];this.pageLeft>=n.outerBounds.left&&(this.pageLeft=n.outerBounds.left,this.leftElement=n)}},e.prototype.findTop=function(e){e.first||e.second?(e.first&&this.findTop(e.first),e.second&&this.findTop(e.second)):(e.third&&this.findTop(e.third),e.fourth&&this.findTop(e.fourth));for(var t=0,i=e.objects;t<i.length;t++){var n=i[t];this.pageTop>=n.outerBounds.top&&(this.pageTop=n.outerBounds.top,this.topElement=n)}},e.prototype.setCurrentNode=function(e){if(this.childNode=e,e){var t=e.outerBounds;this.childLeft=Number(t.left),this.childTop=Number(t.top),this.childRight=Number(t.right),this.childBottom=Number(t.bottom)}else this.childLeft=Number.MAX_VALUE,this.childTop=Number.MAX_VALUE,this.childRight=-Number.MAX_VALUE,this.childBottom=-Number.MAX_VALUE},e.prototype.getPageBounds=function(e,t){if(this.pageLeft===Number.MAX_VALUE)return new A.a(0,0,0,0);var i=void 0!==e?Math.min(this.pageLeft,0):this.pageLeft,n=void 0!==t?Math.min(this.pageTop,0):this.pageTop;return new A.a(Math.round(i),Math.round(n),Math.round(this.pageRight-i),Math.round(this.pageBottom-n))},e.prototype.getQuad=function(e){return this.quadTable[e.id]},e}(),He=i(39),_e=i(29),Be=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),We=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Be(t,e),We([Object(n.q)(!1)],t.prototype,"preventDefaults",void 0),t}(n.d);i.d(t,"a",function(){return Xe});var Fe=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),Ue=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},Xe=function(e){function t(t,i){var n,r,o=e.call(this,t,i)||this;o.version=17.1,o.connectorTable={},o.groupTable={},o.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0},o.textEditing=!1,o.isTriggerEvent=!1,o.preventNodesUpdate=!1,o.preventConnectorsUpdate=!1,o.selectionConnectorsList=[],o.deleteVirtualObject=!1,o.crudDeleteNodes=[],o.selectedObject={helperObject:void 0,actualObject:void 0},o.renderTimer=null;for(var a=0;t&&t.nodes&&a<t.nodes.length;a++)n=t.nodes[a],r=o.nodes[a],n.children&&n.children.length>0&&(n.style&&n.style.fill||(r.style.fill="transparent"),n.style&&n.style.strokeColor||(r.style.strokeColor="transparent")),n.shape&&"UmlActivity"===n.shape.type&&Object(m.N)(n,r),n.shape&&"SwimLane"===n.shape.type&&Object(m.M)(n,r);return o}return Fe(t,e),t.prototype.clearCollection=function(e){for(var t,i=[],n=0,r=Object.keys(this.nameTable);n<r.length;n++){var o=r[n];(t=this.nameTable[o])&&(e&&t instanceof y.b||!e&&t instanceof g.q)&&i.push(t)}this.clearObjects(i)},t.prototype.onPropertyChanged=function(i,n){for(var r=!0,o=!1,a=!1,s=0,c=Object.keys(i);s<c.length;s++){switch(c[s]){case"width":case"height":this.element.style.width=this.getSizeValue(this.width),this.element.style.height=this.getSizeValue(this.height),this.eventHandler.updateViewPortSize(this.element);for(var l=0,h=this.views;l<h.length;l++){var d=h[l],p=this.views[d];p instanceof t||p.updateView(p)}break;case"nodes":if(i.nodes.length>0&&0===n.nodes.length)this.clearCollection(),a=!0;else{for(var u=0,f=Object.keys(i.nodes);u<f.length;u++){var g=f[u],m=Number(g),y=this.nodes[m],b=i.nodes[m];o=o||void 0!==b.excludeFromLayout,this.nodePropertyChange(y,n.nodes[m],b,void 0,!0,!0);var w={element:y,cause:this.diagramActions,oldValue:n.nodes[m],newValue:i.nodes[m]};this.triggerEvent(v.e.propertyChange,w),r&&(r=!1)}"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"connectors":if(i.connectors.length>0&&0===n.connectors.length)this.clearCollection(!0),a=!0;else{for(var O=0,x=Object.keys(i.connectors);O<x.length;O++){g=x[O],m=Number(g),y=this.connectors[m],b=i.connectors[m];this.connectorPropertyChange(y,n.connectors[m],b,!0,!0);w={element:y,cause:this.diagramActions,oldValue:n.connectors[m],newValue:i.connectors[m]};this.triggerEvent(v.e.propertyChange,w),y&&y.parentId&&"UmlClassifier"===this.nameTable[y.parentId].shape.type&&this.updateConnectorEdges(this.nameTable[y.parentId]||y),r&&(r=!1)}this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer()}break;case"bridgeDirection":this.updateBridging(),"Canvas"===this.mode&&this.refreshDiagramLayer();break;case"backgroundColor":this.intOffPageBackground();break;case"pageSettings":this.validatePageSize(),this.updatePage();break;case"selectedItems":if(i.selectedItems.userHandles&&this.selectedItems.wrapper&&this.selectedItems.userHandles&&this.selectedItems.userHandles.length>0){this.renderSelector(!0);break}if(i.selectedItems.constraints){this.renderSelector(!0);break}break;case"snapSettings":this.updateSnapSettings(i);break;case"commandManager":this.initCommands();break;case"layout":o=!0;break;case"dataSourceSettings":this.clear(),this.initObjects(),"None"===this.layout.type?a=!0:o=!0;break;case"tooltip":Object(Pe.b)(this);break;case"rulerSettings":this.updateRulerSettings(i);break;case"layers":this.updateLayer(i);break;case"scrollSettings":this.updateScrollSettings(i);break;case"locale":this.realActions|=v.n.PreventDataInit,e.prototype.refresh.call(this),this.realActions&=~v.n.PreventDataInit;break;case"contextMenuSettings":if(void 0!==i.contextMenuSettings.showCustomMenuOnly&&(this.contextMenuSettings.showCustomMenuOnly=i.contextMenuSettings.showCustomMenuOnly),void 0!==i.contextMenuSettings.show&&(this.contextMenuSettings.show=i.contextMenuSettings.show),i.contextMenuSettings.items)for(var j=i.contextMenuSettings.items,S=0,P=Object.keys(j);S<P.length;S++){g=P[S],m=Number(g);this.contextMenuSettings.items[m]=j[m]}break;case"serializationSettings":void 0!==i.serializationSettings.preventDefaults&&(this.serializationSettings.preventDefaults=i.serializationSettings.preventDefaults)}}if(o&&this.doLayout(),r){w={element:this,cause:this.diagramActions,oldValue:n,newValue:i};this.triggerEvent(v.e.propertyChange,w)}if(!a&&this.canLogChange()&&this.modelChanged(i,n)){var C={type:"PropertyChanged",undoObject:n,redoObject:i,category:"Internal"};this.addHistoryEntry(C)}this.resetDiagramActions(),a&&(this.initObjects(!0),this.refreshDiagramLayer())},t.prototype.updateSnapSettings=function(e){(void 0!==e.snapSettings.constraints||e.snapSettings.horizontalGridlines||e.snapSettings.verticalGridlines)&&this.diagramRenderer.updateGrid(this.snapSettings,Object(Ce.q)(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.updateRulerSettings=function(e){void 0!==e.rulerSettings.dynamicGrid&&this.diagramRenderer.updateGrid(this.snapSettings,Object(Ce.q)(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),void 0!==e.rulerSettings.showRulers?(this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):void 0===e.rulerSettings.horizontalRuler&&void 0===e.rulerSettings.verticalRuler||(void 0!==e.rulerSettings.horizontalRuler.thickness||void 0!==e.rulerSettings.verticalRuler.thickness?(Object(E.c)(this),this.intOffPageBackground(),this.scroller.setSize(),this.renderRulers()):Object(E.g)(this)),this.diagramRenderer.updateGrid(this.snapSettings,Object(Ce.q)(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler)},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){this.initializePrivateVariables(),this.isProtectedOnChange=!0,this.serviceLocator=new u,this.initializeServices(),this.setCulture();window.measureElement&&(window.measureElement=null),this.initDiagram(),this.initViews(),this.unWireEvents(),this.wireEvents(),this.element.classList.add("e-diagram")},t.prototype.initializePrivateVariables=function(){this.defaultLocale={Copy:"Copy",Cut:"Cut",Paste:"Paste",Undo:"Undo",Redo:"Redo",SelectAll:"Select All",Grouping:"Grouping",Group:"Group",UnGroup:"Un Group",Order:"Order",BringToFront:"Bring To Front",MoveForward:"Move Forward",SendToBack:"Send To Back",SendBackward:"Send Backward"},this.layerZIndex=-1,this.layerZIndexTable={},this.nameTable={},this.pathTable={},this.groupTable={},this.commands={},this.isLoading||(this.views=[]),this.commandHandler=new De(this),this.eventHandler=new ke(this,this.commandHandler),this.spatialSearch=new Ne(this.nameTable),this.scroller=new Le(this)},t.prototype.initializeServices=function(){this.serviceLocator.register("localization",this.localeObj=new n.o(this.getModuleName(),this.defaultLocale,this.locale))},t.prototype.setCulture=function(){this.localeObj=new n.o(this.getModuleName(),this.defaultLocale,this.locale)},t.prototype.render=function(){var e=[];this.dataSourceSettings.crudAction.read&&this.renderInitialCrud(),this.initHistory(),this.diagramRenderer=new a.a(this.element.id,new o.a,"SVG"===this.mode),this.initLayers(),this.initializeDiagramLayers(),this.diagramRenderer.setLayers(),this.initObjects(!0),this.doLayout(),this.validatePageSize(),this.renderPageBreaks(),this.diagramRenderer.renderSvgGridlines(this.snapSettings,Object(Ce.q)(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.commandHandler.initSelectorWrapper(),this.notify("initial-load",{}),this.trigger("load"),this.scroller.setSize(),this.scroller.updateScrollOffsets(),this.refreshDiagramLayer(),(this.scrollSettings.verticalOffset>0||this.scrollSettings.horizontalOffset>0)&&this.updateScrollOffset(),n.c.isDevice&&(this.tool=v.f.ZoomPan|v.f.SingleSelect),this.notify("initial-end",{}),this.isProtectedOnChange=!1,this.tooltipObject=Object(Pe.b)(this),this.diagramActions=v.c.Render;for(var t=this.nodes,i=0;i<t.length;i++)t[i].isExpanded||e.push(t[i]);if(e.length)for(i=e.length-1;i>=0;i--)this.commandHandler.expandNode(e[i],this);this.initCommands(),this.isLoading=!1},t.prototype.renderInitialCrud=function(){var e,t=this;t.dataSourceSettings.crudAction.read&&((e=new n.a(t.dataSourceSettings.crudAction.read,"GET",!1)).onSuccess=function(e){t.dataSourceSettings.dataManager=JSON.parse(e),t.dataBind()},e.send().then());t.dataSourceSettings.connectionDataSource.crudAction.read&&((e=new n.a(t.dataSourceSettings.connectionDataSource.crudAction.read,"GET",!1)).onSuccess=function(e){t.dataSourceSettings.connectionDataSource.dataManager=JSON.parse(e),t.dataBind()},e.send().then())},t.prototype.getModuleName=function(){return"diagram"},t.prototype.getClassName=function(){return"Diagram"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e.push({member:"Bridging",args:[]}),e.push({member:"ConnectorEditingTool",args:[]}),this.constraints&v.d.UndoRedo&&e.push({member:"UndoRedo",args:[]}),("OrganizationalChart"===this.layout.type||"HierarchicalTree"===this.layout.type||this.layout.enableAnimation)&&e.push({member:"LayoutAnimate",args:[]}),this.snapSettings.constraints&&e.push({member:"Snapping",args:[this]}),e.push({member:"PrintandExport",args:[this]}),this.contextMenuSettings.show&&e.push({member:"contextMenu",args:[this,this.serviceLocator]}),"OrganizationalChart"!==this.layout.type&&"HierarchicalTree"!==this.layout.type||e.push({member:"OrganizationalChart",args:[]}),"ComplexHierarchicalTree"===this.layout.type&&e.push({member:"ComplexHierarchicalTree",args:[]}),"MindMap"===this.layout.type&&e.push({member:"MindMapChart",args:[]}),"RadialTree"===this.layout.type&&e.push({member:"RadialTree",args:[]}),"SymmetricalLayout"===this.layout.type&&e.push({member:"SymmetricalLayout",args:[]}),(this.dataSourceSettings.dataManager||this.dataSourceSettings.data||this.dataSourceSettings.crudAction.read||this.dataSourceSettings.connectionDataSource.crudAction.read)&&e.push({member:"DataBinding",args:[]}),e},t.prototype.destroy=function(){if(clearInterval(this.renderTimer),this.renderTimer=null,this.hRuler&&this.vRuler&&(this.hRuler.destroy(),this.vRuler.destroy()),this.tooltipObject.destroy(),this.droppable.destroy(),this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this),document.getElementById(this.element.id)){this.element.classList.remove("e-diagram");for(var t=document.getElementsByClassName("e-tooltip-wrap");t.length>0;)t[0].parentNode.removeChild(t[0]);var i=document.getElementById(this.element.id+"content");i&&this.element.removeChild(i);window.measureElement&&(window.measureElement.usageCount-=1,0===window.measureElement.usageCount&&(window.measureElement.parentNode.removeChild(window.measureElement),window.measureElement=null))}},t.prototype.wireEvents=function(){var e=n.c.touchStartEvent,t=n.c.touchEndEvent,i=n.c.touchMoveEvent,r=n.c.isPointer?"pointerleave":"mouseleave",o=n.c.isPointer,a="mozilla"===n.c.info.name?o?"mousewheel":"DOMMouseScroll":"mousewheel";n.m.add(this.diagramCanvas,e,this.eventHandler.mouseDown,this.eventHandler),n.m.add(this.diagramCanvas,i,this.eventHandler.mouseMove,this.eventHandler),n.m.add(this.diagramCanvas,t,this.eventHandler.mouseUp,this.eventHandler),n.m.add(this.diagramCanvas,r,this.eventHandler.mouseLeave,this.eventHandler),n.m.add(this.diagramCanvas,"keydown",this.eventHandler.keyDown,this.eventHandler),n.m.add(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick,this.eventHandler),n.m.add(this.diagramCanvas,"scroll",this.eventHandler.scrolled,this.eventHandler),n.m.add(this.diagramCanvas,a,this.eventHandler.mouseWheel,this.eventHandler),n.m.add(window,"resize",this.eventHandler.windowResize,this.eventHandler),this.initDroppables()},t.prototype.unWireEvents=function(){var e=n.c.touchStartEvent,t=n.c.touchMoveEvent,i=n.c.isPointer?"pointerleave":"mouseleave",r=n.c.isPointer,o="mozilla"===n.c.info.name?r?"mousewheel":"DOMMouseScroll":"mousewheel",a=n.c.touchEndEvent;n.m.remove(this.diagramCanvas,e,this.eventHandler.mouseDown),n.m.remove(this.diagramCanvas,t,this.eventHandler.mouseMove),n.m.remove(this.diagramCanvas,a,this.eventHandler.mouseUp),n.m.remove(this.diagramCanvas,i,this.eventHandler.mouseLeave),n.m.remove(this.diagramCanvas,"keydown",this.eventHandler.keyDown),n.m.remove(this.diagramCanvas,"dblclick",this.eventHandler.doubleClick),n.m.remove(this.diagramCanvas,"scroll",this.eventHandler.scrolled),n.m.remove(this.diagramCanvas,o,this.eventHandler.mouseWheel),n.m.remove(window,"resize",this.eventHandler.windowResize)},t.prototype.select=function(e,t){null!=e&&this.commandHandler.selectObjects(e,t)},t.prototype.selectAll=function(){var e;e=this.getObjectsOfLayer(this.activeLayer.objects),this.select(e)},t.prototype.unSelect=function(e){e&&ie(this,e)&&this.commandHandler.unSelect(e)},t.prototype.clearSelection=function(){this.commandHandler.clearSelection(!0)},t.prototype.updateViewPort=function(){this.eventHandler.updateViewPortSize(this.element)},t.prototype.cutCommand=function(){this.cut()},t.prototype.cut=function(){this.commandHandler.cut()},t.prototype.addProcess=function(e,t){this.bpmnModule&&this.bpmnModule.addProcess(e,t,this)},t.prototype.removeProcess=function(e){this.bpmnModule&&this.bpmnModule.removeProcess(e,this)},t.prototype.pasteCommand=function(){this.paste()},t.prototype.paste=function(e){this.commandHandler.paste(e)},t.prototype.fitToPage=function(e){this.scroller.fitToPage(e)},t.prototype.bringIntoView=function(e){this.scroller.bringIntoView(e)},t.prototype.bringToCenter=function(e){this.scroller.bringToCenter(e)},t.prototype.copyCommand=function(){this.copy()},t.prototype.copy=function(){return this.commandHandler.copy()},t.prototype.group=function(){this.commandHandler.group()},t.prototype.unGroup=function(){this.commandHandler.unGroup()},t.prototype.sendToBack=function(){this.commandHandler.sendToBack()},t.prototype.setActiveLayer=function(e){var t=this.commandHandler.getLayer(e);this.activeLayer=t},t.prototype.addLayer=function(e,t){this.commandHandler.addLayer(e,t)},t.prototype.removeLayer=function(e){this.commandHandler.removeLayer(e)},t.prototype.moveObjects=function(e,t){this.commandHandler.moveObjects(e,t)},t.prototype.sendLayerBackward=function(e){this.commandHandler.sendLayerBackward(e)},t.prototype.bringLayerForward=function(e){this.commandHandler.bringLayerForward(e)},t.prototype.cloneLayer=function(e){this.commandHandler.cloneLayer(e)},t.prototype.bringToFront=function(){this.commandHandler.bringToFront()},t.prototype.moveForward=function(){this.commandHandler.sendForward()},t.prototype.sendBackward=function(){this.commandHandler.sendBackward()},t.prototype.getObject=function(e){return this.nameTable[e]},t.prototype.getActiveLayer=function(){return this.activeLayer},t.prototype.nudgeCommand=function(e,t,i){"object"!==typeof e&&this.nudge(e)},t.prototype.nudge=function(e,t,i){var n=0,r=0;"Left"===e||"Right"===e?n=("Left"===e?-1:1)*(t||1):r=("Up"===e?-1:1)*(i||1);var o=this.selectedItems,a=this.selectedItems.wrapper.children[0];a instanceof I.a?this.commandHandler.labelDrag(o.nodes[0],a,n,r):this.drag(o,n,r),this.refreshCanvasLayers()},t.prototype.drag=function(e,t,i){if(this.bpmnModule&&e instanceof g.q&&this.bpmnModule.updateAnnotationDrag(e,this,t,i))return;if(e instanceof U.a){if(this.preventConnectorsUpdate=!0,e.nodes&&e.nodes.length)for(var n=0,r=e.nodes;n<r.length;n++){var o=r[n];if(this.drag(o,t,i),o.parentId){var a=this.nameTable[o.parentId];if(a.isLane){var s=this.nameTable[a.parentId];Object(K.j)(a,s,o,this)}}}if(e.connectors&&e.connectors.length)for(var c=0,l=e.connectors;c<l.length;c++){var h=l[c];this.drag(h,t,i),-1===this.selectionConnectorsList.indexOf(h)&&this.selectionConnectorsList.push(h)}this.updateSelector()}else e instanceof g.q&&this.bpmnModule&&this.bpmnModule.updateAnnotationDrag(e,this,t,i),this.commandHandler.drag(e,t,i);if(e instanceof U.a){this.preventConnectorsUpdate=!1;for(var d=0,p=this.selectionConnectorsList;d<p.length;d++){var u=p[d];this.updateConnectorProperties(this.nameTable[u.id]),"Bpmn"===u.shape.type&&"Default"===u.shape.sequence&&this.commandHandler.updatePathElementOffset(u)}this.selectionConnectorsList=[]}this.diagramActions&v.c.ToolAction||this.updateSelector()},t.prototype.scale=function(e,t,i,n){var r=!0;if(e instanceof U.a){if(e.nodes&&e.nodes.length)for(var o=0,a=e.nodes;o<a.length;o++){var s=a[o];r=this.commandHandler.scale(s,t,i,n,e)}if(e.connectors&&e.connectors.length)for(var c=0,l=e.connectors;c<l.length;c++){var h=l[c];this.commandHandler.scale(h,t,i,n,e)}this.updateSelector(),this.refreshCanvasLayers()}else this.commandHandler.scale(e,t,i,n,e.children?e:void 0);return r},t.prototype.rotate=function(e,t,i){var n;if(e)if(i=i||{x:e.wrapper.offsetX,y:e.wrapper.offsetY},e instanceof U.a){e.rotateAngle+=t,e.wrapper.rotateAngle+=t;var r=Object(V.e)(e.wrapper);if(!(n=this.commandHandler.checkBoundaryConstraints(void 0,void 0,r)))return e.rotateAngle-=t,e.wrapper.rotateAngle-=t,n;var o=[];o=(o=o.concat(e.nodes)).concat(e.connectors),this.commandHandler.rotateObjects(e,o,t,i)}else this.commandHandler.rotateObjects(e,[e],t,i);return n},t.prototype.dragSourceEnd=function(e,t,i){this.commandHandler.dragSourceEnd(e,t,i)},t.prototype.dragTargetEnd=function(e,t,i){this.commandHandler.dragTargetEnd(e,t,i)},t.prototype.findObjectsUnderMouse=function(e,t){return this.eventHandler.findObjectsUnderMouse(e,t)},t.prototype.findObjectUnderMouse=function(e,t,i){return this.eventHandler.findObjectUnderMouse(e,t,i)},t.prototype.findTargetObjectUnderMouse=function(e,t,i,n,r){return this.eventHandler.findTargetUnderMouse(e,t,i,n,r)},t.prototype.findElementUnderMouse=function(e,t){return this.eventHandler.findElementUnderMouse(e,t)},t.prototype.findActionToBeDone=function(e,t,i,n){return this.eventHandler.findActionToBeDone(e,t,i,n)},t.prototype.getTool=function(e){var t,i=Object(V.f)(this.getCustomTool);return i&&(t=i(e))?t:this.eventHandler.getTool(e)},t.prototype.getCursor=function(e,t){var i,n=Object(V.f)(this.getCustomCursor);return n&&(i=n(e,t))?i:this.eventHandler.getCursor(e)},t.prototype.initHistory=function(){this.undoRedoModule&&this.undoRedoModule.initHistory(this)},t.prototype.addHistoryEntry=function(e){if(this.undoRedoModule&&this.constraints&v.d.UndoRedo&&!this.currentSymbol){if(e.undoObject&&"helper"===e.undoObject.id)return;this.undoRedoModule.addHistoryEntry(e,this),"StartGroup"!==e.type&&"EndGroup"!==e.type&&this.historyChangeTrigger(e)}},t.prototype.historyChangeTrigger=function(e){var t={},i=[];switch(e&&e.redoObject&&e.redoObject.nodes instanceof Array&&e.redoObject.connectors instanceof Array?i=e.redoObject.nodes.concat(e.redoObject.connectors):e.redoObject&&i.push(e.redoObject),t.type=e.type,e.type){case"PositionChanged":t.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY},t.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY};break;case"RotationChanged":t.oldValue={rotateAngle:e.undoObject.rotateAngle},t.newValue={rotateAngle:e.redoObject.rotateAngle};break;case"SizeChanged":t.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY,width:e.undoObject.width,height:e.undoObject.height},t.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY,width:e.redoObject.width,height:e.redoObject.height};break;case"CollectionChanged":t[e.changeType]=i;break;case"ConnectionChanged":t.oldValue={offsetX:e.undoObject.offsetX,offsetY:e.undoObject.offsetY},t.newValue={offsetX:e.redoObject.offsetX,offsetY:e.redoObject.offsetY}}var n={cause:e.category,source:i,change:t};i.length&&this.triggerEvent(v.e.historyChange,n)},t.prototype.startGroupAction=function(){this.addHistoryEntry({type:"StartGroup",category:"Internal"})},t.prototype.endGroupAction=function(){this.addHistoryEntry({type:"EndGroup",category:"Internal"})},t.prototype.undo=function(){this.undoRedoModule&&this.constraints&v.d.UndoRedo&&this.undoRedoModule.undo(this)},t.prototype.redo=function(){this.undoRedoModule&&this.constraints&v.d.UndoRedo&&this.undoRedoModule.redo(this)},t.prototype.align=function(e,t,i){t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|v.c.PublicMethod,this.commandHandler.align(t,e,i||"Object")},t.prototype.distribute=function(e,t){t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|v.c.PublicMethod,this.commandHandler.distribute(t,e)},t.prototype.sameSize=function(e,t){t||(t=(t=[]).concat(this.selectedItems.nodes,this.selectedItems.connectors)),this.diagramActions=this.diagramActions|v.c.PublicMethod,this.commandHandler.sameSize(t,e)},t.prototype.zoom=function(e,t){this.scroller.zoom(e,0,0,t)},t.prototype.zoomTo=function(e){var t=e.zoomFactor?e.zoomFactor:.2;t="ZoomOut"===e.type?1/(1+t):1+t,this.scroller.zoom(t,0,0,e.focusPoint)},t.prototype.pan=function(e,t,i){this.scroller.zoom(1,e,t,i)},t.prototype.reset=function(){this.scroller.zoom(1/this.scroller.currentZoom,-this.scroller.horizontalOffset,-this.scroller.verticalOffset,{x:0,y:0})},t.prototype.triggerEvent=function(e,t){t&&this.updateEventValue(t),this.trigger(v.e[e],t)},t.prototype.updateEventValue=function(e){var t=e.element;e.element&&t instanceof U.a&&t.nodes.length+t.connectors.length===1&&(e.element=1===t.nodes.length?t.nodes[0]:t.connectors[0])},t.prototype.add=function(e,t){var i,n=this.isProtectedOnChange;if(this.protectPropertyChange(!0),e){var r={element:e=Object(V.b)(e),cause:this.diagramActions,state:"Changing",type:"Addition",cancel:!1};"helper"!==e.id&&this.triggerEvent(v.e.collectionChange,r);this.diagramActions=this.diagramActions|v.c.PublicMethod,e.id=e.id||Object(V.i)();var o=this.activeLayer;if(!r.cancel&&!o.lock){if(o.objects.indexOf(e.id)<0&&!o.lock&&(o.visible||(o.visible=!0,this.dataBind()),o.objects.push(e.id)),Object(m.u)(e)===y.b)(i=new y.b(this,"connectors",e,!0)).status="New",this.connectors.push(i),this.initObject(i),!1===e.visible&&this.updateElementVisibility(i.wrapper,i,e.visible),this.updateEdges(i);else{if((i=new g.q(this,"nodes",e,!0)).parentId=e.parentId,i.umlIndex=e.umlIndex,i.status="New",this.nodes.push(i),this.initObject(i,o,void 0,t),this.bpmnModule){if(i.shape.annotations&&0!==i.shape.annotations.length)for(var a=0,s=this.bpmnModule.getTextAnnotationConn(i);a<s.length;a++){var c=s[a];this.initConnectors(c,o,!1)}i.shape.activity&&i.shape.activity.subProcess.processes&&i.shape.activity.subProcess.processes.length&&this.bpmnModule.updateDocks(i,this)}if(i.umlIndex>-1&&e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type){var l=this.nameTable[e.parentId];l.children.splice(i.umlIndex,0,i.id),l.wrapper.children.splice(i.umlIndex,0,i.wrapper),l.wrapper.measure(new T.a),l.wrapper.arrange(l.wrapper.desiredSize),this.updateDiagramObject(l)}}if(r={element:i,cause:this.diagramActions,state:"Changed",type:"Addition",cancel:!1},"helper"!==e.id&&this.triggerEvent(v.e.collectionChange,r),!(this.diagramActions&v.c.UndoRedo)&&!(this.diagramActions&v.c.Group)&&!(this.diagramActions&v.c.PreventHistory)){var h={type:"CollectionChanged",changeType:"Insert",undoObject:Object(V.b)(e),redoObject:Object(V.b)(e),category:"Internal"};this.addHistoryEntry(h)}"SVG"===this.mode&&(this.updateSvgNodes(i),this.updateDiagramObject(i),i.shape.activity&&i.shape.activity.subProcess.processes&&i.shape.activity.subProcess.processes.length&&this.updateProcesses(i),this.updateBridging())}}return this.protectPropertyChange(n),this.resetDiagramActions(v.c.PublicMethod),i&&this.layers.length>1&&this.moveNode(i),i},t.prototype.updateSvgNodes=function(e){if(e.children)for(var t=0,i=e.children;t<i.length;t++){var n=i[t];if(this.nameTable[n]&&this.nameTable[n].parentId){var r=Object(Ce.m)(n+"_groupElement",this.element.id);r.parentNode.removeChild(r)}}},t.prototype.updateProcesses=function(e){if(this.bpmnModule&&e&&e.shape&&e.shape.activity&&e.shape.activity.subProcess.processes&&e.shape.activity.subProcess.processes.length){var t=e.shape.activity.subProcess.processes;this.moveSvgNode(e.id);for(var i=0,n=t;i<n.length;i++){var r=n[i];this.moveSvgNode(r);for(var o=[],a=(o=o.concat(this.nameTable[r].outEdges,this.nameTable[r].inEdges)).length-1;a>=0;a--)this.moveSvgNode(o[a])}for(var s=0,c=t;s<c.length;s++){r=c[s];this.nameTable[r].shape.activity.subProcess.processes&&this.nameTable[r].shape.activity.subProcess.processes.length&&this.updateProcesses(this.nameTable[r])}}else this.moveSvgNode(e.id)},t.prototype.moveSvgNode=function(e){var t=Object(Ce.m)(e+"_groupElement",this.element.id),i=t.parentElement;t.parentNode.removeChild(t),i.appendChild(t)},t.prototype.addTextAnnotation=function(e,t){if(this.bpmnModule){var i=this.bpmnModule.addAnnotation(t,e,this);if(this.initConnectors(i,this.commandHandler.getObjectLayer(t.id),!1),this.updateDiagramObject(t),!(this.diagramActions&v.c.UndoRedo)&&!(this.diagramActions&v.c.Group)){var n={type:"CollectionChanged",changeType:"Insert",undoObject:Object(V.b)(e),redoObject:Object(V.b)(e),category:"Internal"};this.addHistoryEntry(n)}}},t.prototype.spliceConnectorEdges=function(e,t){var i,n=[];if(i=t?this.nameTable[e.sourceID]:this.nameTable[e.targetID])for(var r=(n=t?i.outEdges:i.inEdges).length-1;r>=0;r--)n[r]===e.id&&n.splice(r,1)},t.prototype.removeDependentConnector=function(e){for(var t,i=[],n=(i=i.concat(e.outEdges,e.inEdges)).length-1;n>=0;n--)(t=this.nameTable[i[n]])&&(this.connectorTable[t.id]=Object(V.b)(t),this.remove(t))},t.prototype.removeObjectsFromLayer=function(e){if(e.children)for(var t=0;t<e.children.length;t++){var i=this.nameTable[e.children[t]];i&&this.removeObjectsFromLayer(i)}var n=this.layers.indexOf(this.commandHandler.getObjectLayer(e.id)),r=this.layers[n].objects.indexOf(e.id);r>-1&&(ie(this,e)&&this.unSelect(e),this.layers[n].objects.splice(r,1),delete this.layers[n].zIndexTable[this.nameTable[e.id].zIndex])},t.prototype.removeElements=function(e){if("SVG"===this.mode||"Canvas"===this.mode&&"Native"===e.shape.type){var t=Object(Ce.m)(e.id+"_groupElement",this.element.id);t&&t.parentNode.removeChild(t)}this.refreshCanvasLayers();for(var i,n=e.wrapper.children,r=0;r<n.length;r++){if(n[r]instanceof _e.a||n[r].id&&n[r].id.indexOf("icon_content")>0){n[r].id.indexOf("icon_content")>0&&"SVG"===this.mode&&((i=Object(Ce.m)(n[r].id+"_shape_groupElement",this.element.id)).parentNode.removeChild(i),(i=Object(Ce.m)(n[r].id+"_rect_groupElement",this.element.id)).parentNode.removeChild(i));for(var o=0,a=this.views;o<a.length;o++){var s=a[o];Object(Ce.E)(n[r].id+"_groupElement",s)}}else if(n[r]instanceof Te.a)for(var c=0,l=this.views;c<l.length;c++){s=l[c];Object(Ce.E)(n[r].id+"_html_element",s)}Object(m.I)(n[r].id)}},t.prototype.removeCommand=function(){this.remove()},t.prototype.remove=function(e){var t,i=[];i=i.concat(this.selectedItems.nodes,this.selectedItems.connectors);var n=!1;if(e){if((e=this.nameTable[e.id])&&e.shape&&"SwimLane"===e.shape.type&&Object(Ee.q)(this,e),e&&(Object(Z.d)(e)||this.diagramActions&v.c.Clear)&&(t={element:e,cause:this.diagramActions,state:"Changing",type:"Removal",cancel:!1},this.diagramActions&v.c.Clear||"helper"===e.id||this.triggerEvent(v.e.collectionChange,t),!t.cancel)){if(this.bpmnModule&&this.bpmnModule.checkAndRemoveAnnotations(e,this))return void this.refreshCanvasLayers();if(!(this.diagramActions&v.c.UndoRedo)&&!(this.diagramActions&v.c.PreventHistory)&&(e instanceof g.q||e instanceof y.b)){var r={type:"CollectionChanged",changeType:"Remove",undoObject:Object(V.b)(e),redoObject:Object(V.b)(e),category:"Internal"};this.diagramActions&v.c.Clear||i.length>0&&this.undoRedoModule&&!this.layout.type&&(this.historyManager.startGroupAction(),n=!0),e instanceof g.q&&this.removeDependentConnector(e),e.isLane||e.isPhase||this.diagramActions&v.c.Clear||this.isStackChild(e)||this.addHistoryEntry(r)}!e.children||e.isLane||e.isPhase||this.deleteGroup(e),e.parentId&&(this.deleteChild(e),this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type&&(this.updateDiagramObject(this.nameTable[e.parentId]),this.updateConnectorEdges(this.nameTable[e.parentId])));var o=void 0;this.diagramActions=this.diagramActions|v.c.PublicMethod;var a=this.nameTable[e.id];if(a instanceof g.q){if("Bpmn"===a.shape.type&&this.bpmnModule&&this.bpmnModule.removeBpmnProcesses(a,this),a.isLane||a.isPhase||"SwimLane"===a.shape.type){(c=a.isLane||a.isPhase?this.nameTable[a.parentId]:this.nameTable[a.id]).wrapper.children[0];a.isLane?Object(Ee.n)(this,a,c):a.isPhase&&Object(Ee.p)(this,a,c)}-1!==(o=this.nodes.indexOf(a))&&(this.crudDeleteNodes.push(this.nameTable[a.id]),this.nodes.splice(o,1),this.updateNodeEdges(a))}else-1!==(o=this.connectors.indexOf(a))&&(this.crudDeleteNodes.push(this.nameTable[a.id]),this.connectors.splice(o,1)),this.updateEdges(a),this.spliceConnectorEdges(e,!0),this.spliceConnectorEdges(e,!1);if(n&&this.historyManager.endGroupAction(),ie(this,a)&&this.unSelect(a),!a.isPhase){if(this.removeObjectsFromLayer(e),this.currentDrawingObject&&(this.currentDrawingObject.wrapper=void 0),delete this.nameTable[e.id],i.length>0&&i[0].id===a.id&&a.parentId){var s=this.nameTable[a.parentId];if(s&&s.isLane&&"SwimLane"===this.nameTable[s.parentId].shape.type){var c=this.nameTable[s.parentId];Object(Ee.o)(this,c,s,a)}}this.removeElements(a),this.updateBridging(),"SVG"!==this.mode&&this.refreshDiagramLayer(),this.diagramActions&v.c.Clear||(this.removeFromAQuad(a),t={element:e,cause:this.diagramActions,state:"Changed",type:"Removal",cancel:!1},"helper"!==e.id&&this.triggerEvent(v.e.collectionChange,t),this.resetTool())}}}else if(i.length>0){this.undoRedoModule&&(this.historyManager.startGroupAction(),n=!0);for(var l=0;l<i.length;l++){i[l];if(this.nameTable[i[l].id]){if(i[l]instanceof y.b&&this.bpmnModule&&this.bpmnModule.textAnnotationConnectors.indexOf(i[l])>-1)return void this.remove(this.nameTable[i[l].targetID]);this.remove(i[l])}}n&&this.historyManager.endGroupAction(),this.clearSelection()}},t.prototype.isStackChild=function(e){var t,i=this.nameTable[e.parentId];if(e&&e.parentId&&i.container&&"Stack"===i.container.type&&"UmlClassifier"!==this.nameTable[e.parentId].shape.type){t=!0;var n={type:"StackChildPositionChanged",redoObject:{sourceIndex:void 0,source:e,target:void 0,targetIndex:void 0},undoObject:{sourceIndex:i.wrapper.children.indexOf(e.wrapper),source:e,target:void 0,targetIndex:void 0},category:"Internal"};this.diagramActions&v.c.UndoRedo||this.addHistoryEntry(n)}return t},t.prototype.deleteChild=function(e,t){var i;if(t=t?this.nameTable[t.id]:this.nameTable[e.parentId],i="string"===typeof e?e:e.id,t&&t.children){for(var n=0;n<t.children.length;n++)if(t.children[n]===i){t.children.splice(n,1);for(var r=0;r<t.wrapper.children.length;r++)t.wrapper.children[r].id===i&&t.wrapper.children.splice(r,1)}t.wrapper.measure(new T.a),t.wrapper.arrange(t.wrapper.desiredSize)}},t.prototype.addChild=function(e,t,i){var n,r=this.nameTable[e.id];if(r.children||(r.children=[]),r.children&&("string"===typeof t?this.nameTable[t]&&(n=t):(n=t.id=t.id||Object(V.i)(),this.add(t)),n&&(!t.umlIndex||-1===t.umlIndex))){var o=this.nameTable[n];o.parentId=r.id,r.container&&"Stack"===r.container.type&&this.updateStackProperty(r,o),i?(r.children.splice(i,0,n),r.wrapper.children.splice(i,0,o.wrapper)):(r.children.push(n),r.wrapper.children.push(o.wrapper)),r.wrapper.measure(new T.a),r.wrapper.arrange(r.wrapper.desiredSize),void 0!==r.container&&(o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY),(!r.parentId||this.nameTable[r.parentId]&&"SwimLane"!==this.nameTable[r.parentId].shape.type)&&this.updateDiagramObject(r)}},t.prototype.clear=function(){this.clearObjects()},t.prototype.clearObjects=function(e){var t=[];t=e||(t=t.concat(this.nodes)).concat(this.connectors),this.diagramActions=this.diagramActions|v.c.Clear;for(var i=0,n=t;i<n.length;i++){var r=n[i];this.nameTable[r.id]&&this.remove(r)}this.diagramActions=this.diagramActions&~v.c.Clear,this.spatialSearch=new Ne(this.nameTable),this.initHistory()},t.prototype.startEditCommad=function(){var e,t=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:void 0;if(t&&t instanceof g.q)if(t.isLane&&t.parentId)for(var i=this.nameTable[t.parentId],n=i.shape.lanes,r=t.id.slice(i.id.length),o=r.substring(0,r.length-1),a=0;a<n.length;a++)t.isLane&&o===n[a].id&&(e=this.nameTable[n[a].header.id]);else if("SwimLane"===t.shape.type&&t.shape.header&&t.shape.hasHeader){var s=t.wrapper.children[0].rows[0].cells[0].children[0].id;e=this.nameTable[s]}this.startTextEdit(e)},t.prototype.startTextEdit=function(e,t){if(!Object(Z.G)(this)||Object(Z.C)(this)){this.textEditing=!0;var i=this.scroller.transform,r=Object(Z.H)(this)?i.scale:1,o=void 0,a=void 0,s=void 0,c=void 0,l=void 0,h=void 0;if(e||(e=this.selectedItems.nodes[0]?this.selectedItems.nodes[0]:this.selectedItems.connectors[0]),e){e.shape&&"UmlClassifier"===e.shape.type&&(e=this.nameTable[e.children[0]]);var d=!1;if(this.bpmnModule&&(h=this.bpmnModule.getTextAnnotationWrapper(e,t))&&(e=this.nameTable[e.id.split("_textannotation_")[0]]),h?d=!0:("Text"!==e.shape.type&&0===e.annotations.length&&(e.constraints&v.k.ReadOnly||(this.activeLabel.isGroup=!0,this.startGroupAction(),this.addLabels(e,[{id:Object(V.i)(),content:""}]))),!t&&("Text"!==e.shape.type&&e.annotations.length>0||"Text"===e.shape.type)&&(t="Text"===e.shape.type?e.wrapper.children[0].id.split("_")[1]:e.annotations[0].id),t&&(h=this.getWrapper(e.wrapper,t))),e&&h&&!(h instanceof Te.a)&&(!Object(Z.J)(h,e)||d)){var p=h.style,u=void 0;u=90>(u=h.bounds.width<e.wrapper.bounds.width?h.bounds.width:e.wrapper.bounds.width)?90:u;var f=document.getElementById(this.element.id+"_editTextBoxDiv"),g=document.getElementById(this.element.id+"_editBox");o=g?g.value:h.content,this.activeLabel.text=o,f||g||(f=Object(Ce.b)("div",{}),g=Object(Ce.b)("textarea",{}),this.diagramCanvas.appendChild(f),f.appendChild(g),g.appendChild(document.createTextNode(o))),(a=Object(Ce.x)(h.style,o,void 0,void 0,u)).isEmpty()&&(a="Text"!==e.shape.type?new T.a(Object(m.i)(e,h.id.split(e.id+"_")[1]).width||50,h.style.fontSize):new T.a(e.width>50?50:e.width,h.style.fontSize)),e.parentId&&"UmlClassifier"===this.nameTable[e.parentId].shape.type?(a.width=e.wrapper.bounds.width-20,c=(e.wrapper.bounds.center.x+i.tx)*i.scale-a.width/2*r-2.5,l=(e.wrapper.bounds.center.y+i.ty)*i.scale-a.height/2*r-3,h.style.textAlign="Left"):(a.width=Math.max(a.width,50),c=(h.bounds.center.x+i.tx)*i.scale-a.width/2*r-2.5,l=(h.bounds.center.y+i.ty)*i.scale-a.height/2*r-3),s={id:this.element.id+"_editTextBoxDiv",style:"position: absolute;left:"+c+"px;top:"+l+"px;width:"+(a.width+1)*r+"px;height:"+a.height*r+"px; containerName:"+e.id+";"},Object(Ce.F)(f,s),s={id:this.element.id+"_editBox",style:"width:"+(a.width+1)*r+"px;height:"+a.height*r+"px;resize: none;outline: none;overflow: hidden;;font-family:"+p.fontFamily+";font-size:"+p.fontSize*r+"px;text-align:"+h.style.textAlign.toLocaleLowerCase()+";",class:"e-diagram-text-edit"},Object(Ce.F)(g,s),g.style.fontWeight=p.bold?"bold":"",g.style.fontStyle=p.italic?"italic":"",g.style.lineHeight=(1.2*p.fontSize+"px;").toString(),g.style.textDecoration=p.textDecoration?p.textDecoration:"",this.activeLabel.parentId=e.id,this.activeLabel.id=t,h.visible=!1,this.updateDiagramObject(e),this.diagramActions=this.diagramActions|v.c.TextEdit,this.isTriggerEvent||(n.m.add(g,"input",this.eventHandler.inputChange,this.eventHandler),n.m.add(g,"focusout",this.focusOutEdit,this),g.select())}}}},t.prototype.updateNodeExpand=function(e,t){for(var i=0;i<e.outEdges.length;i++){var n=this.nameTable[e.outEdges[i]],r=this.nameTable[n.targetID];n.visible=t,t||(this.updateElementVisibility(n.wrapper,n,!1),r.isExpanded=t),this.updateNodeExpand(r,r.isExpanded),r.visible=t,t||this.updateElementVisibility(r.wrapper,r,!1)}},t.prototype.updateConnectorAnnotation=function(e){if(e.annotations.length)for(var t=void 0,i=0,n=e.annotations;i<n.length;i++){var r=n[i];t=this.getWrapper(e.wrapper,r.id),e.updateAnnotation(r,e.intermediatePoints,e.wrapper.bounds,t,this.diagramActions&v.c.Interactions)}e.wrapper.measure(new T.a(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.doLayout=function(){var e,t=!1,i=this.isProtectedOnChange;this.protectPropertyChange(!0);var n={x:this.scroller.viewPortWidth,y:this.scroller.viewPortHeight};if(this.organizationalChartModule?(e=this.organizationalChartModule.updateLayout(this.nodes,this.nameTable,this.layout,n,this.dataSourceSettings.id,this.diagramActions),t=!0,this.layoutAnimateModule&&e.rootNode&&!this.diagramActions&&this.updateNodeExpand(e.rootNode,e.rootNode.isExpanded)):this.mindMapChartModule?(this.mindMapChartModule.updateLayout(this.nodes,this.nameTable,this.layout,n,this.dataSourceSettings.id,this.dataSourceSettings.root),t=!0):this.radialTreeModule?(this.radialTreeModule.updateLayout(this.nodes,this.nameTable,this.layout,n),t=!0):this.symmetricalLayoutModule?(this.symmetricalLayoutModule.maxIteration=this.layout.maxIteration,this.symmetricalLayoutModule.springLength=this.layout.springLength,this.symmetricalLayoutModule.springFactor=this.layout.springFactor,this.symmetricalLayoutModule.updateLayout(this.nodes,this.connectors,this.symmetricalLayoutModule,this.nameTable,this.layout,n),t=!0):this.complexHierarchicalTreeModule&&(this.complexHierarchicalTreeModule.doLayout(this.nodes,this.nameTable,this.layout,n),t=!0),t){this.preventUpdate=!0;for(var r={},o=0,a=this.nodes;o<a.length;o++){var s=a[o];if(this.preventNodesUpdate||this.diagramActions&&this.diagramActions&v.c.PreventIconsUpdate||(this.updateIcon(s),this.updateDefaultLayoutIcons(s)),this.preventNodesUpdate=!0,this.nodePropertyChange(s,{},{offsetX:s.offsetX,offsetY:s.offsetY},!0),this.preventNodesUpdate=!1,s.wrapper.measure(new T.a(s.wrapper.width,s.wrapper.height)),s.wrapper.arrange(s.wrapper.desiredSize),this.updateDiagramObject(s,!0),s.inEdges.length>0)for(var c=0;c<s.inEdges.length;c++){r[(u=this.nameTable[s.inEdges[c]]).id]=u}if(s.outEdges.length>0)for(var l=0;l<s.outEdges.length;l++){var h=this.nameTable[s.outEdges[l]];r[h.id]=h}}for(var d=0,p=Object.keys(r);d<p.length;d++){var u=r[p[d]],f=this.getPoints(u);Object(m.P)(u,f),"Bpmn"===u.shape.type&&"Default"===u.shape.sequence&&this.commandHandler.updatePathElementOffset(u),u.wrapper.measure(new T.a(void 0,void 0)),u.wrapper.arrange(u.wrapper.desiredSize),this.updateConnectorAnnotation(u),this.updateQuad(u),this.updateDiagramObject(u,!0)}this.preventUpdate=!1,this.updatePage(),this.diagramActions&v.c.Render&&"Canvas"!==this.mode||this.refreshDiagramLayer()}return i||this.protectPropertyChange(i),e},t.prototype.saveDiagram=function(){return Object(m.L)(this)},t.prototype.loadDiagram=function(e){return Object(m.h)(e,this)},t.prototype.getDiagramContent=function(e){return this.printandExportModule?this.printandExportModule.getDiagramContent(e):""},t.prototype.exportImage=function(e,t){this.printandExportModule&&this.printandExportModule.exportImages(e,t)},t.prototype.printImage=function(e,t){this.printandExportModule&&(t.printOptions=!0,this.printandExportModule.exportImages(e,t))},t.prototype.setStackLimit=function(e){this.undoRedoModule&&e&&(this.historyManager.stackLimit=e,this.undoRedoModule.applyLimit(this.historyManager.currentEntry,e,this,!0))},t.prototype.clearHistory=function(){this.undoRedoModule&&this.undoRedoModule.clearHistory(this)},t.prototype.getDiagramBounds=function(){if(this.printandExportModule){var e=this.printandExportModule.getDiagramBounds("",{});return e.width=e.width>this.scrollSettings.viewPortWidth?e.width+(e.x>0?e.x:0):this.scrollSettings.viewPortWidth,e.height=e.height>this.scrollSettings.viewPortHeight?e.height+(e.y>0?e.y:0):this.scrollSettings.viewPortHeight,e.x=e.x>0?0:e.x,e.y=e.y>0?0:e.y,e}return new A.a},t.prototype.exportDiagram=function(e){return this.printandExportModule?this.printandExportModule.exportDiagram(e):""},t.prototype.print=function(e){this.printandExportModule&&this.printandExportModule.print(e)},t.prototype.addPorts=function(e,t){var i;this.protectPropertyChange(!0),t.length>1&&this.startGroupAction();for(var n=0;n<t.length;n++){if(i=new Y.a(e,"ports",t[n],!0),e.ports.push(i),e.children){var r=e.wrapper;e.initPorts(this.getDescription,e.wrapper.children[r.children.length-1])}else{e.wrapper.children.push(e.initPortWrapper(e.ports[e.ports.length-1]))}if(!(this.diagramActions&v.c.UndoRedo)&&!(this.diagramActions&v.c.Group)){var o={type:"PortCollectionChanged",changeType:"Insert",undoObject:Object(V.b)(i),redoObject:Object(V.b)(e),category:"Internal"};this.addHistoryEntry(o)}}t.length>1&&this.endGroupAction(),e.wrapper.measure(new T.a(e.width,e.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addConstraints=function(e,t){return e|t},t.prototype.removeConstraints=function(e,t){return e&~t},t.prototype.addLabels=function(e,t){this.protectPropertyChange(!0);var i,n=e.wrapper;t.length>1&&this.startGroupAction();for(var r=0;r<t.length;r++){if(e instanceof g.q)if(i=new z.c(e,"annotations",t[r],!0),e.annotations.push(i),e.children)for(var o=e,a=0;a<o.wrapper.children.length;a++){if(o.wrapper.children[a].id===o.id+"group_container")o.wrapper.children[a].children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id))}else n.children.push(e.initAnnotationWrapper(e.annotations[e.annotations.length-1],this.element.id));else if(e instanceof y.b){i=new z.b(e,"annotations",t[r],!0),e.annotations.push(i);var s=n.children[0],c=new A.a(s.offsetX-s.width/2,s.offsetY-s.height/2,s.width,s.height);n.children.push(e.getAnnotationElement(e.annotations[e.annotations.length-1],e.intermediatePoints,c,this.getDescription,this.element.id))}if(!(this.diagramActions&v.c.UndoRedo)&&!(this.diagramActions&v.c.Group)){var l={type:"LabelCollectionChanged",changeType:"Insert",undoObject:Object(V.b)(i),redoObject:Object(V.b)(e),category:"Internal"};this.addHistoryEntry(l)}}t.length>1&&this.endGroupAction(),e.wrapper.measure(new T.a(n.width,n.height)),e.wrapper.arrange(n.desiredSize),this.updateDiagramObject(e),this.protectPropertyChange(!1)},t.prototype.addLanes=function(e,t,i){for(var n=0;n<t.length;n++)Object(Ee.a)(this,e,t[n],i),void 0!==i&&(i+=1)},t.prototype.addPhases=function(e,t){for(var i=0;i<t.length;i++)Object(Ee.b)(this,e,t[i])},t.prototype.removelabelExtension=function(e,t,i,n){for(var r=0;r<n.children.length;r++){var o=n.children[r];if((o instanceof I.a||o instanceof Te.a)&&o.id.match("_"+t[i].id+"$")){for(var a=0;a<e.annotations.length;a++)if(o.id.match("_"+e.annotations[a].id+"$")){if(!(this.diagramActions&v.c.UndoRedo)){var s={type:"LabelCollectionChanged",changeType:"Remove",undoObject:Object(V.b)(e.annotations[a]),redoObject:Object(V.b)(e),category:"Internal"};this.addHistoryEntry(s)}e.annotations.splice(a,1)}if(n.children.splice(r,1),"SVG"===this.mode){var c=Object(Ce.m)(o.id,this.element.id);if(c){var l=Object(Ce.m)(o.id,this.element.id);l.parentNode.removeChild(l)}Object(Ce.m)(o.id+"_text",this.element.id)&&(c=Object(Ce.m)(o.id+"_text",this.element.id)).parentNode.removeChild(c);var h=Object(Ce.m)(o.id+"_html_element",this.element.id);h&&h.parentNode.removeChild(h)}else this.refreshCanvasLayers()}}},t.prototype.removeLabels=function(e,t){t.length>1&&this.startGroupAction();for(var i=t.length-1;i>=0;i--)if(e.children&&e.children.length>0)for(var n=0;n<e.wrapper.children.length;n++)this.removelabelExtension(e,t,i,e.wrapper.children[n]);else this.removelabelExtension(e,t,i,e.wrapper);t.length>1&&this.endGroupAction()},t.prototype.removePortsExtenion=function(e,t,i,n){for(var r=0;r<n.children.length;r++){var o=n.children[r];if(o instanceof k.a&&o.id.match("_"+t[i].id+"$")){for(var a=0;a<e.ports.length;a++)if(o.id.match("_"+e.ports[a].id+"$")){if(!(this.diagramActions&v.c.UndoRedo)){var s={type:"PortCollectionChanged",changeType:"Remove",undoObject:Object(V.b)(e.ports[a]),redoObject:Object(V.b)(e),category:"Internal"};this.addHistoryEntry(s)}e.ports.splice(a,1)}if(n.children.splice(r,1),"SVG"===this.mode){var c=Object(Ce.m)(o.id,this.element.id);c.parentNode.removeChild(c)}else this.refreshCanvasLayers()}}},t.prototype.removePorts=function(e,t){t.length>1&&this.startGroupAction();for(var i=t.length-1;i>=0;i--)if(e.children&&e.children.length>0)for(var n=0;n<e.wrapper.children.length;n++)this.removePortsExtenion(e,t,i,e.wrapper.children[n]);else this.removePortsExtenion(e,t,i,e.wrapper);t.length>1&&this.endGroupAction()},t.prototype.getSizeValue=function(e,t){var i;if(i=e.toString().indexOf("px")>0?e.toString():e.toString().indexOf("%")>0?void 0!==t?"100%":e.toString():e.toString()+"px",t){Object(E.b)(this);i="calc("+i+" - "+t+"px)"}return i},t.prototype.renderRulers=function(){this.rulerSettings.showRulers?(Object(E.e)(this),Object(E.f)(this,!0),Object(E.f)(this,!1)):Object(E.c)(this)},t.prototype.intOffPageBackground=function(){var e=new T.a;e=Object(E.b)(this);var t=document.getElementById(this.element.id+"content"),i=this.getSizeValue(this.width,e.width),n=this.getSizeValue(this.height,e.height),r=this.rulerSettings.showRulers?"width:"+i+"; height:"+n+";top:"+e.height+"px;left:"+e.width+"px;overflow: scroll;position:absolute;overflow:auto;":"width:"+i+"; height:"+n+";position:absolute; left:0px;  top:0px;overflow: auto;",o={id:this.element.id+"content",tabindex:"0",style:r};t?(this.diagramCanvas=t,this.diagramCanvas.setAttribute("style",r)):(this.diagramCanvas=Object(Ce.b)("div",o),this.element.appendChild(this.diagramCanvas)),this.diagramCanvas.style.background=this.backgroundColor},t.prototype.initDiagram=function(){this.intOffPageBackground(),Object(Ce.F)(this.element,{style:"width:"+this.getSizeValue(this.width)+"; height:"+this.getSizeValue(this.height)+";position:relative;overflow:hidden;"})},t.prototype.renderBackgroundLayer=function(e,t){var i=this.createSvg(this.element.id+"_backgroundLayer_svg",e.width,e.height);i.setAttribute("style",t);var n=Object(Ce.d)("g",{id:this.element.id+"_backgroundImageLayer",class:"e-background-image-layer"});i.appendChild(n);var r={id:this.element.id+"_backgroundLayer",class:"e-background-layer"},o=Object(Ce.d)("g",r);i.appendChild(o),this.diagramCanvas.appendChild(i)},t.prototype.renderGridLayer=function(e,t){var i=this.createSvg(this.element.id+"_gridline_svg",e.width,e.height);i.setAttribute("class","e-grid-layer");var n=Object(Ce.d)("g",{id:this.element.id+"_gridline",width:"100%",height:"100%"}),r=Object(Ce.d)("rect",{id:this.element.id+"_grid_rect",x:"0",y:"0",width:"100%",height:"100%",fill:"url(#"+this.element.id+"_pattern)"});n.appendChild(r),i.appendChild(n),this.diagramCanvas.appendChild(i),Object(Ce.G)(i,{style:t})},t.prototype.renderDiagramLayer=function(e,t){var i={id:this.element.id+"_diagramLayer_div",style:"width:"+e.width+"px; height:"+e.height+"px;"+t};if(this.diagramLayerDiv=Object(Ce.b)("div",i),"SVG"===this.mode){var n=this.createSvg(this.element.id+"_diagramLayer_svg",e.width,e.height);n.setAttribute("style"," pointer-events: none; "),n.setAttribute("class","e-diagram-layer");var o=Object(Ce.d)("g",{id:this.element.id+"_diagramLayer"}),a=Object(Ce.d)("g",{});this.diagramLayer=o,o.setAttribute("style","pointer-events: all;"),a.appendChild(o),n.appendChild(a),this.diagramLayerDiv.appendChild(n)}else this.diagramLayer=r.a.createCanvas(this.element.id+"_diagram",e.width,e.height),this.diagramLayer.setAttribute("style","position:absolute;left:0px;top:0px;"),this.diagramLayerDiv.appendChild(this.diagramLayer);this.diagramCanvas.appendChild(this.diagramLayerDiv)},t.prototype.initLayers=function(){var e="position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",t=document.getElementById(this.element.id).getBoundingClientRect(),i=Object(Ce.u)();this.scroller.scrollerWidth=i,this.scroller.setViewPortSize(t.width,t.height),this.renderRulers(),Object(Ce.c)(),this.renderBackgroundLayer(t,e),this.renderGridLayer(t,e),this.renderDiagramLayer(t,e),this.renderHTMLLayer(t,e),this.renderPortsExpandLayer(t,e),this.renderNativeLayer(t,e),this.renderAdornerLayer(t,e)},t.prototype.renderAdornerLayer=function(e,t){var i=Object(Ce.b)("div",{id:this.element.id+"_diagramAdornerLayer",style:"width:"+e.width+"px;height:"+e.height+"px;"+t}),n=this.createSvg(this.element.id+"_diagramAdorner_svg",e.width,e.height);n.setAttribute("class","e-adorner-layer"),n.setAttribute("style","pointer-events:none;"),this.adornerLayer=Object(Ce.d)("g",{id:this.element.id+"_diagramAdorner"}),this.adornerLayer.setAttribute("style"," pointer-events: all; "),n.appendChild(this.adornerLayer),i.appendChild(n),this.diagramCanvas.appendChild(i);var r=Object(Ce.d)("g",{id:this.element.id+"_SelectorElement"});this.adornerLayer.appendChild(r),Object(Ce.G)(n,{style:"pointer-events:none;"})},t.prototype.renderPortsExpandLayer=function(e,t){var i=this.createSvg(this.element.id+"_diagramPorts_svg",e.width,e.height);i.setAttribute("class","e-ports-expand-layer");var n=Object(Ce.d)("g",{id:this.element.id+"_diagramPorts",class:"e-ports-layer",style:"pointer-events: all;"});i.appendChild(n);var r=Object(Ce.d)("g",{id:this.element.id+"_diagramExpander",class:"e-expand-layer",style:"pointer-events: all;"});i.appendChild(r),this.diagramCanvas.appendChild(i),Object(Ce.G)(i,{style:t})},t.prototype.renderHTMLLayer=function(e,t){this.htmlLayer=Object(Ce.b)("div",{id:this.element.id+"_htmlLayer",style:"width:"+e.width+"px; height:"+e.height+"px;position:absolute;top:0px;left:0px;overflow:hidden;pointer-events:none;",class:"e-html-layer"});var i=Object(Ce.b)("div",{id:this.element.id+"_htmlLayer_div",style:"position:absolute;top:0px;left:0px;pointer-events:all;"});this.htmlLayer.appendChild(i),this.diagramCanvas.appendChild(this.htmlLayer)},t.prototype.renderNativeLayer=function(e,t){var i=this.createSvg(this.element.id+"_nativeLayer_svg",e.width,e.height),n=Object(Ce.d)("g",{id:this.element.id+"_nativeLayer",style:"pointer-events:all;"});i.appendChild(n),this.diagramLayerDiv.appendChild(i),Object(Ce.G)(i,{class:"e-native-layer",style:t})},t.prototype.createSvg=function(e,t,i){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return Object(Ce.G)(n,{id:e,width:t,height:i}),n},t.prototype.initObjects=function(e){this.isLoading||this.initData(),this.initLayerObjects(),this.updateBridging(e)},t.prototype.initLayerObjects=function(){for(var e=this.layers.length>1,t=[],i={},n={},r=[],o=0,a=this.nodes;o<a.length;o++){(b=a[o]).id=b.id||Object(V.i)(),this.addToLayer(b,e),i[b.id]=b}for(var s=0,c=this.connectors;s<c.length;s++){(b=c[s]).id=b.id||Object(V.i)(),this.addToLayer(b,e),i[b.id]=b}for(var l=0,h=this.layers;l<h.length;l++){for(var d=0,p=(S=h[l]).objects;d<p.length;d++){if(i[b=p[d]])if(i[b]instanceof y.b)if((E=i[b]).sourceID&&E.targetID){var u=i[E.sourceID],f=i[E.targetID];u&&u.wrapper&&f&&f.wrapper?this.initConnectors(i[b],S):t.push(i[b])}else this.initConnectors(i[b],S);else i[b].children?r.push(b):i[b].shape instanceof g.g&&i[b].shape.activity.subProcess.processes&&i[b].shape.activity.subProcess.processes.length>0?n[i[b].id]=b:this.initNodes(i[b],S)}if(this.bpmnModule)for(var m=0,v=this.bpmnModule.textAnnotationConnectors;m<v.length;m++){var b=v[m];this.initConnectors(b,S,!1)}}for(var w=0,O=Object.keys(n);w<O.length;w++){b=O[w];this.initObject(i[b]),this.bpmnModule.updateDocks(i[b],this)}for(var x=0,j=r;x<j.length;x++){b=j[x];var S=this.commandHandler.getObjectLayer(b);this.initNodes(i[b],S)}for(var P=0,C=t;P<C.length;P++){var E=C[P];S=this.commandHandler.getObjectLayer(E.id);this.initConnectors(E,S)}},t.prototype.addToLayer=function(e,t){var i;t&&(i=this.commandHandler.getObjectLayer(e.id)),t&&i||-1===this.activeLayer.objects.indexOf(e.id)&&this.activeLayer.objects.push(e.id),this.setZIndex(i||this.activeLayer,e)},t.prototype.updateLayer=function(e){for(var t=0,i=Object.keys(e.layers);t<i.length;t++){for(var n=i[t],r=0,o=this.layers[n].objects;r<o.length;r++){var a=o[r],s=this.nameTable[a];void 0!==e.layers[n].visible?this.updateElementVisibility(s.wrapper,s,e.layers[n].visible):!0===e.layers[n].lock&&this.unSelect(s)}void 0!==e.layers[n].lock&&(this.layers[n].lock=e.layers[n].lock)}"SVG"!==this.mode&&this.refreshDiagramLayer()},t.prototype.updateScrollSettings=function(e){var t=-this.scroller.horizontalOffset+e.scrollSettings.horizontalOffset||0,i=this.scroller.verticalOffset-e.scrollSettings.verticalOffset||0,n={VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom};0===t&&0===i||this.pan(t,i);var r={oldValue:n,newValue:{VerticalOffset:this.scrollSettings.verticalOffset,HorizontalOffset:this.scrollSettings.horizontalOffset,ViewportHeight:this.scrollSettings.viewPortHeight,ViewportWidth:this.scrollSettings.viewPortWidth,CurrentZoom:this.scroller.currentZoom},source:this};this.triggerEvent(v.e.scrollChange,r),"Canvas"===this.mode&&this.constraints&v.d.Virtualization&&this.refreshDiagramLayer()},t.prototype.initData=function(){!this.dataBindingModule||this.realActions&v.n.PreventDataInit||(this.dataSourceSettings.dataManager&&this.dataSourceSettings.connectionDataSource.dataManager?(this.nodes=this.generateData(this.dataSourceSettings.dataManager,!0),this.connectors=this.generateData(this.dataSourceSettings.connectionDataSource.dataManager,!1)):this.dataSourceSettings.dataManager&&this.dataSourceSettings.dataManager.dataSource&&void 0!==this.dataSourceSettings.dataManager.dataSource.url?this.dataBindingModule.initSource(this.dataSourceSettings,this):this.dataBindingModule.initData(this.dataSourceSettings,this))},t.prototype.generateData=function(e,t){var i,n=[];for(i=0;i<e.length;i++){var r=e[i],o=t?this.makeData(r,!0):this.makeData(r,!1);!o||!o.id||Object(m.k)(n,o.id)&&Object(m.k)(n,o.id)||n.push(o)}return n},t.prototype.makeData=function(e,t){var i,n=t?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource,r={};if(r.id=e[n.id]?e[n.id]:Object(V.i)(),n.sourceID&&(r.sourceID=e[n.sourceID]),n.targetID&&(r.targetID=e[n.targetID]),e[n.sourcePointX]&&e[n.sourcePointY]&&(r.sourcePoint={x:Number(e[n.sourcePointX]),y:Number(e[n.sourcePointY])}),e[n.targetPointX]&&e[n.targetPointY]&&(r.targetPoint={x:Number(e[n.targetPointX]),y:Number(e[n.targetPointY])}),n.crudAction.customFields&&n.crudAction.customFields.length>0)for(i=0;i<n.crudAction.customFields.length;i++)r[n.crudAction.customFields[i]]=e[n.crudAction.customFields[i]];return r},t.prototype.initNodes=function(e,t){this.preventUpdate=!0,this.initObject(e,t),this.preventUpdate=!1},t.prototype.initConnectors=function(e,t,i){this.preventUpdate=!0,this.initObject(e,t,i),this.updateEdges(e),this.preventUpdate=!1},t.prototype.setZIndex=function(e,t){var i=e;if(-1===t.zIndex){for(;i.zIndexTable[i.objectZIndex+1];)e.objectZIndex++;t.zIndex=++i.objectZIndex}else{var n=t.zIndex;if(i.zIndexTable[n])for(var r=Object.keys(i.zIndexTable).length,o=0;o<r;o++){if(o===n){for(var a=r;a>n;a--)i.zIndexTable[a]=i.zIndexTable[a-1],this.nameTable[i.zIndexTable[a]]&&(this.nameTable[i.zIndexTable[a]].zIndex=a);i.zIndexTable[o]=t.id}0}}},t.prototype.initializeDiagramLayers=function(){this.layers;for(var e=0;e<this.layers.length;e++)if(-1!==this.layers[e].zIndex){var t=this.layers[e];this.layers[e]=this.layers[this.layers[e].zIndex],this.layers[t.zIndex]=t}for(var i=0,n=this.layers;i<n.length;i++){var r=n[i];r.zIndex=-1!==r.zIndex?r.zIndex:this.layers.indexOf(r),this.layerZIndexTable[r.zIndex]=r.id}for(e=0;e<this.layers.length;e++)for(var o=e+1;o<this.layers.length;o++)if(this.layers[e].zIndex>this.layers[o].zIndex){t=this.layers[e];this.layers[e]=this.layers[o],this.layers[o]=t}if(0===this.layers.length){this.commandHandler.addLayer({id:"default_layer",visible:!0,lock:!1,objects:[],zIndex:0,objectZIndex:-1,zIndexTable:{}})}this.setActiveLayer(this.layers[this.layers.length-1].id)},t.prototype.resetTool=function(){this.eventHandler.resetTool()},t.prototype.initObjectExtend=function(e,t,i){if(i){var n=this.commandHandler.checkBoundaryConstraints(void 0,void 0,e.wrapper.bounds);if(t.zIndexTable[e.zIndex]=e.id,!n){for(var r=e instanceof g.q?this.nodes:this.connectors,o=0;o<=r.length;o++)r[o]&&e.id===r[o].id&&r.splice(o,1);delete t.zIndexTable[e.zIndex]}}},t.prototype.initObject=function(e,t,i,n){if(void 0===i&&(i=!0),void 0!==e){if(i&&(t||(this.addToLayer(e,!1),t=this.activeLayer),(e instanceof g.q||e instanceof y.b)&&this.setZIndex(t,e)),e instanceof g.q){if(i){if("helper"!==e.id)if(r=Object(V.f)(this.getNodeDefaults))(o=r(e,this))&&o!==e&&Object(V.d)(o,e);this.initNode(e,this.element.id)}}else if(e instanceof y.b){var r,o;if(r=Object(V.f)(this.getConnectorDefaults))(o=r(e,this))&&o!==e&&Object(V.d)(o,e),e.segments.length&&e.type!==e.segments[0].type&&(e.segments=[]);var a=this.nameTable[e.sourceID],s=this.nameTable[e.targetID],c=this.getConnectedPort(a,e),l=this.getConnectedPort(s,e),h=this.findInOutConnectPorts(a,!1),d=this.findInOutConnectPorts(s,!0);if((void 0!==a&&Object(Z.q)(a)||""!==e.sourcePortID&&Object(Z.w)(h))&&(e.sourceWrapper=this.getEndNodeWrapper(a,e,!0),e.sourcePortID&&(!c||!c.constraints||c.constraints&v.l.None||(e.sourcePortWrapper=this.getWrapper(a.wrapper,e.sourcePortID)))),(void 0!==s&&Object(Z.n)(s)||""!==e.targetPortID&&Object(Z.v)(d))&&(e.targetWrapper=this.getEndNodeWrapper(s,e,!1),e.targetPortID&&(!l||!l.constraints||l.constraints&v.l.None||(e.targetPortWrapper=this.getWrapper(s.wrapper,e.targetPortID)))),!i){var p=e.getConnectorPoints(e.type);Object(m.P)(e,p)}i&&e.init(this);for(var u=0;u<e.wrapper.children.length;u++)this.pathTable[e.wrapper.children[u].data]&&(e.wrapper.children[u].absoluteBounds=this.pathTable[e.wrapper.children[u].data].absoluteBounds);e.wrapper.measure(new T.a(void 0,void 0)),e.wrapper.arrange(e.wrapper.desiredSize);for(var f=0;f<e.wrapper.children.length;f++)this.pathTable[e.wrapper.children[f].data]={},this.pathTable[e.wrapper.children[f].data].absoluteBounds=e.wrapper.children[f].absoluteBounds}if(e instanceof g.q&&e.children&&e.container)for(var b=0;b<e.children.length;b++)this.nameTable[e.children[b]].offsetX=this.nameTable[e.children[b]].wrapper.offsetX,this.nameTable[e.children[b]].offsetY=this.nameTable[e.children[b]].wrapper.offsetY;if(this.bpmnModule&&e instanceof g.q&&"Bpmn"===e.shape.type&&e.shape.annotations.length>0&&this.bpmnModule.updateQuad(e,this),this.initObjectExtend(e,t,i),this.nameTable[e.id]=e,e instanceof g.q&&e.children){n||e.container||this.updateGroupOffset(e,!0),this.groupTable[e.id]=e.children;for(b=0;b<e.children.length;b++){var w=this.nameTable[e.children[b]];w&&(w.parentId=e.id)}this.isLoading||!e.rotateAngle||e.container||this.commandHandler.rotateObjects(e,[e],e.rotateAngle,{x:e.offsetX,y:e.offsetY},!1)}this.updateQuad(e)}!1===e.visible&&this.updateElementVisibility(e.wrapper,e,!1)},t.prototype.getConnectedPort=function(e,t){if(e&&e.ports)for(var i=0,n=e.ports;i<n.length;i++){var r=n[i];if(r.id===t.sourcePortID)return r;if(r.id===t.targetPortID)return r}return null},t.prototype.scaleObject=function(e,t,i){var n=i?e.wrapper.actualSize.width:e.wrapper.actualSize.height,r=i?1+(t-n)/n:1,o=i?1:1+(t-n)/n;e.offsetX,e.offsetY;this.realActions|=v.n.PreventDrag,this.scale(e,r,o,{x:.5,y:.5}),this.realActions&=~v.n.PreventDrag},t.prototype.updateDefaultLayoutIcons=function(e){"OrganizationalChart"!==this.layout.type&&"HierarchicalTree"!==this.layout.type&&"ComplexHierarchicalTree"!==this.layout.type||(this.updateDefaultLayoutIcon(e,e.expandIcon),this.updateDefaultLayoutIcon(e,e.collapseIcon))},t.prototype.updateDefaultLayoutIcon=function(e,t){if("None"!==t.shape&&"Auto"===t.horizontalAlignment&&"Auto"===t.verticalAlignment&&.5===t.offset.x&&1===t.offset.y){var i=this.getWrapper(e.wrapper,"icon_content"),n=void 0,r=void 0;"TopToBottom"===this.layout.orientation||"BottomToTop"===this.layout.orientation?(n=.5,r="TopToBottom"===this.layout.orientation?1:0):"RightToLeft"!==this.layout.orientation&&"LeftToRight"!==this.layout.orientation||(n="LeftToRight"===this.layout.orientation?1:0,r=.5),i.setOffsetWithRespectToBounds(n,r,"Fraction"),i.horizontalAlignment="Center",i.verticalAlignment="Center",e.wrapper.measure(new T.a(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize)}},t.prototype.updateGroupOffset=function(e,t){if(e.children&&e.children.length>0&&!e.container||e.processId){var i=this.nameTable[e.id];if(!(this.realActions&v.n.PreventScale)&&!(this.realActions&v.n.PreventDrag)){if(!i.offsetX||this.diagramActions&v.c.ToolAction||this.diagramActions&v.c.PublicMethod)i.offsetX=e.wrapper.offsetX;else{this.realActions|=v.n.PreventScale;var n=i.offsetX-e.wrapper.offsetX;i.offsetX=e.wrapper.offsetX,"None"===e.flip&&this.drag(i,n,0),this.realActions&=~v.n.PreventScale}if(!i.offsetY||this.diagramActions&v.c.ToolAction)i.offsetY=e.wrapper.offsetY;else{this.realActions|=v.n.PreventScale;var r=i.offsetY-e.wrapper.offsetY;i.offsetY=e.wrapper.offsetY,"None"===e.flip&&this.drag(i,0,r),this.realActions&=~v.n.PreventScale}this.diagramActions&&(i.width=e.wrapper.actualSize.width,i.height=e.wrapper.actualSize.height)}}t&&e.children&&e.children.length>0&&(void 0!==this.nameTable[e.id].width?this.scaleObject(e,this.nameTable[e.id].width,!0):this.nameTable[e.id].width=e.wrapper.actualSize.width,void 0!==this.nameTable[e.id].height?this.scaleObject(e,this.nameTable[e.id].height,!1):this.nameTable[e.id].height=e.wrapper.actualSize.height)},t.prototype.initNode=function(e,t,i){var n,r,o=e.initContainer(),a=new D.a;if(o.children||(o.children=[]),e.children){if(o.measureChildren=!1,e.container&&"Grid"===e.container.type)for(var s=0;s<e.children.length;s++){var c=new D.a,l=this.nameTable[e.children[s]];c.children=[],c.children.push(l.wrapper),l&&o.addObject(l.wrapper,l.rowIndex,l.columnIndex,l.rowSpan,l.columnSpan)}else for(s=0;s<e.children.length;s++)if(this.nameTable[e.children[s]]){l=this.nameTable[e.children[s]];this.updateStackProperty(e,l,s),o.children.push(l.wrapper),o.elementActions=o.elementActions|v.g.ElementIsGroup,l.wrapper.flip="None"===l.wrapper.flip?e.wrapper.flip:l.wrapper.flip}a.id=e.id+"group_container",a.style.fill="none",a.style.strokeColor="none",a.horizontalAlignment="Stretch",a.verticalAlignment="Stretch",o.style=e.style,a.children=[],a.preventContainer=!0,e.container&&(a.relativeMode="Object"),e.container&&"Grid"===e.container.type||o.children.push(a)}else{var h=Object(V.f)(this.setNodeTemplate);h&&(n=h(e,this)),n||(n=e.init(this)),o.children.push(n)}r=Object(V.f)(this.getDescription),(e.children?o:n).description=r||(e.annotations.length?e.annotations[0].content:e.id);var d=e.children?a:o;e.initAnnotations(this.getDescription,d,this.element.id,!!Object(Z.E)(this)),e.initPorts(this.getDescription,d),e.initIcons(this.getDescription,this.layout,d,t),"SwimLane"===e.shape.type&&e.wrapper&&e.wrapper.children.length>0&&e.wrapper.children[0]instanceof L.b?(Object(Ee.r)(e),Object(Ee.c)(this,e)):(o.measure(new T.a(e.width,e.height)),o instanceof L.b?o.arrange(o.desiredSize,!0):o.arrange(o.desiredSize)),"None"!==e.wrapper.flip&&e.wrapper.elementActions&v.g.ElementIsGroup&&Object(m.a)(e.wrapper,e.wrapper.offsetX,e.wrapper.offsetY,this,e.wrapper.flip),e instanceof g.q&&e.container&&(e.width<o.outerBounds.width||e.height<o.outerBounds.height)&&o.bounds.x<=o.outerBounds.x&&o.bounds.y<=o.outerBounds.y&&(e.width=o.width=o.outerBounds.width,e.height=o.height=o.outerBounds.height,o.measure(new T.a(e.width,e.height)),o.arrange(o.desiredSize)),e.container&&"Grid"===e.container.type&&e.children&&e.children.length>0&&this.updateChildPosition(e)},t.prototype.updateChildPosition=function(e){for(var t=0;t<e.children.length;t++){var i=this.getObject(e.children[t]);i.offsetX=i.wrapper.offsetX,i.offsetY=i.wrapper.offsetY,i.children&&i.children.length>0&&this.updateChildPosition(i)}},t.prototype.canExecute=function(){return!0},t.prototype.updateStackProperty=function(e,t,i){e.container&&"Stack"===e.container.type&&(t.width||(t.wrapper.horizontalAlignment="Stretch",t.horizontalAlignment="Stretch"),t.height||(t.verticalAlignment="Stretch",t.wrapper.verticalAlignment="Stretch"),i&&"UmlClassifier"===e.shape.type&&(t.umlIndex=i))},t.prototype.initViews=function(){this.isLoading||(this.views.push(this.element.id),this.views[this.element.id]=this)},t.prototype.initCommands=function(){var e=this.commandManager.commands,t={copy:{execute:this.copyCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.C,keyModifiers:v.h.Control}},paste:{execute:this.pasteCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.V,keyModifiers:v.h.Control}},cut:{execute:this.cutCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.X,keyModifiers:v.h.Control}},delete:{execute:this.removeCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Delete}},selectAll:{execute:this.selectAll.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.A,keyModifiers:v.h.Control}},undo:{execute:this.undo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Z,keyModifiers:v.h.Control}},redo:{execute:this.redo.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Y,keyModifiers:v.h.Control}},nudgeUp:{execute:this.nudgeCommand.bind(this,"Up"),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Up},parameter:"up"},nudgeRight:{execute:this.nudgeCommand.bind(this,"Right"),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Right},parameter:"right"},nudgeDown:{execute:this.nudgeCommand.bind(this,"Down"),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Down},parameter:"down"},nudgeLeft:{execute:this.nudgeCommand.bind(this,"Left"),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Left},parameter:"left"},startEdit:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.F2}},endEdit:{execute:this.endEditCommand.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Escape}},focusToNextItem:{canExecute:this.canExecute.bind(this),gesture:{key:v.i.Tab}},focusToPreviousItem:{canExecute:this.canExecute.bind(this),gesture:{key:v.i.Tab,keyModifiers:v.h.Control}},selectFocusedItem:{execute:this.startEditCommad.bind(this),canExecute:this.canExecute.bind(this),gesture:{key:v.i.Enter}}};this.initCommandManager(e,t)},t.prototype.overrideCommands=function(e,t){for(var i,n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];if(i=t[o],e.gesture.key===i.gesture.key&&e.gesture.keyModifiers===i.gesture.keyModifiers){delete t[o];break}}},t.prototype.initCommandManager=function(e,t){var i=0;if(e)for(i=0;i<e.length;i++)t[e[i].name]&&e[i]?(e[i].canExecute&&(t[e[i].name].canExecute=e[i].canExecute),e[i].execute&&(t[e[i].name].execute=e[i].execute),(e[i].gesture.key||e[i].gesture.keyModifiers)&&(t[e[i].name].gesture=e[i].gesture),""!==e[i].parameter&&(t[e[i].name].parameter=e[i].parameter)):(this.overrideCommands(e[i],t),t[e[i].name]={execute:e[i].execute,canExecute:e[i].canExecute,gesture:e[i].gesture,parameter:e[i].parameter});this.commands=t},t.prototype.updateNodeEdges=function(e){for(var t=0,i=e.inEdges;t<i.length;t++){var n=i[t];this.nameTable[n]&&(this.nameTable[n].targetID="")}for(var r=0,o=e.outEdges;r<o.length;r++){n=o[r];this.nameTable[n]&&(this.nameTable[n].sourceID="")}e.inEdges=[],e.outEdges=[]},t.prototype.updateIconVisibility=function(e,t){for(var i=0;i<e.wrapper.children.length;i++){var n=e.wrapper.children[i];if(n.id){var r=n.id.split(e.id)[1];r&&r.match("^_icon")&&(n.visible=t,this.updateDiagramContainerVisibility(n,t))}}},t.prototype.updateEdges=function(e){var t;void 0!==e.sourceID&&""!==e.sourceID&&((t=this.nameTable[e.sourceID])&&t.outEdges&&0===t.outEdges.length&&(t.outEdges=[]),t&&t.outEdges&&-1===t.outEdges.indexOf(e.id)&&t.outEdges.push(e.id));if(void 0!==e.targetID&&""!==e.targetID&&((t=this.nameTable[e.targetID])&&t.inEdges&&0===t.inEdges.length&&(t.inEdges=[]),t&&t.inEdges&&-1===t.inEdges.indexOf(e.id)&&t.inEdges.push(e.id),t&&t.visible&&t.outEdges)){var i=0!==t.outEdges.length;this.updateIconVisibility(t,i)}},t.prototype.refreshDiagram=function(){this.initLayerObjects(),this.doLayout(),this.updateBridging(),this.scroller.setSize()},t.prototype.updateCanupdateStyle=function(e,t){for(var i=0;i<e.length;i++)e[i].children&&this.updateCanupdateStyle(e[i].children,t),e[i].canApplyStyle=t},t.prototype.getZindexPosition=function(e,t){var i,n=[],r=void 0;if(n=(n=n.concat(this.nodes)).concat(this.connectors),-1!==e.zIndex)for(var o=0;o<n.length;o++)n[o].zIndex>e.zIndex&&("HTML"!==e.shape.type&&"Native"!==e.shape.type||(i="HTML"===e.shape.type?"html":"native"),r=Object(Ce.o)(t,n[o].id,i));return r},t.prototype.updateDiagramObject=function(e,t){for(var i,n=0,r=this.views;n<r.length;n++){var o=r[n];if(i=this.views[o],this.diagramActions&&"SVG"===i.mode){var a=Object(Ce.r)(this.element.id),s=document.getElementById(i.element.id+"_diagramLayer");this.diagramActions&v.c.Interactions&&this.updateCanupdateStyle(e.wrapper.children,!0),this.diagramRenderer.updateNode(e.wrapper,s,a,void 0,t?void 0:this.getZindexPosition(e,i.element.id)),this.updateCanupdateStyle(e.wrapper.children,!0)}}},t.prototype.updateGridContainer=function(e){for(var t,i=Object(Ce.r)(this.element.id),n=0,r=this.views;n<r.length;n++){var o=r[n];if("SVG"===(t=this.views[o]).mode&&this.diagramActions){var a=document.getElementById(t.element.id+"_diagramLayer");this.diagramRenderer.updateNode(e,a,i,void 0)}else this.refreshCanvasDiagramLayer(t)}},t.prototype.getObjectsOfLayer=function(e){for(var t=[],i=0,n=e;i<n.length;i++){var r=n[i];this.nameTable[r]&&t.push(this.nameTable[r])}return t},t.prototype.refreshDiagramLayer=function(){for(var e,t=0,i=this.views;t<i.length;t++){var n=i[t];switch((e=this.views[n]).mode){case"SVG":this.refreshSvgDiagramLayer(e);break;case"Canvas":this.refreshCanvasLayers(e)}}},t.prototype.refreshCanvasLayers=function(e){if(e)this.refreshCanvasDiagramLayer(e);else for(var t=0,i=this.views;t<i.length;t++){var n=i[t],r=this.views[n];this.refreshCanvasDiagramLayer(r)}},t.prototype.renderBasicElement=function(e){for(var t=Object(Ce.r)(e.element.id),i=0;i<this.basicElements.length;i++){var n=this.basicElements[i];n instanceof f.a&&(n.prevRotateAngle=0),n.measure(new T.a(n.width,n.height)),n.arrange(n.desiredSize),e.diagramRenderer.renderElement(n,e.diagramLayer,t)}},t.prototype.refreshElements=function(e){if(!this.isDestroyed){this.clearCanvas(e),e instanceof t&&(e.diagramLayer.getContext("2d").setTransform(e.scroller.currentZoom,0,0,e.scroller.currentZoom,0,0),e.diagramLayer.getContext("2d").scale(1.5,1.5));var i=Object(Ce.r)(e.element.id);this.spatialSearch.getPageBounds();this.renderDiagramElements(e.diagramLayer,e.diagramRenderer,i);for(var n=0;n<this.basicElements.length;n++){var r=this.basicElements[n];r.measure(new T.a(r.width,r.height)),r.arrange(r.desiredSize),e.diagramRenderer.renderElement(r,e.diagramLayer,i)}e instanceof t&&(e.diagramLayer.style.transform="scale("+2/3+")",e.diagramLayer.style.transformOrigin="0 0"),this.renderTimer=null}},t.prototype.refreshCanvasDiagramLayer=function(e){var t=this;"SVG"===e.mode||this.isDestroyed||(this.basicElements.length>0&&this.renderBasicElement(e),!this.diagramActions||0===(this.diagramActions&v.c.Render)||v.c.ToolAction&this.diagramActions||Object(Z.E)(this)||1!==this.scroller.currentZoom?this.refreshElements(e):this.renderTimer||(this.renderTimer=setTimeout(function(){t.refreshElements(e)},40)))},t.prototype.updatePortVisibility=function(e,t,i){var n,r=!this.drawingObject||!this.drawingObject.shape;if(e instanceof g.q&&r&&Object(Z.o)(e)){for(var o=e.ports,a=!1,s=0;s<o.length;s++)n=this.getWrapper(e.wrapper,o[s].id),(t&v.m.Hover||t&v.m.Connect)&&Object(m.f)(o[s],t)&&(n.visible=!i,a=!0);a&&this.updateDiagramObject(e)}},t.prototype.refreshSvgDiagramLayer=function(e){var t,i=document.getElementById(e.element.id+"_diagramLayer"),n=Object(Ce.r)(e.element.id);if(Object(Z.E)(this))this.scroller.virtualizeElements();else{for(var r=0;r<this.basicElements.length;r++)(t=this.basicElements[r]).measure(new T.a(t.width,t.height)),t.arrange(t.desiredSize,!(this.diagramActions&v.c.Render)),this.diagramRenderer.renderElement(t,i,n);this.renderDiagramElements(i,this.diagramRenderer,n)}},t.prototype.removeVirtualObjects=function(e){if(this.deleteVirtualObject){for(var t=0;t<this.scroller.removeCollection.length;t++){var i=this.nameTable[this.scroller.removeCollection[t]];this.removeElements(i)}this.deleteVirtualObject=!1}clearInterval(e)},t.prototype.updateTextElementValue=function(e){for(var t=0;t<e.wrapper.children.length;t++){var i=e.wrapper.children[t];i instanceof I.a&&(i.canMeasure=!0,i.measure(new T.a(e.width,e.height)),i.arrange(i.desiredSize))}},t.prototype.updateVirtualObjects=function(e,t,i){var n=document.getElementById("diagram_diagramLayer"),r=Object(Ce.r)("diagram");if("SVG"===this.mode){for(var o=0;o<e.length;o++){var a=this.scroller.removeCollection.indexOf(e[o]);a>=0&&this.scroller.removeCollection.splice(a,1);var s=this.nameTable[e[o]];this.updateTextElementValue(s),this.diagramRenderer.renderElement(s.wrapper,n,r,void 0,void 0,void 0,void 0,s.zIndex)}for(var c=0;c<i.length;c++)this.scroller.removeCollection.push(i[c]);1!==this.scroller.currentZoom&&this.eventHandler.updateVirtualization()}else this.diagramActions&&this.refreshDiagramLayer()},t.prototype.renderDiagramElements=function(e,t,i,n,r,o){void 0===n&&(n=!0);var a=this.scroller.getPageBounds();a.x*=this.scroller.currentZoom,a.y*=this.scroller.currentZoom,a.width*=this.scroller.currentZoom,a.height*=this.scroller.currentZoom;for(var s=-this.scroller.horizontalOffset-a.x,c=-this.scroller.verticalOffset-a.y,l=0,h=Object.keys(this.layerZIndexTable);l<h.length;l++){var d=h[l],p=this.commandHandler.getLayer(this.layerZIndexTable[d]),u=void 0,f=void 0;"Canvas"===this.mode&&Object(Z.E)(this)&&!this.diagramActions&&this.scroller.virtualizeElements();for(var g="Canvas"===this.mode&&Object(Z.E)(this)&&this.scroller.oldCollectionObjects.length>0?this.scroller.oldCollectionObjects:void 0,m=0,y=Object.keys(g||p.zIndexTable);m<y.length;m++){var b=y[m],w=g?this.nameTable[g[b]]:this.nameTable[p.zIndexTable[b]];if(w&&!w.parentId&&!w.processId){var O={tx:this.scroller.transform.tx,ty:this.scroller.transform.ty,scale:this.scroller.transform.scale};if(Object(Z.E)(this)){if(this.scroller.currentZoom<1){if(a.x<0||this.scroller.horizontalOffset<0){var x=this.scroller.verticalOffset<0?this.scroller.verticalOffset:0;u=(s>0?s:0)+"px",f=(this.realActions&v.n.vScrollbarMoved?0:-x)+"px"}else u="0px",f="0px";this.realActions&v.n.hScrollbarMoved&&(this.realActions=this.realActions&~v.n.hScrollbarMoved),this.realActions&v.n.vScrollbarMoved&&(this.realActions=this.realActions&~v.n.vScrollbarMoved)}else u=(a.x<0?s:-this.scroller.horizontalOffset)+"px",f=(a.y<0?c:-this.scroller.verticalOffset)+"px";this.diagramLayer.style.left=u,this.diagramLayer.style.top=f,O.tx=this.scroller.horizontalOffset/O.scale,O.ty=this.scroller.verticalOffset/O.scale}var j=!0;r&&(j=!1),this.updateTextElementValue(w),t.renderElement(w.wrapper,e,i,!t.isSvgMode&&n?O:void 0,void 0,void 0,j&&(!this.diagramActions||o))}}}},t.prototype.updateBridging=function(e){if(this.bridgingModule)for(var t=0;t<this.connectors.length;t++){var i=this.connectors[t];this.bridgingModule.updateBridging(i,this);var n=this.connectors[t].wrapper;if(n){var r=n.children[0],o=r.data;i.getSegmentElement(i,r,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0),r.data!==o&&(n.measure(new T.a),n.arrange(n.desiredSize),"SVG"!==this.mode||e||this.updateDiagramObject(i))}}},t.prototype.setCursor=function(e){this.diagramRenderer.setCursor(this.diagramCanvas,e)},t.prototype.clearCanvas=function(e){var t,i;(t=e.contentWidth||e.diagramLayer.width/this.scroller.currentZoom,i=e.contentHeight||e.diagramLayer.height/this.scroller.currentZoom,"SVG"!==e.mode)&&r.a.getContext(e.diagramLayer).clearRect(0,0,t,i)},t.prototype.updateScrollOffset=function(){this.scroller.setScrollOffset(this.diagramCanvas.scrollLeft,this.diagramCanvas.scrollTop),Object(E.g)(this),Object(Z.E)(this)&&this.scroller.virtualizeElements()},t.prototype.setOffset=function(e,t){var i=document.getElementById(this.element.id+"content");i&&(i.scrollLeft=e,i.scrollTop=t)},t.prototype.setSize=function(e,t){if(this.diagramLayer&&!this.preventUpdate){var i=Object(E.b)(this);e-=i.width,t-=i.height;var n=this.spatialSearch.getPageBounds();n.x*=this.scroller.currentZoom,n.y*=this.scroller.currentZoom,n.width*=this.scroller.currentZoom,n.height*=this.scroller.currentZoom;var r="SVG"===this.mode?1:1.5,o="SVG"===this.mode?Object(Ce.n)(this.element.id):this.diagramLayer,a="Canvas"===this.mode&&this.constraints&v.d.Virtualization?this.scroller.viewPortWidth:e,s="Canvas"===this.mode&&this.constraints&v.d.Virtualization?this.scroller.viewPortHeight:t;o.setAttribute("width",(r*a).toString()),o.setAttribute("height",(r*s).toString());var c={width:e.toString(),height:t.toString()};this.diagramLayerDiv.style.width=e+"px",this.diagramLayerDiv.style.height=t+"px",Object(Ce.G)(Object(Ce.s)(this.element.id),c),Object(Ce.G)(Object(Ce.t)(this.element.id),c);var l=Object(Ce.g)(this.element.id);Object(Ce.G)(l,c),l.parentNode.style.width=e+"px",l.parentNode.style.height=t+"px";var h=Object(Ce.q)(this.element.id);Object(Ce.G)(h,c),this.diagramRenderer.updateGrid(this.snapSettings,h,this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),Object(Ce.G)(Object(Ce.j)(this.element.id),c),this.htmlLayer.style.width=e+"px",this.htmlLayer.style.height=t+"px","SVG"===this.mode||Object(Z.E)(this)||this.refreshDiagramLayer(),"SVG"===this.mode&&Object(Z.E)(this)&&this.scroller.virtualizeElements()}},t.prototype.transformLayers=function(){var e=this.spatialSearch.getPageBounds();e.x*=this.scroller.currentZoom,e.y*=this.scroller.currentZoom,e.width*=this.scroller.currentZoom,e.height*=this.scroller.currentZoom,this.diagramRenderer.updateGrid(this.snapSettings,Object(Ce.q)(this.element.id),this.scroller.transform,this.rulerSettings,this.hRuler,this.vRuler),this.diagramRenderer.transformLayers(this.scroller.transform,"SVG"===this.mode),this.updateSelector(),this.renderPageBreaks(e)},t.prototype.removePageBreaks=function(){if(this.diagramLayer){var e=Object(Ce.i)(this.element.id);if(e&&e.childNodes)for(var t=e.childNodes.length,i=0;i<t;i++)e.removeChild(e.childNodes[0])}},t.prototype.renderPageBreaks=function(e){this.removePageBreaks();var t=Object(Ce.i)(this.element.id);if(t){var i=0;e=this.scroller.getPageBounds(!0);var n=(this.scroller.transform.tx+e.x)*this.scroller.currentZoom,r=(this.scroller.transform.ty+e.y)*this.scroller.currentZoom,o=e.height*this.scroller.currentZoom,s=e.width*this.scroller.currentZoom;a.a.renderSvgBackGroundImage(this.pageSettings.background,this.element,n,r,s,o);var c={id:t.id+"rect",x:n,y:r,height:o,width:s,angle:0,stroke:"",strokeWidth:1,fill:this.pageSettings.background.color,opacity:1,pivotX:0,pivotY:0,visible:!0,dashArray:"0"};if(this.diagramRenderer.drawRect(t,c),this.pageSettings.showPageBreaks){var l=this.scroller.getPageBreak(e);for(i=0;i<l.length;i++)this.diagramRenderer.drawLine(t,{class:"e-diagram-page-break",fill:"none",stroke:"#aaaaaa",strokeWidth:1,dashArray:"10 10",opacity:2,x:0,y:0,width:0,height:0,angle:0,pivotX:0,pivotY:0,visible:!0,startPoint:{x:(l[i].x1+this.scroller.transform.tx)*this.scroller.currentZoom,y:(l[i].y1+this.scroller.transform.ty)*this.scroller.currentZoom},endPoint:{x:(l[i].x2+this.scroller.transform.tx)*this.scroller.currentZoom,y:(l[i].y2+this.scroller.transform.ty)*this.scroller.currentZoom},id:l[i].y1===l[i].y2?"HorizontalLines":"VerticalLines"})}}},t.prototype.validatePageSize=function(){var e=0;"Portrait"===this.pageSettings.orientation?this.pageSettings.width>this.pageSettings.height&&(e=this.pageSettings.height,this.pageSettings.height=this.pageSettings.width,this.pageSettings.width=e):this.pageSettings.height>this.pageSettings.width&&(e=this.pageSettings.width,this.pageSettings.width=this.pageSettings.height,this.pageSettings.height=e)},t.prototype.setOverview=function(e,t){if(e)e&&(this.views.push(e.id),this.views[e.id]=e,e.renderDocument(e),e.diagramRenderer.setLayers(),e.updateView(e),this.renderNodes(e));else{for(var i=0;i<this.views.length;i++)this.views[i]===t&&(e=this.views[t]);this.views[t]=void 0;var n=this.views.indexOf(t);this.views.splice(n,1)}},t.prototype.renderNodes=function(e){if(e){var t=new a.a(e.id,new o.a,!1),i=document.getElementById(e.element.id+"_diagramLayer"),n=Object(Ce.r)(e.element.id);this.renderDiagramElements(i,e.diagramRenderer||t,n,void 0,void 0,!0)}},t.prototype.updateThumbConstraints=function(e,t,i){for(var n=e.length,r=0;r<n;r++){var o=e[r],a=!1,s=!1,c=t.thumbsConstraints;o instanceof g.q?(a="Bpmn"===o.shape.type&&"Activity"===o.shape.shape&&!1===o.shape.activity.subProcess.collapsed||"TextAnnotation"===o.shape.shape,s="Bpmn"===o.shape.type&&"TextAnnotation"===o.shape.shape,Object(Z.z)(o)&&c&v.r.Rotate&&!a||(c&=~v.r.Rotate),Object(Z.y)(o,"SouthEast")&&c&v.r.ResizeSouthEast&&!s||(c&=~v.r.ResizeSouthEast),Object(Z.y)(o,"NorthWest")&&c&v.r.ResizeNorthWest&&!s||(c&=~v.r.ResizeNorthWest),Object(Z.y)(o,"East")&&c&v.r.ResizeEast&&!s||(c&=~v.r.ResizeEast),Object(Z.y)(o,"West")&&c&v.r.ResizeWest&&!s||(c&=~v.r.ResizeWest),Object(Z.y)(o,"North")&&c&v.r.ResizeNorth&&!s||(c&=~v.r.ResizeNorth),Object(Z.y)(o,"South")&&c&v.r.ResizeSouth&&!s||(c&=~v.r.ResizeSouth),Object(Z.y)(o,"NorthEast")&&c&v.r.ResizeNorthEast&&!s||(c&=~v.r.ResizeNorthEast),Object(Z.y)(o,"SouthWest")&&c&v.r.ResizeSouthWest&&!s||(c&=~v.r.ResizeSouthWest)):o instanceof y.b?(i||(c|=v.r.Default),Object(Z.g)(o)?c|=v.r.ConnectorSource:c&=~v.r.ConnectorSource,Object(Z.h)(o)?c|=v.r.ConnectorTarget:c&=~v.r.ConnectorTarget):(i||(c|=v.r.Default),Object(Z.y)(o)||(c&=~(v.r.ResizeSouthEast|v.r.ResizeSouthWest|v.r.ResizeSouth|v.r.ResizeEast|v.r.ResizeWest|v.r.ResizeNorth|v.r.ResizeNorthEast|v.r.ResizeNorthWest)),Object(Z.z)(o)||(c&=~v.r.Rotate)),t.thumbsConstraints=c}},t.prototype.renderSelector=function(e,t){var i=new T.a,n=this.selectedItems,r=(n.constraints,this.diagramRenderer.rendererActions);if(this.diagramRenderer.rendererActions=this.currentSymbol?this.addConstraints(r,v.o.DrawSelectorBorder):this.removeConstraints(r,v.o.DrawSelectorBorder),this.clearSelectorLayer(),this.commandHandler.hasSelection()){if(1===n.nodes.length&&0===n.connectors.length&&(n.rotateAngle=n.nodes[0].rotateAngle,n.pivot=n.nodes[0].pivot),n.wrapper.measure(i),n.wrapper.arrange(n.wrapper.desiredSize),n.width=n.wrapper.actualSize.width,n.height=n.wrapper.actualSize.height,n.offsetX=n.wrapper.offsetX,n.offsetY=n.wrapper.offsetY,0!==n.rotateAngle){for(var o=0,a=n.nodes;o<a.length;o++){var s=a[o];s.offsetX=s.wrapper.offsetX,s.offsetY=s.wrapper.offsetY}for(var c=0,l=n.connectors;c<l.length;c++)l[c]}var h;this.spatialSearch.getPageBounds();if(h=Object(Ce.v)(this.element.id),n.thumbsConstraints=v.r.Default,n.annotation?this.updateThumbConstraints([n.annotation],n):(this.updateThumbConstraints(n.nodes,n),this.updateThumbConstraints(n.connectors,n,!0)),n.annotation)this.renderSelectorForAnnotation(n,h);else if(n.nodes.length+n.connectors.length===1){if(n.nodes[0]instanceof g.q){var d=n.nodes[0];Object(K.c)(this,d)&&(t||"UmlClassifier"===d.shape.type||d.parentId&&this.nameTable[d.parentId]&&"UmlClassifier"===this.nameTable[d.parentId].shape.type||((!d.container||"Canvas"!==d.container.type&&"Grid"!==d.container.type)&&(n.nodes[0].constraints&=~(v.k.Rotate|v.k.HideThumbs)),n.thumbsConstraints&=~v.r.Rotate));var p=!!t||!!(d.constraints&v.k.HideThumbs),u=!!("SwimLane"===d.shape.type||d.isLane||d.isPhase||t);this.diagramRenderer.renderResizeHandle(n.wrapper.children[0],h,n.thumbsConstraints,this.scroller.currentZoom,n.constraints,this.scroller.transform,void 0,Object(Z.o)(d),p,u)}else if(n.connectors[0]instanceof y.b&&Object(Z.k)(this.diagramRenderer.rendererActions)){var f=n.connectors[0];this.diagramRenderer.renderEndPointHandle(f,h,n.thumbsConstraints,n.constraints,this.scroller.transform,void 0!==f.sourceWrapper,void 0!==f.targetWrapper,!(!this.connectorEditingToolModule||!Object(Z.f)(f)))}}else this.diagramRenderer.renderResizeHandle(n.wrapper,h,n.thumbsConstraints,this.scroller.currentZoom,n.constraints,this.scroller.transform,void 0,Object(Z.o)(n));n.annotation||this.currentSymbol||this.diagramRenderer.renderUserHandler(n,h,this.scroller.transform)}},t.prototype.updateSelector=function(){var e=new T.a,t=this.selectedItems,i=t.constraints;if(this.diagramActions&v.c.ToolAction||1!==this.selectedItems.nodes.length||(this.selectedItems.rotateAngle=this.selectedItems.nodes[0].rotateAngle,this.selectedItems.wrapper.rotateAngle=this.selectedItems.nodes[0].rotateAngle),void 0!==this.selectedItems&&(this.clearSelectorLayer(),null!==t.wrapper&&t.wrapper.children&&t.wrapper.children.length)){if(t.wrapper.measure(e),t.wrapper.arrange(t.wrapper.desiredSize),0!==t.rotateAngle||t.rotateAngle!==t.wrapper.prevRotateAngle)for(var n=0,r=t.nodes;n<r.length;n++){var o=r[n];o.offsetX=o.wrapper.offsetX,o.offsetY=o.wrapper.offsetY}t.width=t.wrapper.actualSize.width,t.height=t.wrapper.actualSize.height,t.offsetX=t.wrapper.offsetX,t.offsetY=t.wrapper.offsetY;var a;a=Object(Ce.v)(this.element.id);var s=this.eventHandler.canHideResizers();if(t.thumbsConstraints=v.r.Default,t.annotation?this.updateThumbConstraints([t.annotation],t):(this.updateThumbConstraints(t.nodes,t),this.updateThumbConstraints(t.connectors,t,!0)),this.selectedItems.constraints&v.p.UserHandle&&!t.annotation&&!this.currentSymbol&&this.diagramRenderer.renderUserHandler(t,a,this.scroller.transform),t.annotation)this.renderSelectorForAnnotation(t,a);else if(t.nodes.length+t.connectors.length===1){if(t.connectors[0]instanceof y.b&&Object(Z.k)(this.diagramRenderer.rendererActions)){var c=t.connectors[0];this.diagramRenderer.renderEndPointHandle(c,a,t.thumbsConstraints,i,this.scroller.transform,void 0!==c.sourceWrapper,void 0!==c.targetWrapper,!(!this.connectorEditingToolModule||!Object(Z.f)(c)))}else if(t.nodes[0]instanceof g.q){var l=t.nodes[0];Object(K.c)(this,t.nodes[0])&&("UmlClassifier"===l.shape.type||l.parentId&&this.nameTable[l.parentId]&&"UmlClassifier"===this.nameTable[l.parentId].shape.type||((!l.container||"Canvas"!==l.container.type&&"Grid"!==l.container.type)&&(t.nodes[0].constraints&=~(v.k.HideThumbs|v.k.Rotate)),t.thumbsConstraints&=~v.r.Rotate));var h=!("SwimLane"!==l.shape.type&&!l.isLane&&!l.isPhase);this.diagramRenderer.renderResizeHandle(t.wrapper.children[0],a,t.thumbsConstraints,this.scroller.currentZoom,t.constraints,this.scroller.transform,s,Object(Z.o)(t.nodes[0]),!!(t.nodes[0].constraints&v.k.HideThumbs),h)}}else this.diagramActions&v.c.Interactions&&(this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions|v.o.PreventRenderSelector),this.diagramRenderer.renderResizeHandle(t.wrapper,a,t.thumbsConstraints,this.scroller.currentZoom,t.constraints,this.scroller.transform,s,Object(Z.o)(t)),this.diagramRenderer.rendererActions=this.diagramRenderer.rendererActions&~v.o.PreventRenderSelector}},t.prototype.renderSelectorForAnnotation=function(e,t){this.diagramRenderer.renderResizeHandle(e.wrapper.children[0],t,e.thumbsConstraints,this.scroller.currentZoom,e.constraints,this.scroller.transform,void 0,Object(Z.o)(e.annotation))},t.prototype.drawSelectionRectangle=function(e,t,i,n){this.clearSelectorLayer(),this.diagramRenderer.drawSelectionRectangle(e,t,i,n,this.adornerLayer,this.scroller.transform)},t.prototype.renderHighlighter=function(e){var t=Object(Ce.g)(this.element.id);this.diagramRenderer.renderHighlighter(e,t,this.scroller.transform)},t.prototype.clearHighlighter=function(){var e=Object(Ce.g)(this.element.id),t=e.getElementById(e.id+"_highlighter");t&&t.parentNode.removeChild(t)},t.prototype.getNodesConnectors=function(e){for(var t=0;t<this.nodes.length;t++){var i=this.nodes[t];e.push(i)}for(t=0;t<this.connectors.length;t++){var n=this.connectors[t];e.push(n)}return e},t.prototype.clearSelectorLayer=function(){var e=Object(Ce.g)(this.element.id);if(this.currentSymbol){var t=e.getElementById("borderRect_symbol");t&&t.parentNode.removeChild(t)}else{var i=e.getElementById(this.adornerLayer.id+"_selected_region");i&&i.parentNode.removeChild(i),this.clearHighlighter();for(var n=Object(Ce.v)(this.element.id).childNodes,r=void 0,o=n.length;o>0;o--)(r=n[o-1]).parentNode.removeChild(r)}},t.prototype.getWrapper=function(e,t){var i;t=e.id+"_"+t;for(var n=e instanceof D.a?e:this.getPortContainer(this.nameTable[e.id]),r=0;r<n.children.length;r++)t===n.children[r].id&&(i=n.children[r]);return i},t.prototype.getEndNodeWrapper=function(e,t,i){if("Bpmn"===e.shape.type&&e.wrapper.children[0]instanceof D.a){if("Activity"===e.shape.shape){if(i&&"Transaction"===e.shape.activity.subProcess.type&&t.sourcePortID){var n=t.sourcePortID,r=e.wrapper.children[0].children[0].children[2];if(r.children)for(var o=0,a=r.children;o<a.length;o++){var s=a[o];if(s.visible&&s.id===e.id+"_"+n)return s.children[0]}}return e.wrapper.children[0].children[0].children[0]}return e.wrapper.children[0].children[0]}return this.containsMargin(e.wrapper.children[0])||e.children?e.wrapper:e.wrapper.children[0]},t.prototype.containsMargin=function(e){return e.margin&&(0!==e.margin.left||0!==e.margin.top||0!==e.margin.right||0!==e.margin.bottom)},t.prototype.focusOutEdit=function(){this.endEdit()},t.prototype.endEditCommand=function(){this.endEdit(),this.textEditing=!1},t.prototype.endEdit=function(){if(this.diagramActions&v.c.TextEdit){var e=document.getElementById(this.element.id+"_editBox"),t=e.value;n.m.remove(e,"input",this.eventHandler.inputChange),n.m.remove(e,"focusout",this.focusOutEdit);var i=document.getElementById(this.element.id+"_editTextBoxDiv"),r={oldValue:this.activeLabel.text,newValue:t,cancel:!1},o=!1,a=void 0;i.parentNode.removeChild(i);var s=void 0;if(this.bpmnModule&&(a=this.bpmnModule.isBpmnTextAnnotation(this.activeLabel,this),s=this.bpmnModule.getTextAnnotationWrapper(a,this.activeLabel.id),(o=!!a)&&(i.textContent===t&&t===this.activeLabel.text||(this.triggerEvent(v.e.textEdit,r),r.cancel||this.bpmnModule.updateTextAnnotationContent(a,this.activeLabel,t,this)))),!o){a=this.nameTable[this.activeLabel.parentId];var c=this.eventHandler.isAddTextNode(a,!0);c||i.textContent===t&&t===this.activeLabel.text||this.triggerEvent(v.e.textEdit,r),s||(s=this.getWrapper(a.wrapper,this.activeLabel.id));var l=Object(m.i)(a,this.activeLabel.id);if(l.content===t||r.cancel||(a.parentId&&"UmlClassifier"===this.nameTable[a.parentId].shape.type&&-1===t.indexOf("+")&&-1===t.indexOf("-")&&-1===t.indexOf("#")&&-1===t.indexOf("~")&&-1===a.id.indexOf("_umlClass_header")&&(t=" + "+t),(a.isLane||a.isPhase)&&this.protectPropertyChange(!0),l.content=t,this.dataBind(),this.updateSelector(),(a.isLane||a.isPhase)&&this.protectPropertyChange(!1)),c&&(this.removeObjectsFromLayer(a),this.removeFromAQuad(a),delete this.nameTable[this.activeLabel.parentId],""!==t)){this.clearSelection();var h=Object(V.b)(a);a=this.add(h),this.updateDiagramObject(a),this.commandHandler.select(this.nameTable[a.id])}}if(this.selectedItems.nodes.length){var d=this.nameTable[this.activeLabel.parentId],p=this.nameTable[d.parentId];if(p&&"SwimLane"===p.shape.type||"SwimLane"===d.shape.type){if("SwimLane"===d.shape.type&&(p=this.nameTable[this.activeLabel.parentId],d=a),d.isLane||d.isPhase)for(var u=d.isLane?p.shape.lanes:p.shape.phases,f=0;f<u.length;f++)u[f].id===(d.LaneHeaderParent||d.PhaseHeaderParent)&&(u[f].header.annotation.content=d.annotations[0].content);else d.isHeader&&p.shape.hasHeader&&(p.shape.header.annotation.content=d.annotations[0].content)}this.dataBind()}s.visible=!0,this.updateDiagramObject(a),this.diagramActions=this.diagramActions&~v.c.TextEdit,this.activeLabel.isGroup&&this.endGroupAction(),this.activeLabel={id:"",parentId:"",isGroup:!1,text:void 0}}},t.prototype.canLogChange=function(){return!(!(this.diagramActions&v.c.Render)||this.diagramActions&v.c.ToolAction||this.diagramActions&v.c.UndoRedo||this.diagramActions&v.c.PublicMethod)},t.prototype.modelChanged=function(e,t){return!!(e.connectors||t.connectors||e.nodes||t.connectors||e.pageSettings||t.pageSettings||e.bridgeDirection||t.bridgeDirection)},t.prototype.resetDiagramActions=function(e){var t=!!e;this.diagramActions&v.c.UndoRedo&&(!t||e===v.c.UndoRedo)&&(this.diagramActions=this.diagramActions&~v.c.UndoRedo),this.diagramActions&v.c.PublicMethod&&(!t||e===v.c.PublicMethod)&&(this.diagramActions=this.diagramActions&~v.c.PublicMethod)},t.prototype.removeNode=function(e){this.removeObjectsFromLayer(e),this.removeFromAQuad(this.nameTable[e.id]),delete this.nameTable[e.id],e.children&&delete this.groupTable[e.id],this.nodes.splice(this.nodes.indexOf(e),1)},t.prototype.deleteGroup=function(e){var t=[];e.children&&(t=this.commandHandler.getChildren(e,[]));for(var i=0,n=t;i<n.length;i++){var r=n[i];this.nameTable[r.id]&&this.remove(r)}},t.prototype.updateObject=function(e,t,i){if(!(this.diagramActions&v.c.ToolAction)){var n=e.wrapper.children[0].bounds;if(!this.commandHandler.checkBoundaryConstraints(void 0,void 0,n))if(e instanceof g.q){for(var r=t,o=0,a=Object.keys(i);o<a.length;o++){switch(l=a[o]){case"width":e.width=r.width;break;case"height":e.height=r.height;break;case"offsetX":e.offsetX=r.offsetX;break;case"offsetY":e.offsetY=r.offsetY;break;case"rotateAngle":e.rotateAngle=r.rotateAngle}}this.nodePropertyChange(e,i,t)}else{for(var s=0,c=Object.keys(i);s<c.length;s++){var l=c[s],h=t,d=e.sourcePoint,p=e.targetPoint;switch(l){case"sourcePoint":d.x=h.sourcePoint.x||d.x,d.y=h.sourcePoint.y||d.y;break;case"targetPoint":p.x=h.targetPoint.x||p.x,p.y=h.targetPoint.y||p.y}}this.connectorPropertyChange(e,i,t)}}},t.prototype.nodePropertyChangeExtend=function(e,t,i,n){return void 0!==i.style&&"Bpmn"!==e.shape.type&&(Object(m.U)(i.style,e.wrapper.children[0]),n=!0),void 0!==i.shadow&&(this.updateShadow(e.shadow,i.shadow),n=!0),void 0!==i.constraints&&(t.constraints&v.k.Select&&!(i.constraints&v.k.Select)&&ie(this,e)?this.clearSelection():(this.updateThumbConstraints(this.selectedItems.nodes,this.selectedItems),this.updateSelector(),n=!0)),this.swimLaneNodePropertyChange(e,t,i,n),n},t.prototype.swimLaneNodePropertyChange=function(e,t,i,n){if("SwimLane"===e.shape.type&&!this.currentSymbol){if(t.shape){var r=i.shape,o=e.shape,a="Horizontal"===o.orientation,s=o.padding,c=t.shape,l=e.wrapper.children[0],h=void 0,d=void 0,p=void 0;if(c.lanes||c.phases){if(c.lanes)for(var u=0,f=Object.keys(r.lanes);u<f.length;u++){var g=f[u],m=Number(g),y=c.lanes[m],v=void 0,b=r.lanes[m];if(b&&b.header&&(p=o.lanes[m].header.id,h=y.header,d=b.header,this.nodePropertyChange(this.nameTable[p],h,d)),y.children)for(var w=0,O=Object.keys(y.children);w<O.length;w++){var x=O[w];p=o.lanes[m].children[Number(x)].id;var j=this.nameTable[p];h=y.children[Number(x)],d=b.children[Number(x)],this.nodePropertyChange(j,h,d)}y.width&&!a&&(v=o.phases&&o.phaseSize?m+1:m,l.updateColumnWidth(v,b.width,!0,s)),y.height&&a&&(v=o.header&&o.hasHeader?m+1:m,v+=o.phases&&o.phaseSize?1:0,l.updateRowHeight(v,b.height,!0,s))}if(r.phases)for(var S=0,P=Object.keys(r.phases);S<P.length;S++){var C=P[S],E=(m=Number(C),r.phases[m]),T=void 0,k=o.header&&o.hasHeader?1:0;if(E&&E.header&&(p=o.phases[m].header.id,h=c.phases[m].header,d=E.header,this.nodePropertyChange(this.nameTable[p],h,d)),E.offset){if(0===m)T=E.offset;else{var I=o.phases[m-1];(T=E.offset-I.offset)<=0&&(T=E.offset)}a?(l.updateColumnWidth(m,T,!0,s),Object(Ee.v)(e,this,l.rows[k].cells[m],m)):l.updateRowHeight(k+m,T,!0,s)}}}if(void 0!==r.phaseSize&&o.phases.length)if(0===r.phaseSize||0===c.phaseSize)if(c.phaseSize)a?(l.removeRow(o.header&&o.hasHeader?1:0),e.height=e.wrapper.height=l.height):(o.header&&o.hasHeader&&(l.rows[0].cells[1].children=l.rows[0].cells[0].children,l.rows[0].cells[1].columnSpan=l.rows[0].cells[0].columnSpan-1,l.rows[0].cells[0].children=[]),l.removeColumn(0));else{if(a){var A=new L.c;A.height=r.phaseSize,l.addRow(o.header&&o.hasHeader?1:0,A,!0),e.height=e.wrapper.height+=r.phaseSize}else{var M=new L.a;M.width=r.phaseSize,l.addColumn(0,M,!0),o.header&&o.hasHeader&&(l.rows[0].cells[0].children=l.rows[0].cells[1].children,l.rows[0].cells[1].children=[],l.rows[0].cells[1].columnSpan=1,l.rows[0].cells[1].minWidth=void 0,l.rows[0].cells[0].columnSpan=o.lanes.length+1)}for(var z=0;z<o.phases.length;z++)""===o.phases[z].id&&(o.phases[z].id=Object(V.i)()),Object(Ee.m)(l,this,e,o.header&&o.hasHeader?1:0,a,z)}else a?l.updateRowHeight(o.header&&o.hasHeader?1:0,r.phaseSize,!1):l.updateColumnWidth(0,r.phaseSize,!1);if(o.header&&o.hasHeader&&c.header){var D=l.rows[0].cells[0].children[0].id,R=this.nameTable[D];this.nodePropertyChange(R,c.header,r.header)}e.height=e.wrapper.height=l.height,e.width=e.wrapper.width=l.width}n=!0}return n},t.prototype.nodePropertyChange=function(e,t,i,n,r,o){var a,s=e.wrapper.outerBounds,c=e.wrapper.bounds,l=!1;if(void 0!==i.width&&(e.children?e.container?e.wrapper.width=i.width:this.scaleObject(e,i.width,!0):(e.wrapper.children[0].width=i.width,a=!0,l=!0)),void 0!==i.height&&(e.children?e.container?e.wrapper.height=i.height:this.scaleObject(e,i.height,!1):(e.wrapper.children[0].height=i.height,a=!0,l=!0)),a=this.nodePropertyChangeExtend(e,t,i,a),void 0!==i.constraints&&Object(Z.B)(t)!==Object(Z.B)(i)&&(e.wrapper.children[0].shadow=Object(Z.B)(e)?e.shadow:null),void 0!==i.offsetX){if("None"!==e.wrapper.flip){if(e.offsetX!==e.wrapper.offsetX&&void 0!==t.offsetX){var h=i.offsetX-t.offsetX;e.wrapper.offsetX=e.wrapper.offsetX+h,this.updateFlipOffset(e.wrapper,h,0,e.wrapper.flip)}}else e.wrapper.offsetX=i.offsetX;a=!0,l=!0}if(void 0!==i.offsetY){if("None"!==e.wrapper.flip){if(e.offsetY!==e.wrapper.offsetY&&void 0!==t.offsetY){var d=i.offsetY-t.offsetY;e.wrapper.offsetY=e.wrapper.offsetY+d,this.updateFlipOffset(e.wrapper,0,d,e.wrapper.flip)}}else e.wrapper.offsetY=i.offsetY;a=!0,l=!0}if(void 0!==i.pivot&&(e.wrapper.pivot=i.pivot,a=!0),void 0!==i.minWidth&&(e.wrapper.minWidth=i.minWidth,a=!0,l=!0),void 0!==i.minHeight&&(e.wrapper.minHeight=i.minHeight,a=!0,l=!0),void 0!==i.maxWidth&&(e.wrapper.maxWidth=i.maxWidth,a=!0,l=!0),void 0!==i.maxHeight&&(e.wrapper.maxHeight=i.maxHeight,a=!0,l=!0),void 0!==i.flip)if(e.wrapper.flip=i.flip,a=!0,l=!0,e.wrapper.elementActions&v.g.ElementIsGroup){if(Object(m.a)(e.wrapper,e.offsetX,e.offsetY,this,i.flip),e&&e.children)for(var p=0,u=e.children;p<u.length;p++){var f=u[p],g=this.nameTable[f];g.wrapper.flip=i.flip,this.updatePorts(g,i.flip)}}else e.wrapper.children[0].flip=i.flip,this.updatePorts(e,i.flip);if(void 0!==i.rotateAngle&&(e.children&&r&&this.commandHandler.rotateObjects(e,[e],e.rotateAngle-e.wrapper.rotateAngle,{x:e.offsetX,y:e.offsetY},!1),e.wrapper.rotateAngle=i.rotateAngle,a=!0,l=!0),void 0!==i.backgroundColor&&(e.wrapper.style.fill=i.backgroundColor),void 0!==i.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==i.shape&&"Bpmn"!==e.shape.type&&(a=!0,Object(m.T)(i,e,t,this),l=!0),i.margin&&(a=!0,this.updateMargin(e,i),l=!0),(void 0!==i.shape&&void 0===i.shape.type||void 0!==i.width||void 0!==i.height||void 0!==i.style)&&"Bpmn"===e.shape.type&&this.bpmnModule&&(a=!0,l=!0,this.bpmnModule.updateBPMN(i,t,e,this)),"UmlActivity"===e.shape.type&&"FinalNode"===e.shape.shape&&(a=!0,l=!0,this.updateUMLActivity(i,t,e,this)),(e.shape&&"UmlClassifier"===e.shape.type||e.parentId&&this.nameTable[e.parentId]&&"UmlClassifier"===this.nameTable[e.parentId].shape.type)&&(a=!0,l=!0),void 0!==i.ports)for(var y=0,b=Object.keys(i.ports);y<b.length;y++){var w=b[y],O=Number(w);a=!0;var x=i.ports[w],j=e.ports[O];this.updatePort(x,j,e.wrapper),l=!0}if(void 0!==i.annotation||void 0!==i.annotations||void 0!==i.width)for(var S=0,P=Object.keys(i.annotations||e.annotations);S<P.length;S++){w=P[S],O=Number(w);a=!0;x=void 0;x=i.annotation?i.annotation:i.annotations?i.annotations[w]:e.annotations;var C=e.annotations[O];if(C){var E=!!e.width;this.updateAnnotation(x,C,e.wrapper,e,E)}}if(void 0===i.expandIcon&&void 0===i.collapseIcon&&void 0===i.isExpanded||(this.updateIcon(e),this.updateDefaultLayoutIcons(e),void 0!==i.isExpanded&&this.commandHandler.expandNode(e,this),a=!0),void 0!==i.tooltip&&this.updateTooltip(e,i),a){if(void 0!==this.bpmnModule&&this.bpmnModule.updateTextAnnotationProp(e,{offsetX:t.offsetX||e.offsetX,offsetY:t.offsetY||e.offsetY},this),e.wrapper.measure(new T.a(e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateObject(e,t,i),"SwimLane"===e.shape.type&&!this.currentSymbol&&!(this.diagramActions&v.c.ToolAction)){Object(Ee.u)(this,e);var k=e.wrapper.children[0],I=e.shape,A=k.columnDefinitions().length;if("Horizontal"===I.orientation){O=I.header&&I.hasHeader?1:0;Object(Ee.v)(e,this,k.rows[O].cells[A-1],A-1)}e.wrapper.measure(new T.a(e.wrapper.bounds.width,e.wrapper.bounds.height)),e.wrapper.arrange(e.wrapper.desiredSize)}this.diagramActions&v.c.ToolAction&&!(this.diagramActions&v.c.UndoRedo)||this.checkSelectedItem(e)&&this.updateSelector(),n?e&&e.visible&&e.outEdges&&this.updateIconVisibility(e,0!==e.outEdges.length):(this.commandHandler.connectorSegmentChange(e,c,void 0!==i.rotateAngle),l&&this.updateConnectorEdges(e)),void 0!==this.bpmnModule&&this.bpmnModule.updateDocks(e,this),this.updateGroupOffset(e),!1===s.equals(s,e.wrapper.outerBounds)&&this.updateQuad(e);var M=[];if(0===(M=M.concat(this.selectedItems.nodes,this.selectedItems.connectors)).length&&e.parentId&&this.nameTable[e.parentId]){var z=this.nameTable[e.parentId];z.wrapper.measure(new T.a(z.wrapper.width,e.wrapper.height)),z.wrapper.arrange(z.wrapper.desiredSize),z.offsetX=z.wrapper.offsetX,z.offsetY=z.wrapper.offsetY}if(!1===c.equals(c,e.wrapper.bounds)&&(this.updateGroupSize(e),e.children&&this.updateGroupOffset(e)),"SwimLane"===e.shape.type&&!this.currentSymbol&&this.diagramActions&v.c.Render){var D=Object(Ee.h)(this,e.wrapper.children[0],void 0,!0);Object(Ee.t)(D,this)}this.preventNodesUpdate||(this.updateDiagramObject(e),!n&&l&&this.updateConnectorEdges(e)),"New"!==e.status&&this.diagramActions&&(e.status="Update")}if(!o){var L={element:e,cause:this.diagramActions,oldValue:t,newValue:i};this.triggerEvent(v.e.propertyChange,L)}},t.prototype.updatePorts=function(e,t){if(e&&e.ports.length>0)for(var i=0,n=Object.keys(e.ports);i<n.length;i++){var r=n[i],o=Number(r),a=e.ports[o],s=this.getWrapper(e.wrapper,a.id);(s=Object(m.S)(s,t,a)).relativeMode="Point",s.measure(new T.a(s.width,s.height)),s.arrange(s.desiredSize)}},t.prototype.updateFlipOffset=function(e,t,i,n){if(e.hasChildren())for(var r=0,o=e.children;r<o.length;r++){var a=o[r];"Horizontal"!==n&&"Both"!==n||(a.flipOffset.x=a.flipOffset.x+t),"Vertical"!==n&&"Both"!==n||(a.flipOffset.y=a.flipOffset.y+i),(a instanceof D.a||a instanceof f.a)&&this.updateFlipOffset(a,t,i,n)}},t.prototype.updateUMLActivity=function(e,t,i,n){if(void 0!==e.width||void 0!==e.height){var r=i.wrapper.children[0].children[0];r.width=e.width,r.height=e.height;var o=i.wrapper.children[0].children[1];o.width=e.width/1.5,o.height=e.height/1.5}},t.prototype.updateConnectorProperties=function(e){if(this.preventConnectorsUpdate){-1===this.selectionConnectorsList.indexOf(e)&&this.selectionConnectorsList.push(e)}else{var t={sourcePoint:e.sourcePoint,targetPoint:e.targetPoint,sourceID:e.sourceID,targetID:e.targetID,sourcePortID:e.sourcePortID,targetPortID:e.targetPortID};this.connectorPropertyChange(e,{},t,void 0,!0)}},t.prototype.updateConnectorEdges=function(e){if(e.inEdges.length>0)for(var t=0;t<e.inEdges.length;t++)this.updateConnectorProperties(this.nameTable[e.inEdges[t]]);if(e.outEdges.length>0)for(var i=0;i<e.outEdges.length;i++)this.updateConnectorProperties(this.nameTable[e.outEdges[i]]);e.parentId&&this.nameTable[e.parentId]&&this.updateConnectorEdges(this.nameTable[e.parentId])},t.prototype.connectorProprtyChangeExtend=function(e,t,i,n){return void 0!==i.type&&i.type!==t.type&&e.segments.length>0&&void 0===i.segments&&(e.segments=[]),void 0!==i.shape&&void 0!==e.shape&&e.shape&&"Bpmn"===e.shape.type&&this.bpmnModule&&this.bpmnModule.updateBPMNConnector(e,t,i,this),void 0!==e.constraints?(this.updateThumbConstraints(this.selectedItems.connectors,this.selectedItems),!0):n},t.prototype.connectorPropertyChange=function(e,t,i,n,r){var o,a,s=e.wrapper.bounds,c=!1,l=[];if(c=this.connectorProprtyChangeExtend(e,t,i,c),void 0!==i.visible&&this.updateElementVisibility(e.wrapper,e,e.visible),void 0!==i.sourcePoint||void 0!==i.targetPoint||void 0!==i.sourceID||void 0!==i.targetID||void 0!==i.targetPadding||void 0!==i.sourcePortID||void 0!==i.targetPortID||void 0!==i.sourcePadding||void 0!==i.type||void 0!==i.segments||void 0!==i.flip){if(void 0!==i.sourceID&&i.sourceID!==t.sourceID||i.sourcePortID){var h=this.nameTable[e.sourceID];if(a=this.findInOutConnectPorts(h,!1),(!h||Object(Z.q)(h)||""!==e.sourcePortID&&Object(Z.w)(a))&&(e.sourceWrapper=h?this.getEndNodeWrapper(h,e,!0):void 0),void 0!==i.sourceID&&void 0!==t.sourceID&&""!==t.sourceID){var d=this.nameTable[t.sourceID];void 0!==d&&d.outEdges&&-1!==d.outEdges.indexOf(e.id)&&Object(m.J)(d.outEdges,e.id)}this.updateEdges(e)}if(void 0!==i.targetID&&i.targetID!==t.targetID){var p=this.nameTable[i.targetID];if(o=this.findInOutConnectPorts(p,!0),(!p||Object(Z.n)(p)||""!==e.targetPortID&&Object(Z.v)(o))&&(e.targetWrapper=p?this.getEndNodeWrapper(p,e,!1):void 0),void 0!==t&&void 0!==t.targetID&&""!==t.targetID){var u=this.nameTable[t.targetID];void 0!==u&&u.inEdges&&-1!==u.inEdges.indexOf(e.id)&&Object(m.J)(u.inEdges,e.id)}this.updateEdges(e)}if(void 0!==i.sourcePortID&&i.sourcePortID!==t.sourcePortID){var f=void 0;e.sourceID&&this.nameTable[e.sourceID]&&(f=this.nameTable[e.sourceID].wrapper),(!(h=this.nameTable[e.sourceID])||Object(Z.q)(h)||""!==e.sourcePortID&&Object(Z.w)(a))&&(e.sourcePortWrapper=f?this.getWrapper(f,i.sourcePortID):void 0)}if(void 0!==i.targetPortID&&i.targetPortID!==t.targetPortID){var g=void 0;e.targetID&&this.nameTable[e.targetID]&&(g=this.nameTable[e.targetID].wrapper),(!(p=this.nameTable[e.targetID])||Object(Z.n)(p)||""!==e.targetPortID&&Object(Z.v)(o))&&(e.targetPortWrapper=g?this.getWrapper(g,i.targetPortID):void 0)}void 0!==i.flip&&(e.flip=i.flip,Object(m.p)(e)),l=this.getPoints(e)}if(void 0!==i.style&&Object(m.U)(i.style,e.wrapper.children[0]),(l.length>0||void 0!==i.sourceDecorator||void 0!==i.targetDecorator&&-1===Object.keys(i.targetDecorator).indexOf("style")||void 0!==i.cornerRadius)&&(Object(m.P)(e,l.length>0?l:e.intermediatePoints),void 0!==i.type&&(c=!0),l.length>0&&(e.wrapper.measure(new T.a(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),this.updateConnectorAnnotation(e),this.updateObject(e,t,i))),(i.sourcePoint||i.targetPoint||i.segments)&&this.diagramActions===v.c.Render&&(c=!0),n||this.updateBridging(),this.updateAnnotations(i,e),e.wrapper.measure(new T.a(e.wrapper.width,e.wrapper.height)),e.wrapper.arrange(e.wrapper.desiredSize),!1===s.equals(s,e.wrapper.bounds)&&(this.updateQuad(e),this.updateGroupSize(e)),!0!==c||!this.checkSelectedItem(e)||this.diagramActions&v.c.ToolAction&&!(this.diagramActions&v.c.UndoRedo)||this.updateSelector(),this.preventConnectorsUpdate||this.updateDiagramObject(e),this.diagramActions&&"New"!==e.status&&(e.status="Update"),!r){var y={element:e,cause:this.diagramActions,oldValue:t,newValue:i};this.triggerEvent(v.e.propertyChange,y)}},t.prototype.findInOutConnectPorts=function(e,t){var i={};return e&&(i=Object(m.s)(e,t)),i},t.prototype.getPoints=function(e,t){return e.getConnectorPoints(e.type,t,"ComplexHierarchicalTree"===this.layout.type||"HierarchicalTree"===this.layout.type?this.layout.orientation:void 0)},t.prototype.updateNodeProperty=function(e,t,i){if(void 0===t)this.updateElementVisibility(e,this.nameTable[e.id],t);else{e.style.opacity=i;for(var n=0;n<e.children.length;n++)e.children[n]instanceof f.a&&this.updateNodeProperty(e.children[n],void 0,i),e.children[n].style.opacity=i}},t.prototype.checkSelectedItem=function(e){var t=this.selectedItems,i=!1,n=[];return(n=n.concat(t.nodes,t.connectors)).length>0&&e.id===n[n.length-1].id&&(i=!0),i},t.prototype.updateDiagramContainerVisibility=function(e,t){if(e instanceof f.a)for(var i=0;i<e.children.length;i++)this.updateDiagramContainerVisibility(e.children[i],t);e.visible=t},t.prototype.updateElementVisibility=function(e,t,i){if(void 0!==i){if(e.visible=i,t instanceof g.q){if(t.children)for(var n=0,r=t.children;n<r.length;n++){var o=r[n];this.updateElementVisibility(this.nameTable[o].wrapper,this.nameTable[o],i)}else e.children[0].visible=i,this.updateDiagramContainerVisibility(e.children[0],i),"Bpmn"===t.shape.type&&this.bpmnModule&&this.bpmnModule.updateElementVisibility(t,i,this);if(t.ports)for(var a=0,s=t.ports;a<s.length;a++){var c=s[a];if(c.visibility&v.m.Visible)(m=this.getWrapper(e,c.id)).visible=i}if(t.annotations)for(var l=0,h=t.annotations;l<h.length;l++){var d=h[l];(m=this.getWrapper(e,d.id)).visible=i}}else for(var p=0;p<3;p++)e.children[p].visible=i;if(t.annotations)for(var u=0,f=t.annotations;u<f.length;u++){d=f[u];(m=this.getWrapper(e,d.id)).visible=i}if(t.expandIcon||t.collapseIcon){var m;if(m=this.getWrapper(e,"icon_content")){for(p=0;p<m.children.length;p++)m.children[p].visible=i;m.visible=i}t&&t.visible&&t.outEdges&&this.updateIconVisibility(t,0!==t.outEdges.length)}!1===i&&this.unSelect(this.nameTable[e.id]),(t instanceof g.q&&!this.preventNodesUpdate||t instanceof y.b&&!this.preventConnectorsUpdate)&&this.diagramActions&&this.updateDiagramObject(this.nameTable[e.id])}},t.prototype.updateAnnotations=function(e,t){if(void 0!==e.annotations)for(var i=0,n=Object.keys(e.annotations);i<n.length;i++){var r=n[i],o=Number(r),a=e.annotations[r],s=t.annotations[o];this.updateAnnotation(a,s,t.wrapper,t)}},t.prototype.updateAnnotation=function(e,t,i,n,r){var o,a=!1;if(void 0!==(o=this.getWrapper(i,t.id))){if(void 0!==e.width&&void 0!==e.height&&(o.width=e.width,o.height=e.height,a=!0),void 0!==e.rotateAngle&&(o.rotateAngle=e.rotateAngle),!r||o instanceof Te.a||o.refreshTextElement(),t instanceof z.b&&void 0!==e.segmentAngle&&(o.rotateAngle=t.rotateAngle),t instanceof z.c&&void 0!==e.offset){var s=e.offset;a=!0;var c=void 0!==s.x?s.x:t.offset.x,l=void 0!==s.y?s.y:t.offset.y;o.setOffsetWithRespectToBounds(c,l,"Fraction"),o.relativeMode="Point"}else t instanceof z.b&&(void 0!==e.offset||void 0!==e.segmentAngle)&&n.updateAnnotation(t,n.intermediatePoints,n.wrapper.bounds,o);if(t instanceof z.b&&e.displacement&&(void 0===e.displacement.x&&void 0===e.displacement.y||(a=!0)),void 0!==e.margin&&(a=!0,void 0!==e.margin.bottom&&(o.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(o.margin.top=e.margin.top),void 0!==e.margin.left&&(o.margin.left=e.margin.left),void 0!==e.margin.right&&(o.margin.right=e.margin.right)),(a||r)&&(o.width=t.width||n.width,t.template&&(o.width=o.width||o.actualSize.width,o.height=t.height||n.height||o.actualSize.height)),void 0!==e.horizontalAlignment&&(o.horizontalAlignment=e.horizontalAlignment,a=!0),void 0!==e.verticalAlignment&&(o.verticalAlignment=e.verticalAlignment,a=!0),void 0!==e.visibility&&(o.visible=!(!i.visible||!e.visibility)),void 0!==e.constraints){var h=!1;o.constraints&v.a.Select&&!(e.constraints&v.a.Select)&&ie(this,n,!1,o)&&(h=!0),o.constraints=e.constraints,h&&this.clearSelection()}void 0!==e.style&&Object(m.U)(e.style,o),void 0!==e.hyperlink&&Object(m.Q)(e.hyperlink,o,t),this.updateAnnotationContent(e,a,o,n,t,i),!0===a&&(o.measure(new T.a(o.width,o.height)),o.arrange(o.desiredSize)),o instanceof Te.a||o.refreshTextElement()}},t.prototype.updateAnnotationContent=function(e,t,i,n,r,o){void 0!==e.content&&(i&&(!0,"UmlActivity"===n.shape.type&&"StructuredNode"===n.shape.shape?i.content="<<"+e.content+">>":i.content=e.content),i instanceof Te.a&&this.updateAnnotationWrapper(i,n,r,o)),void 0!==e.template&&(i.content=e.template,this.updateAnnotationWrapper(i,n,r,o))},t.prototype.updateAnnotationWrapper=function(e,t,i,n){for(var r=0,o=this.views;r<o.length;r++){var a=o[r];Object(Ce.E)(e.id+"_groupElement",a),Object(Ce.E)(e.id+"_html_element",a)}if(t instanceof g.q)e=t.initAnnotationWrapper(i,this.element.id);else if(t instanceof y.b){var s=t.wrapper.children[0],c=new A.a(s.offsetX-s.width/2,s.offsetY-s.height/2,s.width,s.height);e=t.getAnnotationElement(t.annotations[t.annotations.length-1],t.intermediatePoints,c,this.getDescription,this.element.id)}for(var l=0;l<n.children.length;l++)e.id===n.children[l].id&&n.children.splice(l,1,e)},t.prototype.updatePort=function(e,t,i){var n,r=!1;if(void 0!==(n=this.getWrapper(i,t.id))){if(void 0!==e.offset){r=!0;var o=void 0!==e.offset.x?e.offset.x:t.offset.x,a=void 0!==e.offset.y?e.offset.y:t.offset.y;n.setOffsetWithRespectToBounds(o,a,"Fraction"),n.relativeMode="Point"}if(void 0!==e.width&&(r=!0,n.width=e.width),void 0!==e.height&&(r=!0,n.height=e.height),void 0!==e.visibility&&(n.visible=!(!i.visible||!Object(m.f)(t,v.m.Visible))),void 0!==e.margin&&(r=!0,void 0!==e.margin.bottom&&(n.margin.bottom=e.margin.bottom),void 0!==e.margin.top&&(n.margin.top=e.margin.top),void 0!==e.margin.right&&(n.margin.right=e.margin.right),void 0!==e.margin.left&&(n.margin.left=e.margin.left)),void 0!==e.horizontalAlignment&&(r=!0,n.horizontalAlignment=e.horizontalAlignment),void 0!==e.verticalAlignment&&(r=!0,n.verticalAlignment=e.verticalAlignment),void 0!==e.style&&(void 0!==e.style.fill&&(n.style.fill=e.style.fill),void 0!==e.style.opacity&&(n.style.opacity=e.style.opacity),void 0!==e.style.strokeColor&&(n.style.strokeColor=e.style.strokeColor),void 0!==e.style.strokeWidth&&(n.style.strokeWidth=e.style.strokeWidth),void 0!==e.style.strokeDashArray&&(n.style.strokeDashArray=e.style.strokeDashArray)),void 0!==e.shape&&n){var s=Object(M.c)(e.shape);n.data=s}void 0!==e.pathData&&(n.data=String(e.pathData),r=!0),!0===r&&(n.measure(new T.a(n.width,n.height)),n.arrange(n.desiredSize))}},t.prototype.updateIcon=function(e){var t=this.getWrapper(e.wrapper,"icon_content"),i=this.diagramActions&v.c.Render?this.element.id:void 0;if(t){if("SVG"===this.mode){var n=Object(Ce.m)(e.wrapper.id+"_icon_content",i);if(n){var r=Object(Ce.m)(n.id+"_rect",i),o=Object(Ce.m)(n.id+"_shape",i),a=Object(Ce.m)(o.id+"_native_element",i);a&&a.parentNode.removeChild(a),o.parentNode.removeChild(o),r.parentNode.removeChild(r),n.parentNode.removeChild(n)}}var s=e.wrapper.children.indexOf(t);e.wrapper.children.splice(s,1)}var c=this.getPortContainer(e);e.initIcons(this.getDescription,this.layout,c,this.element.id)},t.prototype.getPortContainer=function(e){if(e.children)for(var t=0;t<e.wrapper.children.length;t++)if(e.wrapper.children[t].id===e.id+"group_container")return e.wrapper.children[t];return e.wrapper},t.prototype.updateTooltip=function(e,t){void 0!==t.tooltip.content&&(e.tooltip.content=t.tooltip.content),void 0!==t.tooltip.position&&(e.tooltip.position=t.tooltip.position),void 0!==t.tooltip.height&&(e.tooltip.height=t.tooltip.height),void 0!==t.tooltip.width&&(e.tooltip.width=t.tooltip.width),void 0!==t.tooltip.showTipPointer&&(e.tooltip.showTipPointer=t.tooltip.showTipPointer)},t.prototype.updateQuad=function(e){this.spatialSearch.updateQuad(e.wrapper)&&!this.preventUpdate&&this.updatePage()},t.prototype.removeFromAQuad=function(e){if(e.children)for(var t=void 0,i=e.children,n=0;n<i.length;n++)(t=this.nameTable[i[n]])&&this.removeFromAQuad(t);this.spatialSearch.removeFromAQuad(e.wrapper),this.spatialSearch.updateBounds(e.wrapper)&&!this.preventUpdate&&this.updatePage()},t.prototype.updateGroupSize=function(e){var t;e.parentId&&(t=this.nameTable[e.parentId])&&(t.parentId?this.updateGroupSize(t):(t.wrapper.measure(new T.a),t.wrapper.arrange(t.wrapper.desiredSize),this.updateGroupOffset(t),this.updateDiagramObject(t)))},t.prototype.updatePage=function(){if(this.diagramActions&v.c.Render){this.scroller.updateScrollOffsets(),this.scroller.setSize();for(var e=0,i=this.views;e<i.length;e++){var n=i[e],r=this.views[n];r instanceof t||r.updateView(r)}}},t.prototype.protectPropertyChange=function(e){this.isProtectedOnChange=e},t.prototype.updateShadow=function(e,t){void 0!==t.angle&&(e.angle=t.angle),void 0!==t.color&&(e.color=t.color),void 0!==t.distance&&(e.distance=t.distance),void 0!==t.opacity&&(e.opacity=t.opacity)},t.prototype.updateMargin=function(e,t){void 0!==t.margin.top&&(e.margin.top=t.margin.top),void 0!==t.margin.bottom&&(e.margin.bottom=t.margin.bottom),void 0!==t.margin.left&&(e.margin.left=t.margin.left),void 0!==t.margin.right&&(e.margin.right=t.margin.right)},t.prototype.initDroppables=function(){var e,t,i=this,r={},o={};this.droppable=new n.k(this.element),this.droppable.over=function(n){if(i.currentSymbol)n.event.touches&&n.event.touches.length&&i.eventHandler.mouseMove(n.event,n.event.touches);else if(n.dragData){var a=void 0,s=void 0;document.getElementById(i.element.id+"content").focus();var c=i.eventHandler.getMousePosition(n.event),l=void 0,h=n.dragData.helper,d=h.getAttribute("paletteId");if(d){var p=document.getElementById(d).ej2_instances[0];i.droppable.sourceElement=p;if(p){var u=p.selectedSymbols;l=Object(V.b)(p.selectedSymbols),r=p.childTable;var f=u.wrapper.children[0].children[0];if(p.selectedSymbols instanceof g.q){l.offsetX=c.x+5+(l.width||f.actualSize.width)/2,l.offsetY=c.y+(l.height||f.actualSize.height)/2;var b=new g.q(i,"nodes",l,!0);if("Bpmn"===b.shape.type&&b.shape.activity.subProcess.processes&&b.shape.activity.subProcess.processes.length&&(b.shape.activity.subProcess.processes=[]),"SwimLane"===b.shape.type){if(i.diagramActions|=v.c.PreventHistory,b.shape.isLane){b.children=[],e={id:"header"+Object(V.i)()},"Horizontal"===b.shape.orientation?(e.width=b.shape.lanes[0].header.width,e.height=b.shape.lanes[0].height):(e.width=b.shape.lanes[0].width,e.height=b.shape.lanes[0].header.height),e.style=b.shape.lanes[0].header.style,e.offsetX=c.x+5+e.width/2,e.offsetY=c.y+e.height/2,e=i.add(e),t={id:"body"+Object(V.i)()},"Horizontal"===b.shape.orientation?(t.width=b.shape.lanes[0].width-e.width,t.height=b.shape.lanes[0].height,t.offsetX=c.x+5+(b.shape.lanes[0].header.width+t.width/2),t.offsetY=c.y+t.height/2):(t.width=b.shape.lanes[0].width,t.height=b.shape.lanes[0].height-e.height,t.offsetX=c.x+5+t.width/2,t.offsetY=c.y+(b.shape.lanes[0].header.height+t.height/2)),t.style=b.shape.lanes[0].style,t=i.add(t);var w={id:"group"+Object(V.i)(),children:[e.id,t.id]};w.shape=b.shape,w.width=b.shape.lanes[0].width,w.height=b.shape.lanes[0].height,b=i.add(w)}i.diagramActions&=~v.c.PreventHistory}if(b.shape.isPhase&&((s="Horizontal"===b.shape.orientation)?(b.offsetX=c.x+5+(b.width||f.actualSize.width)/2,b.offsetY=c.y,b.shape.data="M20,"+b.height/2+" L"+(b.width-20)+","+b.height/2+"z",b.height=1):(b.offsetX=c.x+5,b.offsetY=c.y+(b.height||f.actualSize.height)/2,b.shape.data="M"+b.width/2+",20 L"+b.width/2+","+(b.height-20)+"z",b.width=1)),a=b,l.children){var O=l;o=i.getChildren(O,{},r),Object(m.c)(O,-O.offsetX,-O.offsetY,o,!0,i)}}else if(p.selectedSymbols instanceof y.b){a=new y.b(i,"connectors",l,!0);var x=A.a.toBounds([a.sourcePoint,a.targetPoint]),j=c.x-x.left,S=c.y-x.top;a.sourcePoint.x+=j,a.sourcePoint.y+=S,a.targetPoint.x+=j,a.targetPoint.y+=S}a.shape.isLane||(a.id+=Object(V.i)());var P={source:p,element:a,cancel:!1,diagram:i};if(i.enterObject=a,i.enterTable=o,i.triggerEvent(v.e.dragEnter,P),a instanceof g.q&&"SwimLane"===a.shape.type&&a.shape.isLane){var C,E,T=P.element,k=T.shape.lanes[0];s="Horizontal"===T.shape.orientation,C=i.nameTable[a.children[0]],E=i.nameTable[a.children[1]],s?(e.width=k.header.width,e.height=k.height,t.width=k.width-e.width,t.height=k.height,t.offsetX=c.x+5+(k.header.width+E.width/2),t.offsetY=c.y+E.height/2):(e.width=k.width,e.height=k.header.height,t.width=k.width,t.height=k.height-e.height,t.offsetX=c.x+5+E.width/2,t.offsetY=c.y+(k.header.height+E.height/2)),e.offsetX=c.x+5+C.width/2,e.offsetY=c.y+C.height/2,a.width=k.width,a.height=k.height}a instanceof g.q&&a.shape.isPhase&&(s?a.height=1:a.width=1),i.activeLayer.lock||P.cancel||(i.preventUpdate=!0,a.children&&i.findChild(a,o),i.preventUpdate=!0,-1!==a.zIndex&&(a.zIndex=-1),i.initObject(a,void 0,void 0,!0),i.currentSymbol=a,"SVG"!==i.mode&&i.refreshDiagramLayer(),i.commandHandler.select(a),i.eventHandler.mouseDown(n.event),i.eventHandler.mouseMove(n.event,n),i.preventUpdate=!1,i.updatePage(),h.style.opacity="0"),delete i.enterObject,delete i.enterTable}i.droppable.selectedSymbols=h}}},this.droppable.drop=function(e){var t;if(i.currentSymbol){var r,o,a=!1;o=i.currentSymbol instanceof y.b,e.event.touches&&i.eventHandler.mouseUp(e.event);var s=void 0,c={source:i.droppable.sourceElement,element:i.currentSymbol,target:i.eventHandler.hoverNode||i.eventHandler.lastObjectUnderMouse||i,cancel:!1,position:{x:i.currentSymbol.wrapper.offsetX,y:i.currentSymbol.wrapper.offsetY}};i.triggerEvent(v.e.drop,c);var l=void 0,h="id";if((l=Object(V.b)(i.currentSymbol)).hasTarget=i.currentSymbol.hasTarget,i.removeFromAQuad(i.currentSymbol),i.removeObjectsFromLayer(i.nameTable[i.currentSymbol.id]),i.removeElements(i.currentSymbol),(i.currentSymbol.shape.isLane||i.currentSymbol.shape.isPhase)&&i.removeChildInNodes(i.currentSymbol),c.cancel&&Object(m.H)(i.currentSymbol,i),i.currentSymbol.shape.isPhase&&(a=!0,r=i.currentSymbol.shape.orientation),delete i.nameTable[i.currentSymbol.id],i.currentSymbol=null,i.protectPropertyChange(!0),!c.cancel){if(i.startGroupAction(),l&&(l.shape.isLane||a)&&(a&&(l.shape.isPhase=a,l.shape.orientation=r),i.eventHandler.addSwimLaneObject(l)),"Bpmn"===l.shape.type&&l.shape.annotation&&l.hasTarget){var d=l.shape.annotation.nodeId;l.shape.annotation.id=l.id,i.addTextAnnotation(l.shape.annotation,i.nameTable[d]),l.nodeId=""}l.shape.isLane||a||(l.children&&i.addChildNodes(l),c.target&&c.target instanceof g.q&&!o&&Object(K.c)(i,c.target)&&Object(Z.b)(c.target)?Object(K.a)(i,c.target,l):t=i.add(l,!0),(l||t)&&Object(Z.C)(i)&&i.select([i.nameTable[l[h]]]))}i.protectPropertyChange(!1),s=i.nameTable[l[h]],l.hasTarget&&(l.nodeId=l.hasTarget,i.remove(l)),i.bpmnModule&&s instanceof g.q&&l.processId&&(s.processId=l.processId,i.bpmnModule.dropBPMNchild(i.nameTable[s.processId],s,i)),i.endGroupAction(),"SVG"!==i.mode&&i.refreshDiagramLayer(),delete i.droppable.sourceElement;Object(n.H)(i.droppable.selectedSymbols)}else{c={source:e.droppedElement,element:void 0,target:i.eventHandler.hoverNode||i.eventHandler.lastObjectUnderMouse||i,cancel:!1,position:void 0};i.triggerEvent(v.e.drop,c);l=void 0,h="id"}},this.droppable.out=function(e){if(i.currentSymbol&&!i.eventHandler.focus){i.unSelect(i.currentSymbol),i.removeFromAQuad(i.currentSymbol),"SVG"!==i.mode&&"Native"===i.currentSymbol.shape.type&&i.removeElements(i.currentSymbol),i.removeObjectsFromLayer(i.nameTable[i.currentSymbol.id]),delete i.nameTable[i.currentSymbol.id],i.triggerEvent(v.e.dragLeave,{element:i.currentSymbol,diagram:i}),"SVG"!==i.mode?i.refreshDiagramLayer():i.removeElements(i.currentSymbol),i.currentSymbol=null;i.droppable.selectedSymbols.style.opacity="1";delete i.droppable.sourceElement,i.diagramRenderer.rendererActions=i.removeConstraints(i.diagramRenderer.rendererActions,v.o.DrawSelectorBorder),i.previousSelectedObject&&i.select(i.previousSelectedObject,i.previousSelectedObject.length>1),i.previousSelectedObject=null}}},t.prototype.removeChildInNodes=function(e){if(e){if(e.children)for(var t=0;t<e.children.length;t++)this.removeChildInNodes(this.nameTable[e.children[t]]);var i=this.nodes.indexOf(e);-1!==i&&this.nodes.splice(i,1)}},t.prototype.findChild=function(e,t){for(var i,n,r=0;r<e.children.length;r++)(i=t[e.children[r]])&&(i.children&&this.findChild(i,t),i.id=i.id+Object(V.i)(),t[i.id]=i,e.children[r]=i.id,n=new g.q(this,"nodes",i,!0),this.initObject(n,void 0,void 0,!0))},t.prototype.getChildren=function(e,t,i){for(var n,r=0;r<e.children.length;r++)(n=i[e.children[r]])&&(n.children&&(t=this.getChildren(n,t,i)),t[n.id]=Object(V.b)(n));return t},t.prototype.addChildNodes=function(e){for(var t,i=0;i<e.children.length;i++)(t=this.nameTable[e.children[i]])&&(t.children&&this.addChildNodes(t),this.add(t,!0))},t.prototype.moveNode=function(e){for(var t,i=this.commandHandler.getObjectLayer(e.id),n=i.zIndex,r=i.objects.length,o=0;o<this.layers.length;o++)n===this.layers[o].zIndex&&(t=this.layers[o+1]);if(r>1)this.commandHandler.moveSvgNode(e.id,i.objects[r-2]),this.commandHandler.moveSvgNode(i.objects[r-2],e.id);else if(t){var a=this.commandHandler.getLayer(this.layerZIndexTable[t.zIndex]).objects[0];a?this.commandHandler.moveSvgNode(e.id,a):this.moveObjectsUp(e,i)}else this.moveObjectsUp(e,i)},t.prototype.moveObjectsUp=function(e,t){for(var i,n=this.layers.length-1;n>=0;n--)if(i=this.layers[n],t.id!==i.id){var r=this.commandHandler.getLayer(this.layerZIndexTable[i.zIndex]).objects[i.objects.length-1];if(r){this.commandHandler.moveSvgNode(e.id,r),this.commandHandler.moveSvgNode(r,e.id);break}}},t.prototype.insertData=function(e){return this.crudOperation(e,"create",this.getNewUpdateNodes("New"))},t.prototype.updateData=function(e){return this.crudOperation(e,"update",this.getNewUpdateNodes("Update"))},t.prototype.removeData=function(e){return this.crudOperation(e,"destroy",this.getDeletedNodes())},t.prototype.crudOperation=function(e,t,i){if(e){var n=this.parameterMap(e,!(e instanceof y.b));if(n){var r=e instanceof y.b?this.dataSourceSettings.connectionDataSource.crudAction[t]:this.dataSourceSettings.crudAction[t];this.raiseAjaxPost(JSON.stringify(n),r)}return n}var o=i;return this.processCrudCollection(o,this.dataSourceSettings.crudAction[t],this.dataSourceSettings.connectionDataSource.crudAction[t]),o},t.prototype.processCrudCollection=function(e,t,i){if(e.nodes){var n=[],r=void 0;for(r=0;r<e.nodes.length;r++)n.push(this.parameterMap(e.nodes[r],!0));n&&n.length>0&&this.raiseAjaxPost(JSON.stringify(n),t)}if(e.connectors){n=[],r=void 0;for(r=0;r<e.connectors.length;r++)n.push(this.parameterMap(e.connectors[r],!1));n&&n.length>0&&this.raiseAjaxPost(JSON.stringify(n),i)}},t.prototype.parameterMap=function(e,t){var i,n={},r=t?this.dataSourceSettings:this.dataSourceSettings.connectionDataSource;if(r.id&&(n[r.id]=e.id),r.sourcePointX&&r.sourcePointY&&(n[r.sourcePointX]=e.sourcePoint.x,n[r.sourcePointY]=e.sourcePoint.y),r.targetPointX&&r.targetPointY&&(n[r.targetPointX]=e.targetPoint.x,n[r.targetPointY]=e.targetPoint.y),r.sourceID&&(n[r.sourceID]=e.sourceID),r.targetID&&(n[r.targetID]=e.targetID),r.crudAction&&r.crudAction.customFields&&r.crudAction.customFields.length>0)for(i=0;i<r.crudAction.customFields.length;i++)n[r.crudAction.customFields[i]]=e[r.crudAction.customFields[i]];return n},t.prototype.getNewUpdateNodes=function(e){var t=[],i=[];for(var n in this.nameTable){var r=this.nameTable[n];r.status==e&&(r&&r instanceof y.b?(r.status="None",i.push(r)):(r.status="None",t.push(r)))}return{nodes:t,connectors:i}},t.prototype.getDeletedNodes=function(){var e,t=[],i=[];for(e=0;e<this.crudDeleteNodes.length;e++){var n=this.crudDeleteNodes[e];n&&n.segments?i.push(n):n&&t.push(n)}return this.crudDeleteNodes=[],{nodes:t,connectors:i}},t.prototype.raiseAjaxPost=function(e,t){var i=new n.a(t,"POST",!0,"application/json"),r=JSON.stringify(JSON.parse(e));i.send(r).then(),i.onSuccess=function(e){}},Ue([Object(n.q)("100%")],t.prototype,"width",void 0),Ue([Object(n.q)("SVG")],t.prototype,"mode",void 0),Ue([Object(n.q)("100%")],t.prototype,"height",void 0),Ue([Object(n.g)({},He.c)],t.prototype,"contextMenuSettings",void 0),Ue([Object(n.q)(v.d.Default)],t.prototype,"constraints",void 0),Ue([Object(n.q)(v.f.Default)],t.prototype,"tool",void 0),Ue([Object(n.q)("Top")],t.prototype,"bridgeDirection",void 0),Ue([Object(n.q)("transparent")],t.prototype,"backgroundColor",void 0),Ue([Object(n.g)({},x)],t.prototype,"snapSettings",void 0),Ue([Object(n.g)({},C)],t.prototype,"rulerSettings",void 0),Ue([Object(n.g)({},d)],t.prototype,"pageSettings",void 0),Ue([Object(n.g)({},qe)],t.prototype,"serializationSettings",void 0),Ue([Object(n.e)([],g.q)],t.prototype,"nodes",void 0),Ue([Object(n.q)()],t.prototype,"drawingObject",void 0),Ue([Object(n.e)([],y.b)],t.prototype,"connectors",void 0),Ue([Object(n.q)([])],t.prototype,"basicElements",void 0),Ue([Object(n.g)({},Pe.a)],t.prototype,"tooltip",void 0),Ue([Object(n.g)({},B)],t.prototype,"dataSourceSettings",void 0),Ue([Object(n.q)()],t.prototype,"addInfo",void 0),Ue([Object(n.q)()],t.prototype,"historyManager",void 0),Ue([Object(n.q)()],t.prototype,"getNodeDefaults",void 0),Ue([Object(n.q)()],t.prototype,"getConnectorDefaults",void 0),Ue([Object(n.q)()],t.prototype,"setNodeTemplate",void 0),Ue([Object(n.q)()],t.prototype,"getDescription",void 0),Ue([Object(n.q)()],t.prototype,"getCustomProperty",void 0),Ue([Object(n.q)()],t.prototype,"getCustomTool",void 0),Ue([Object(n.q)()],t.prototype,"getCustomCursor",void 0),Ue([Object(n.q)()],t.prototype,"updateSelection",void 0),Ue([Object(n.g)({},U.a)],t.prototype,"selectedItems",void 0),Ue([Object(n.g)({},p)],t.prototype,"scrollSettings",void 0),Ue([Object(n.g)({},F)],t.prototype,"layout",void 0),Ue([Object(n.g)({},He.b)],t.prototype,"commandManager",void 0),Ue([Object(n.l)()],t.prototype,"dataLoaded",void 0),Ue([Object(n.l)()],t.prototype,"dragEnter",void 0),Ue([Object(n.l)()],t.prototype,"dragLeave",void 0),Ue([Object(n.l)()],t.prototype,"dragOver",void 0),Ue([Object(n.l)()],t.prototype,"click",void 0),Ue([Object(n.l)()],t.prototype,"historyChange",void 0),Ue([Object(n.l)()],t.prototype,"doubleClick",void 0),Ue([Object(n.l)()],t.prototype,"textEdit",void 0),Ue([Object(n.l)()],t.prototype,"scrollChange",void 0),Ue([Object(n.l)()],t.prototype,"selectionChange",void 0),Ue([Object(n.l)()],t.prototype,"sizeChange",void 0),Ue([Object(n.l)()],t.prototype,"connectionChange",void 0),Ue([Object(n.l)()],t.prototype,"sourcePointChange",void 0),Ue([Object(n.l)()],t.prototype,"targetPointChange",void 0),Ue([Object(n.l)()],t.prototype,"propertyChange",void 0),Ue([Object(n.l)()],t.prototype,"positionChange",void 0),Ue([Object(n.l)()],t.prototype,"animationComplete",void 0),Ue([Object(n.l)()],t.prototype,"rotateChange",void 0),Ue([Object(n.l)()],t.prototype,"collectionChange",void 0),Ue([Object(n.l)()],t.prototype,"expandStateChange",void 0),Ue([Object(n.l)()],t.prototype,"created",void 0),Ue([Object(n.l)()],t.prototype,"mouseEnter",void 0),Ue([Object(n.l)()],t.prototype,"mouseLeave",void 0),Ue([Object(n.l)()],t.prototype,"mouseOver",void 0),Ue([Object(n.l)()],t.prototype,"contextMenuOpen",void 0),Ue([Object(n.l)()],t.prototype,"contextMenuBeforeItemRender",void 0),Ue([Object(n.l)()],t.prototype,"contextMenuClick",void 0),Ue([Object(n.e)([],ze)],t.prototype,"layers",void 0),Ue([Object(n.l)()],t.prototype,"drop",void 0),t}(n.i)},,function(e,t,i){"use strict";var n=i(0),r=i(14),o=i(4),a=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),s([Object(n.q)("None")],t.prototype,"shape",void 0),s([Object(n.q)("white")],t.prototype,"fill",void 0),s([Object(n.q)("Auto")],t.prototype,"horizontalAlignment",void 0),s([Object(n.q)("Auto")],t.prototype,"verticalAlignment",void 0),s([Object(n.q)(10)],t.prototype,"width",void 0),s([Object(n.q)(10)],t.prototype,"height",void 0),s([Object(n.g)({x:.5,y:1},o.a)],t.prototype,"offset",void 0),s([Object(n.q)("#1a1a1a")],t.prototype,"borderColor",void 0),s([Object(n.q)(1)],t.prototype,"borderWidth",void 0),s([Object(n.g)({},r.a)],t.prototype,"margin",void 0),s([Object(n.q)("")],t.prototype,"pathData",void 0),s([Object(n.q)("")],t.prototype,"content",void 0),s([Object(n.q)(0)],t.prototype,"cornerRadius",void 0),s([Object(n.g)({left:2,right:2,top:2,bottom:2},r.a)],t.prototype,"padding",void 0),t}(n.d),l=i(31),h=i(28);i.d(t,"a",function(){return u});var d=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return d(t,e),p([Object(n.q)("")],t.prototype,"id",void 0),p([Object(n.q)(-1)],t.prototype,"zIndex",void 0),p([Object(n.g)({},r.a)],t.prototype,"margin",void 0),p([Object(n.q)(!0)],t.prototype,"visible",void 0),p([Object(n.e)([],h.a)],t.prototype,"ports",void 0),p([Object(n.q)(!0)],t.prototype,"isExpanded",void 0),p([Object(n.g)({},l.a)],t.prototype,"tooltip",void 0),p([Object(n.g)({},c)],t.prototype,"expandIcon",void 0),p([Object(n.g)({},c)],t.prototype,"collapseIcon",void 0),p([Object(n.q)(!1)],t.prototype,"excludeFromLayout",void 0),p([Object(n.q)()],t.prototype,"addInfo",void 0),p([Object(n.q)("None")],t.prototype,"flip",void 0),t}(n.d)},function(e,t,i){"use strict";i.d(t,"a",function(){return w});var n=i(17),r=i(35),o=i(13),a=i(25),s=i(8),c=i(9),l=i(2),h=i(6),d=i(3),p=i(1),u=i(32),f=i(30),g=i(19),m=i(29),y=i(26),v=i(4),b=i(5),w=function(){function e(e,t,i){this.renderer=null,this.isSvgMode=!0,this.transform={x:0,y:0},this.diagramId=e,this.element=Object(d.m)(this.diagramId),this.svgRenderer=t,this.isSvgMode=i,this.renderer=i?new u.a:new f.a}return e.prototype.setCursor=function(e,t){e.style.cursor=t},e.prototype.setLayers=function(){this.iconSvgLayer=this.element.getElementsByClassName("e-ports-expand-layer")[0],this.adornerSvgLayer=this.element.getElementsByClassName("e-adorner-layer")[0],this.nativeSvgLayer=this.element.getElementsByClassName("e-native-layer")[0],this.diagramSvgLayer=this.element.getElementsByClassName("e-diagram-layer")[0]},e.prototype.getAdornerLayer=function(){return Object(d.f)(this.diagramId)},e.prototype.getParentSvg=function(e,t,i){return this.diagramId&&e&&e.id?e.id.split("_icon_content").length>1||e.id.split("_nodeport").length>1?this.iconSvgLayer:t&&"selector"===t?this.adornerSvgLayer:e instanceof m.a?this.nativeSvgLayer:this.diagramSvgLayer:i},e.prototype.getParentElement=function(e,t,i,n){var r=t;if(i&&this.diagramId&&e&&e.id){e.id.split("_icon_content").length>1?(r=i.getElementById(this.diagramId+"_diagramExpander"),t=null):e.id.split("_nodeport").length>1?r=i.getElementById(this.diagramId+"_diagramPorts"):e instanceof m.a?(r=i.getElementById(this.diagramId+"_nativeLayer"),t=null):r=i.getElementById(this.diagramId+"_diagramLayer");var o=this.getGroupElement(e,t||r,n);r=o.g,o.svg&&(i=o.svg)}return{g:r,svg:i}},e.prototype.getGroupElement=function(e,t,i){var n,r,o=this.getParentSvg(e);if(t&&o){if(o&&!(n=o.getElementById(e.id+"_groupElement"))&&o!==this.nativeSvgLayer){var a=this.nativeSvgLayer;n=a.getElementById(e.id+"_groupElement"),r=a}n||(n=this.svgRenderer.createGElement("g",{id:e.id+"_groupElement"}),void 0!==i&&t.childNodes.length>i?t.insertBefore(n,t.childNodes[i]):t.appendChild(n))}return{g:n,svg:r}},e.prototype.renderElement=function(e,t,i,s,c,l,h,d){e instanceof a.a?(!1,this.renderContainer(e,t,i,s,c,l,h,d)):e instanceof r.a?this.renderImageElement(e,t,s,c,h):e instanceof n.a?this.renderPathElement(e,t,s,c,h):e instanceof o.a?this.renderTextElement(e,t,s,c,h):e instanceof m.a?this.renderNativeElement(e,t,s,c,h):e instanceof y.a?this.renderHTMLElement(e,t,i,s,c,h,d):this.renderRect(e,t,s,c)},e.prototype.drawSelectionRectangle=function(e,t,i,n,r,o){e=(e+o.tx)*o.scale,t=(t+o.ty)*o.scale;var a={width:i*o.scale,height:n*o.scale,x:e+.5,y:t+.5,fill:"transparent",stroke:"gray",angle:0,pivotX:.5,pivotY:.5,strokeWidth:1,dashArray:"6 3",opacity:1,visible:!0,id:r.id+"_selected_region"},s=this.getAdornerLayer();this.svgRenderer.updateSelectionRegion(s,a)},e.prototype.renderHighlighter=function(e,t,i){var n=e.actualSize.width||2,r=e.actualSize.height||2,o=e.offsetX-n*e.pivot.x,a=e.offsetY-r*e.pivot.y;o=(o+i.tx)*i.scale,a=(a+i.ty)*i.scale;var s={width:n*i.scale,height:r*i.scale,x:o,y:a,fill:"transparent",stroke:"#8CC63F",angle:e.rotateAngle,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:4,dashArray:"",opacity:1,cornerRadius:0,visible:!0,id:t.id+"_highlighter",class:"e-diagram-highlighter"};this.svgRenderer.drawRectangle(t,s,this.diagramId)},e.prototype.renderStackHighlighter=function(e,t,i,n,r,o,a){var s,c=e.actualSize.width||2,l=e.offsetX-c*e.pivot.x,h=e.actualSize.height||2,d=e.offsetY-h*e.pivot.y;l=(l+i.tx)*i.scale;var p=e.bounds,u="";if(d=(d+i.ty)*i.scale,n)if(o){s="M 0 0 L "+((v=c*i.scale)+2)+" 0 Z";var f=p.x,m=p.y,y=[];f=e.actualSize.width/Number(p.width?p.width:1)*i.scale,m=e.actualSize.height/Number(p.height?p.height:1)*i.scale;y=Object(g.e)("M7,4 L8,4 8,7 11,7 11,8 8,8 8,11 7,11 7,8 4,8 4,7 7,7 z M7.5,0.99999994C3.9160004,1 1,3.9160004 0.99999994,7.5 1,11.084 3.9160004,14 7.5,14 11.084,14 14,11.084 14,7.5 14,3.9160004 11.084,1 7.5,0.99999994 z M7.5,0 C11.636002,0 15,3.3639984 15,7.5 15,11.636002 11.636002,15 7.5,15 3.3640003,15 0,11.636002 0,7.5 0,3.3639984 3.3640003,0 7.5,0 z"),y=Object(g.f)(y),u=Object(g.g)(y,f+v+2,m-8,!1,p.x,p.y,0,0),r.y>=e.offsetY&&(d+=h)}else{var v;a&&r.y>=e.offsetY&&(d+=h),s="M -10 -10 L 0 0 Z M -10 10 L 0 0 Z M 0 0 L "+(v=c*i.scale)+" 0 Z M "+v+" 0 L "+(v+10)+" 10 Z L "+(v+10)+" -10 Z"}else s="M 10 -10 L 0 0 Z M -10 -10 L 0 0 Z M 0 0 L 0 "+(v=h*i.scale)+" Z M 0  "+v+" L -10  "+(v+10)+" Z L 10  "+(v+10)+" Z",r.x>=e.offsetX&&(l+=c);var b={data:s+u,width:c*i.scale,height:h*i.scale,x:l,y:d,fill:"transparent",stroke:"#8CC63F",angle:e.rotateAngle,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:1,dashArray:"",opacity:1,visible:!0,id:t.id+"_stack_highlighter",class:"e-diagram-highlighter"};this.svgRenderer.drawPath(t,b,this.diagramId)},e.prototype.drawLine=function(e,t){this.svgRenderer.drawLine(e,t)},e.prototype.drawPath=function(e,t){this.svgRenderer.drawPath(e,t,this.diagramId)},e.prototype.renderResizeHandle=function(e,t,i,n,r,o,a,s,c,l){var d=e.offsetX-e.actualSize.width*e.pivot.x,u=e.offsetY-e.actualSize.height*e.pivot.y,f=e.actualSize.height,g=e.actualSize.width;!l&&i&p.r.Rotate&&Object(b.k)(this.rendererActions)&&!Object(b.a)(this.rendererActions)&&(this.renderPivotLine(e,t,o,r,a),this.renderRotateThumb(e,t,o,r,a)),this.renderBorder(e,t,o,s,c,l);var m=e.actualSize.width*n,y=e.actualSize.height*n;c||!Object(b.k)(this.rendererActions)||Object(b.a)(this.rendererActions)||(m>=40&&y>=40&&(r&p.p.ResizeNorthWest&&this.renderCircularHandle("resizeNorthWest",e,d,u,t,Object(h.e)(r,"ResizeNorthWest"),i&p.r.ResizeNorthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top left side direction"},void 0,"e-diagram-resize-handle e-northwest"),r&p.p.ResizeNorthEast&&this.renderCircularHandle("resizeNorthEast",e,d+g,u,t,Object(h.e)(r,"ResizeNorthEast"),i&p.r.ResizeNorthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top right side direction"},void 0,"e-diagram-resize-handle e-northeast"),r&p.p.ResizeSouthWest&&this.renderCircularHandle("resizeSouthWest",e,d,u+f,t,Object(h.e)(r,"ResizeSouthWest"),i&p.r.ResizeSouthWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom left side direction"},void 0,"e-diagram-resize-handle e-southwest"),r&p.p.ResizeSouthEast&&this.renderCircularHandle("resizeSouthEast",e,d+g,u+f,t,Object(h.e)(r,"ResizeSouthEast"),i&p.r.ResizeSouthEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom right side direction"},void 0,"e-diagram-resize-handle e-southeast")),r&p.p.ResizeNorth&&this.renderCircularHandle("resizeNorth",e,d+g/2,u,t,Object(h.e)(r,"ResizeNorth"),i&p.r.ResizeNorth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on top side direction"},void 0,"e-diagram-resize-handle e-north"),r&p.p.ResizeSouth&&this.renderCircularHandle("resizeSouth",e,d+g/2,u+f,t,Object(h.e)(r,"ResizeSouth"),i&p.r.ResizeSouth,o,void 0,a,{"aria-label":"Thumb to resize the selected object on bottom side direction"},void 0,"e-diagram-resize-handle e-south"),r&p.p.ResizeWest&&this.renderCircularHandle("resizeWest",e,d,u+f/2,t,Object(h.e)(r,"ResizeWest"),i&p.r.ResizeWest,o,void 0,a,{"aria-label":"Thumb to resize the selected object on left side direction"},void 0,"e-diagram-resize-handle e-west"),r&p.p.ResizeEast&&this.renderCircularHandle("resizeEast",e,d+g,u+f/2,t,Object(h.e)(r,"ResizeEast"),i&p.r.ResizeEast,o,void 0,a,{"aria-label":"Thumb to resize the selected object on right side direction"},void 0,"e-diagram-resize-handle e-east"))},e.prototype.renderEndPointHandle=function(e,t,i,n,r,o,a,s){var c,l,d=e.sourcePoint,u=e.targetPoint,f=e.wrapper;if(this.renderCircularHandle("connectorSourceThumb",f,d.x,d.y,t,Object(h.e)(n,"ConnectorSourceThumb"),i&p.r.ConnectorSource,r,o,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-endpoint-handle e-targetend"),this.renderCircularHandle("connectorTargetThumb",f,u.x,u.y,t,Object(h.e)(n,"ConnectorTargetThumb"),i&p.r.ConnectorTarget,r,a,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-endpoint-handle e-targetend"),s)if(("Straight"===e.type||"Bezier"===e.type)&&e.segments.length>0)for(c=0;c<e.segments.length-1;c++)l=e.segments[c],this.renderCircularHandle("segementThumb_"+(c+1),f,l.point.x,l.point.y,t,!0,i&p.r.ConnectorSource,r,o,null,null,c);else for(c=0;c<e.segments.length;c++){var g=e.segments[c];this.renderOrthogonalThumbs("orthoThumb_"+(c+1),f,g,t,Object(h.e)(n,"ConnectorSourceThumb"),r)}if("Bezier"===e.type)for(c=0;c<e.segments.length;c++){var m=e.segments[c],y=v.a.isEmptyPoint(m.point1)?m.bezierPoint1:m.point1;this.renderCircularHandle("bezierPoint_"+(c+1)+"_1",f,y.x,y.y,t,Object(h.e)(n,"ConnectorSourceThumb"),i&p.r.ConnectorSource,r,void 0,void 0,{"aria-label":"Thumb to move the source point of the connector"},void 0,"e-diagram-bezier-handle e-source"),Object(h.e)(n,"ConnectorSourceThumb")&&this.renderBezierLine("bezierLine_"+(c+1)+"_1",f,t,m.points[0],v.a.isEmptyPoint(m.point1)?m.bezierPoint1:m.point1,r),y=v.a.isEmptyPoint(m.point2)?m.bezierPoint2:m.point2,this.renderCircularHandle("bezierPoint_"+(c+1)+"_2",f,y.x,y.y,t,Object(h.e)(n,"ConnectorTargetThumb"),i&p.r.ConnectorTarget,r,void 0,void 0,{"aria-label":"Thumb to move the target point of the connector"},void 0,"e-diagram-bezier-handle e-target"),Object(h.e)(n,"ConnectorTargetThumb")&&this.renderBezierLine("bezierLine_"+(c+1)+"_2",f,t,m.points[1],v.a.isEmptyPoint(m.point2)?m.bezierPoint2:m.point2,r)}},e.prototype.renderOrthogonalThumbs=function(e,t,i,n,r,o){var a,s,c,l=0;for(l=0;l<i.points.length-1;l++)c=v.a.distancePoints(i.points[l],i.points[l+1]),a=i.points[l].y.toFixed(2)===i.points[l+1].y.toFixed(2)?"horizontal":"vertical",s=c>=50,this.renderOrthogonalThumb(e+"_"+(l+1),t,(i.points[l].x+i.points[l+1].x)/2,(i.points[l].y+i.points[l+1].y)/2,n,s,a,o)},e.prototype.renderOrthogonalThumb=function(e,t,i,n,r,o,a,s){var c,l,h;"horizontal"===a?(c="M0,7 L15,0 L30,7 L15,14 z",l=-15,h=-7):(c="M7,0 L0,15 L7,30 L14,15 z",l=-7,h=-15);var d={x:(i+s.tx)*s.scale+l,y:(n+s.ty)*s.scale+h,angle:0,fill:"#e2e2e2",stroke:"black",strokeWidth:1,dashArray:"",data:c,width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:o,id:e};this.svgRenderer.drawPath(r,d,this.diagramId)},e.prototype.renderPivotLine=function(e,t,i,n,r){var o=e,a=!!(n&p.p.Rotate);r&&(a=!1);var s=this.getBaseAttributes(o,i);s.fill="None",s.stroke="black",s.strokeWidth=1,s.dashArray="2,3",s.visible=a;var c=i.scale;s.x*=c,s.y*=c,s.width*=c,s.height*=c,s.id="pivotLine",s.class="e-diagram-pivot-line";var l={x:o.actualSize.width*o.pivot.x*c,y:-20},h={x:o.actualSize.width*o.pivot.x*c,y:0};s.startPoint=l,s.endPoint=h,this.svgRenderer.drawLine(t,s)},e.prototype.renderBezierLine=function(e,t,i,n,r,o){var a=this.getBaseAttributes(t,o);a.id=e,a.stroke="black",a.strokeWidth=1,a.dashArray="3,3",a.fill="None",a.class="e-diagram-bezier-line",a.x=0,a.y=0;var s=o.scale,c={x:(n.x+o.tx)*s,y:(n.y+o.ty)*s},l={x:(r.x+o.tx)*s,y:(r.y+o.ty)*s};a.startPoint=c,a.endPoint=l,this.svgRenderer.drawLine(i,a)},e.prototype.renderCircularHandle=function(e,t,i,n,r,o,a,c,l,h,d,p,u){var f=t,g=7,m={x:i,y:n};if(0!==f.rotateAngle||0!==f.parentTransform){var y=Object(s.a)();Object(s.c)(y,f.rotateAngle+f.parentTransform,f.offsetX,f.offsetY),m=Object(s.e)(y,m)}var v=this.getBaseAttributes(f);v.stroke="black",v.strokeWidth=1,void 0!==p?(g=5,v.id="segmentEnd_"+p,v.fill="#e2e2e2"):(g=7,v.fill=l?"#8CC63F":"white"),v.centerX=(m.x+c.tx)*c.scale,v.centerY=(m.y+c.ty)*c.scale,v.radius=g,v.angle=0,v.id=e,v.visible=o,v.class=u,l&&(v.class+=" e-connected"),h&&(v.visible=!1),this.svgRenderer.drawCircle(r,v,a,d)},e.prototype.renderBorder=function(e,t,i,n,r,o){var a=e,s=this.getBaseAttributes(a,i);s.x*=i.scale,s.y*=i.scale,s.width*=i.scale,s.height*=i.scale,s.fill="transparent",s.stroke="#097F7F",s.strokeWidth=.6,s.dashArray="6,3",s.class="e-diagram-border",o&&(s.class+=" e-diagram-lane"),s.id="borderRect",s.id=this.rendererActions&p.o.DrawSelectorBorder?"borderRect_symbol":"borderRect",n||(s.class+=" e-disabled"),r&&(s.class+=" e-thick-border"),s.cornerRadius=0;var c=this.getParentSvg(e,"selector");this.svgRenderer.drawRectangle(t,s,this.diagramId,void 0,!0,c)},e.prototype.renderUserHandler=function(e,t,i){for(var r=e.wrapper,o=0,a=e.userHandles;o<a.length;o++){var s=a[o],c=(new n.a,void 0),l=s.pathData;(c=Object(h.A)(e,s,i)).x=(c.x+i.tx)*i.scale,c.y=(c.y+i.ty)*i.scale,s.visible&&(s.visible=!!(e.constraints&p.p.UserHandle));var u=this.getBaseAttributes(r);u.id=s.name+"_userhandle",u.fill=s.backgroundColor,u.stroke=s.borderColor,u.strokeWidth=s.borderWidth,u.centerX=c.x,u.centerY=c.y,u.radius=.5*s.size,u.class="e-diagram-userhandle-circle",u.angle=0,u.visible=s.visible,u.opacity=1,this.svgRenderer.drawCircle(t,u,1,{"aria-label":s.name+"user handle"});var f=[];f=Object(g.e)(l),f=Object(g.f)(f);var m=Object(d.B)(l),y=(s.size-.45*s.size)/m.width,v=(s.size-.45*s.size)/m.height,b=Object(g.g)(f,y,v,!0,m.x,m.y,0,0);m=Object(d.B)(b);var w={x:c.x-m.width/2,y:c.y-m.height/2,angle:0,id:"",class:"e-diagram-userhandle-path",fill:s.pathColor,stroke:s.backgroundColor,strokeWidth:.5,dashArray:"",data:b,width:s.size-5,height:s.size-5,pivotX:0,pivotY:0,opacity:1,visible:s.visible};this.svgRenderer.drawPath(t,w,this.diagramId,void 0,void 0,{"aria-label":s.name+"user handle"})}},e.prototype.renderRotateThumb=function(e,t,i,r,o){new n.a;var a,l=new c.a;l.width=18,l.height=16;var h=e.offsetY-e.actualSize.height*e.pivot.y,d=e.offsetX-e.actualSize.width*e.pivot.x,u=!!(r&p.p.Rotate);o&&(u=!1);var f=d+e.pivot.x*e.actualSize.width,g=h;if(f=(f+i.tx)*i.scale,g=(g+i.ty)*i.scale,a={x:f-.5*l.width,y:g-30-.5*l.height},0!==e.rotateAngle||0!==e.parentTransform){var m=Object(s.a)();Object(s.c)(m,e.rotateAngle+e.parentTransform,(i.tx+e.offsetX)*i.scale,(i.ty+e.offsetY)*i.scale),a=Object(s.e)(m,a)}var y={x:a.x,y:a.y,angle:e.rotateAngle+e.parentTransform,fill:"#231f20",stroke:"black",strokeWidth:.5,dashArray:"",data:"M 16.856144362449648 10.238890446662904 L 18.000144362449646 3.437890446662903L 15.811144362449646 4.254890446662903 C 14.837144362449646 2.5608904466629028 13.329144362449647  1.2598904466629026 11.485144362449645 0.5588904466629026 C 9.375144362449646 - 0.24510955333709716 7.071144362449646  - 0.18010955333709716 5.010144362449646 0.7438904466629028 C 2.942144362449646 1.6678904466629028 1.365144362449646 3.341890446662903 0.558144362449646 5.452890446662903 C - 0.244855637550354 7.567890446662903 - 0.17985563755035394 9.866890446662904 0.7431443624496461 11.930890446662904 C 1.6681443624496461 13.994890446662904 3.343144362449646 15.575890446662903 5.457144362449647 16.380890446662903 C 6.426144362449647 16.7518904466629 7.450144362449647 16.9348904466629 8.470144362449647 16.9348904466629 C 9.815144362449647 16.9348904466629 11.155144362449647 16.6178904466629 12.367144362449647 15.986890446662901 L 11.351144362449647 14.024890446662901 C 9.767144362449647 14.8468904466629 7.906144362449647 14.953890446662902 6.237144362449647 14.3178904466629 C 4.677144362449647 13.7218904466629 3.444144362449647 12.5558904466629 2.758144362449647 11.028890446662901 C 2.078144362449646 9.501890446662903 2.031144362449646 7.802890446662903 2.622144362449646 6.243890446662903 C 3.216144362449646 4.6798904466629025 4.387144362449646 3.442890446662903 5.914144362449646 2.760890446662903 C 7.437144362449646 2.078890446662903 9.137144362449646 2.0298904466629026 10.700144362449645 2.6258904466629027 C 11.946144362449646 3.100890446662903 12.971144362449646 3.9538904466629026 13.686144362449646 5.049890446662903 L 11.540144362449645 5.850890446662903 L 16.856144362449648 10.238890446662904 Z",width:20,height:20,pivotX:0,pivotY:0,opacity:1,visible:u,id:e.id,class:"e-diagram-rotate-handle"};y.id="rotateThumb",this.svgRenderer.drawPath(t,y,this.diagramId,!0,void 0,{"aria-label":"Thumb to rotate the selected object"})},e.prototype.renderPathElement=function(e,t,i,n,r){var o=this.getBaseAttributes(e,i);o.data=e.absolutePath,o.data=e.absolutePath;var a=e.description?e.description:e.id;if(this.isSvgMode||(o.x=e.flipOffset.x?e.flipOffset.x:o.x,o.y=e.flipOffset.y?e.flipOffset.y:o.y),e.isExport){var s=e.absoluteBounds;o.data=Object(d.I)(e,s,void 0,o)}this.renderer.drawPath(t,o,this.diagramId,void 0,n,a)},e.prototype.renderSvgGridlines=function(e,t,i,n,r,o){var a=document.createElementNS("http://www.w3.org/2000/svg","pattern"),s=document.createElementNS("http://www.w3.org/2000/svg","defs");s.setAttribute("id",this.diagramId+"_grid_pattern_defn"),(e.constraints&p.q.ShowHorizontalLines||e.constraints&p.q.ShowVerticalLines)&&a.setAttribute("id",this.diagramId+"_pattern");var c=0,l=0,h=0,u=0,f=1,g=!1;if(n.showRulers&&n.dynamicGrid&&r&&o)h=o.updateSegmentWidth(i.scale),u=r.updateSegmentWidth(i.scale),e.horizontalGridlines.scaledIntervals=[h/r.interval],e.verticalGridlines.scaledIntervals=[u/o.interval],g=!0;else{for(var m=0,y=e.verticalGridlines.lineIntervals;m<y.length;m++){c+=y[m]}for(var v=0,b=e.horizontalGridlines.lineIntervals;v<b.length;v++){l+=b[v]}f=this.scaleSnapInterval(e,i.scale)}c=g?u:c*f,l=g?h:l*f;var w={id:this.diagramId+"_pattern",x:0,y:0,width:c,height:l,patternUnits:"userSpaceOnUse"};Object(d.G)(a,w),this.horizontalSvgGridlines(a,c,l,f,e,n,o,g),this.verticalSvgGridlines(a,c,l,f,e,n,r,g),s.appendChild(a),t.appendChild(s)},e.prototype.horizontalSvgGridlines=function(e,t,i,n,r,o,a,s){var c,l=0,h=[];if(r.constraints&p.q.ShowHorizontalLines){var u=r.horizontalGridlines.lineIntervals;r.horizontalGridlines.lineColor;r.horizontalGridlines.lineDashArray&&(h=this.renderer.parseDashArray(r.horizontalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(u=this.updateLineIntervals(u,o,a,i));for(var f=0;f<u.length;f+=2){c=document.createElementNS("http://www.w3.org/2000/svg","path");var g=l+u[f]/2;g=s?g:g*n;var m={"stroke-width":u[f],stroke:r.horizontalGridlines.lineColor,d:"M0,"+g+" L"+t+","+g+" Z",dashArray:h.toString(),class:1.25===u[f]?"e-diagram-thick-grid":"e-diagram-thin-grid"};Object(d.G)(c,m),e.appendChild(c),l+=u[f+1]+u[f]}}},e.prototype.verticalSvgGridlines=function(e,t,i,n,r,o,a,s){var c,l=0,h=[];if(r.constraints&p.q.ShowVerticalLines){var u=r.verticalGridlines.lineIntervals;r.verticalGridlines.lineColor;r.verticalGridlines.lineDashArray&&(h=this.renderer.parseDashArray(r.verticalGridlines.lineDashArray)),o.showRulers&&o.dynamicGrid&&a&&(u=this.updateLineIntervals(u,o,a,t));for(var f=0;f<u.length;f+=2){c=document.createElementNS("http://www.w3.org/2000/svg","path");var g=l+u[f]/2;g=s?g:g*n;var m={"stroke-width":u[f],stroke:r.verticalGridlines.lineColor,d:"M"+g+",0 L"+g+","+i+" Z",dashArray:h.toString(),class:1.25===u[f]?"e-diagram-thick-grid":"e-diagram-thin-grid"};Object(d.G)(c,m),e.appendChild(c),l+=u[f+1]+u[f]}}},e.prototype.updateGrid=function(e,t,i,n,r,o){var a,s=t.getElementById(this.diagramId+"_grid_rect"),c=!1;if(s){var l=t.getElementById(this.diagramId+"_pattern");l&&l.parentNode.removeChild(l);var h=0,p=0,u=1;n.showRulers&&n.dynamicGrid&&o&&r?(h=o.updateSegmentWidth(i.scale),p=r.updateSegmentWidth(i.scale),c=!0,e.horizontalGridlines.scaledIntervals=[h/r.interval],e.verticalGridlines.scaledIntervals=[p/o.interval]):u=this.scaleSnapInterval(e,i.scale);var f=0;for(a=0;a<e.horizontalGridlines.lineIntervals.length;a++)f+=e.horizontalGridlines.lineIntervals[a];var g=0;for(a=0;a<e.verticalGridlines.lineIntervals.length;a++)g+=e.verticalGridlines.lineIntervals[a];var m={x:-i.tx*i.scale,y:-i.ty*i.scale};Object(d.G)(s,m),g=c?p:g*u,f=c?h:f*u,m={id:this.diagramId+"_pattern",x:0,y:0,width:g,height:f,patternUnits:"userSpaceOnUse"},l=document.createElementNS("http://www.w3.org/2000/svg","pattern"),Object(d.G)(l,m),this.horizontalSvgGridlines(l,g,f,u,e,n,o,c),this.verticalSvgGridlines(l,g,f,u,e,n,r,c);var y=t.getElementById(this.diagramId+"_grid_pattern_defn");y&&y.appendChild(l)}},e.prototype.updateLineIntervals=function(e,t,i,n){for(var r=[],o=n/i.interval,a=0;a<2*i.interval;a++)r[a]=a%2===0?0===a?1.25:.25:o-r[a-1];return r},e.prototype.scaleSnapInterval=function(e,t){if(t>=2)for(;t>=2;)t/=2;else if(t<=.5)for(;t<=.5;)t*=2;var i;if(e.horizontalGridlines.scaledIntervals=e.horizontalGridlines.snapIntervals,e.verticalGridlines.scaledIntervals=e.verticalGridlines.snapIntervals,1!==t){var n=e.horizontalGridlines;for(n.scaledIntervals=[],i=0;i<n.snapIntervals.length;i++)n.scaledIntervals[i]=n.snapIntervals[i]*t;for((n=e.verticalGridlines).scaledIntervals=[],i=0;i<n.snapIntervals.length;i++)n.scaledIntervals[i]=n.snapIntervals[i]*t}return t},e.prototype.renderTextElement=function(e,t,i,n,r){var o=this.getBaseAttributes(e,i);o.cornerRadius=0,o.whiteSpace=Object(l.m)(e.style.whiteSpace,e.style.textWrapping),o.content=e.content,o.breakWord=Object(l.n)(e.style.textWrapping),o.textAlign=Object(l.l)(e.style.textAlign),o.color=e.style.color,o.italic=e.style.italic,o.bold=e.style.bold,o.fontSize=e.style.fontSize,o.fontFamily=e.style.fontFamily,o.textOverflow=e.style.textOverflow,o.textDecoration=e.style.textDecoration,o.doWrap=e.doWrap,o.wrapBounds=e.wrapBounds,o.childNodes=e.childNodes,o.dashArray="",o.strokeWidth=0,o.fill=e.style.fill;var a=e.description?e.description:e.content?e.content:e.id;this.renderer.drawRectangle(t,o,this.diagramId,void 0,void 0,n),this.renderer.drawText(t,o,n,a,this.diagramId,e.isExport&&Math.min(e.exportScaleValue.x||e.exportScaleValue.y)),this.isSvgMode&&(e.doWrap=!1)},e.prototype.renderNativeElement=function(e,t,i,n,r){var o,a,s=this.getParentSvg(e,void 0,t)||n,c=this.getParentElement(e,t,s).g||t,l=this.getBaseAttributes(e,i);switch(l.fill="transparent",l.cornerRadius=e.cornerRadius,l.stroke="transparent",this.renderer.drawRectangle(t,l,this.diagramId,void 0,void 0,n),e.scale){case"None":o=e.contentSize.width,a=e.contentSize.height;break;case"Stretch":o=e.actualSize.width,a=e.actualSize.height;break;case"Meet":o=a=e.actualSize.width<=e.actualSize.height?e.actualSize.width:e.actualSize.height;break;case"Slice":o=a=e.actualSize.width>=e.actualSize.height?e.actualSize.width:e.actualSize.height}this.svgRenderer&&this.svgRenderer.drawNativeContent(e,c,a,o,s)},e.prototype.renderHTMLElement=function(e,t,i,n,r,o,a){var s=this.getBaseAttributes(e,n);s.fill="transparent",s.cornerRadius=e.cornerRadius,s.stroke="transparent",this.renderer.drawRectangle(t,s,this.diagramId,void 0,void 0,r),this.svgRenderer&&this.svgRenderer.drawHTMLContent(e,i.children[0],n,Object(h.F)(i),a)},e.prototype.renderImageElement=function(e,t,i,n,r){var o,a,s,c,l=this.getBaseAttributes(e,i);if(l.cornerRadius=0,this.renderer.drawRectangle(t,l,this.diagramId,void 0,void 0,n),"Stretch"===e.stretch)o=e.actualSize.width,a=e.actualSize.height;else{var h=e.contentSize.width,d=e.contentSize.height,p=l.width/h,u=l.height/d,f=void 0;switch(e.stretch){case"Meet":o=h*(f=Math.min(p,u)),a=d*f,l.x+=Math.abs(l.width-o)/2,l.y+=Math.abs(l.height-a)/2;break;case"Slice":p=l.width/h,u=l.height/d,o=h*(f=Math.max(p,u)),a=d*f,s=l.width/o*h,c=l.height/a*d;break;case"None":o=h,a=d}}l.width=o,l.height=a,l.sourceWidth=s,l.sourceHeight=c,l.source=e.source,l.alignment=e.imageAlign,l.scale=e.imageScale,l.description=e.description?e.description:e.id,this.renderer.drawImage(t,l,n,r)},e.prototype.renderContainer=function(e,t,i,n,r,a,s,c){var l={svg:r,g:t};if(this.diagramId&&(r=this.getParentSvg(e)||r,this.isSvgMode)){var h;h=this.getParentElement(e,t,r,c).g||t,r=this.getParentSvg(this.hasNativeParent(e.children))||r;var d=this.getParentElement(this.hasNativeParent(e.children),h,r,c);l.svg=d.svg||r,l.g=d.g||h,a?(r&&(r.getElementById(l.g.id)||t.appendChild(l.g)),t=l.g):t=l.g}if(this.renderRect(e,t,n,r),e.hasChildren()){for(var u,f=void 0,g=void 0,m=0,y=e.children;m<y.length;m++){var v=y[m];r=this.getParentSvg(this.hasNativeParent(e.children)||v)||r,this.isSvgMode&&(f=(u=this.getParentElement(this.hasNativeParent(e.children)||v,t,r)).g||t,u.svg&&(r=u.svg)),this.isSvgMode||(v.flip=e.flip),this.renderElement(v,f||t,i,n,r,!0,s,c),v instanceof o.a&&f&&!(e.elementActions&p.g.ElementIsGroup)&&(g=v.flip&&"None"!==v.flip?v.flip:e.flip,this.renderFlipElement(v,f,g)),v.elementActions&p.g.ElementIsPort&&f&&(g=v.flip&&"None"!==v.flip?v.flip:e.flip,this.renderFlipElement(e,f,g)),!(v instanceof o.a)&&"None"!==e.flip&&e.elementActions&p.g.ElementIsGroup&&this.renderFlipElement(v,f||t,e.flip)}e.elementActions&p.g.ElementIsGroup||this.renderFlipElement(e,t,e.flip)}},e.prototype.renderFlipElement=function(e,t,i){var n={},r=1,o=1,a=0,s=0,c=0,l=0;"None"!==i?("Horizontal"!==i&&"Both"!==i||(a=e.bounds.center.x,c=-e.bounds.center.x,r=-1),"Vertical"!==i&&"Both"!==i||(s=e.bounds.center.y,l=-e.bounds.center.y,o=-1),n={transform:"translate("+a+","+s+") scale("+r+","+o+") translate("+c+","+l+")"}):n={transform:"translate(0,0)"},n&&Object(d.G)(t,n)},e.prototype.hasNativeParent=function(e,t){if(e&&e.length>0){var i=e[0];if(i instanceof m.a)return i;i.children&&i.children.length&&this.hasNativeParent(i.children,t++||0)}},e.prototype.renderRect=function(e,t,i,n){var r=this.getBaseAttributes(e,i);r.cornerRadius=e.cornerRadius||0;var o=e.description?e.description:e.id;this.renderer.drawRectangle(t,r,this.diagramId,void 0,void 0,n,o)},e.prototype.drawRect=function(e,t){t.cornerRadius=0,this.svgRenderer.drawRectangle(e,t,this.diagramId)},e.prototype.getBaseAttributes=function(e,t){var i={width:e.actualSize.width,height:e.actualSize.height,x:e.offsetX-e.actualSize.width*e.pivot.x+.5,y:e.offsetY-e.actualSize.height*e.pivot.y+.5,fill:e.style.fill,stroke:e.style.strokeColor,angle:e.rotateAngle+e.parentTransform,pivotX:e.pivot.x,pivotY:e.pivot.y,strokeWidth:e.style.strokeWidth,dashArray:e.style.strokeDashArray||"",opacity:e.style.opacity,shadow:e.shadow,gradient:e.style.gradient,visible:e.visible,id:e.id,description:e.description,canApplyStyle:e.canApplyStyle};return e.isExport&&(i.width*=e.exportScaleValue.x,i.height*=e.exportScaleValue.y,i.x*=e.exportScaleValue.x,i.y*=e.exportScaleValue.y,i.strokeWidth*=e.exportScaleValue.x),e.flip&&(i.flip=e.flip),t&&(i.x+=t.tx,i.y+=t.ty),i},e.renderSvgBackGroundImage=function(e,t,i,n,r,o){if(e.source){var a=Object(d.j)(t.id).getElementById(t.id+"_image");if(!a){var s=Object(d.h)(t.id);(a=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("id",t.id+"_image"),s.appendChild(a)}var c=new Image;c.src=e.source,a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c.src.toString());var l="None"!==e.scale?e.scale:"",h=e.align,p=h.charAt(0).toLowerCase()+h.slice(1);l&&(p+=" "+l.charAt(0).toLowerCase()+l.slice(1));var u={id:t.id+"_image",x:i,y:n,width:r,height:o,preserveAspectRatio:p};Object(d.G)(a,u)}},e.prototype.transformLayers=function(e,t){var i=e.tx*e.scale,n=e.ty*e.scale;if(i!==this.transform.x||n!==this.transform.y||0===i||0===n){if(t)this.diagramSvgLayer.getElementById(this.diagramId+"_diagramLayer").setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")");return Object(d.p)(this.diagramId).setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+")"),this.iconSvgLayer.getElementById(this.diagramId+"_diagramPorts").setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),this.iconSvgLayer.getElementById(this.diagramId+"_diagramExpander").setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),this.nativeSvgLayer.getElementById(this.diagramId+"_nativeLayer").setAttribute("transform","translate("+e.tx*e.scale+","+e.ty*e.scale+"),scale("+e.scale+")"),Object(d.r)(this.diagramId).children[0].style.transform="translate("+e.tx*e.scale+"px,"+e.ty*e.scale+"px)scale("+e.scale+")",this.transform={x:e.tx*e.scale,y:e.ty*e.scale},!0}return!1},e.prototype.updateNode=function(e,t,i,n,r){this.renderElement(e,t,i,n,this.getParentSvg(e),void 0,void 0,r)},e}()},function(e,t,i){"use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var i,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))r.call(i,l)&&(s[l]=i[l]);if(n){a=n(i);for(var h=0;h<a.length;h++)o.call(i,a[h])&&(s[a[h]]=i[a[h]])}}return s}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",function(){return n})},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}i.d(t,"a",function(){return r})},function(e,t,i){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}i.d(t,"a",function(){return n})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(25),r=i(2),o=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.orientation="Vertical",t.measureChildren=void 0,t}return o(t,e),t.prototype.measure=function(e){var t="Horizontal"===this.orientation?this.updateHorizontalStack:this.updateVerticalStack;return this.desiredSize=this.measureStackPanel(e,t),this.desiredSize},t.prototype.arrange=function(e){var t="Horizontal"===this.orientation?this.arrangeHorizontalStack:this.arrangeVerticalStack;return this.actualSize=this.arrangeStackPanel(e,t),this.updateBounds(),this.actualSize},t.prototype.measureStackPanel=function(t,i){var n=void 0;if(void 0!==this.children&&this.children.length>0)for(var o=0,a=this.children;o<a.length;o++){var s=a[o];s.parentTransform=this.rotateAngle+this.parentTransform,this.measureChildren?s.measure(s.desiredSize):s.measure(t);var c=s.desiredSize.clone();this.applyChildMargin(s,c),0!==s.rotateAngle&&(c=Object(r.k)(c,s.rotateAngle)),void 0===n?n=c:s.preventContainer||i(c,n)}return n=e.prototype.validateDesiredSize.call(this,n,t),this.stretchChildren(n),this.applyPadding(n),n},t.prototype.arrangeStackPanel=function(t,i){if(void 0!==this.children&&this.children.length>0){var n=void 0,o=void 0;n=this.offsetX-t.width*this.pivot.x+this.padding.left,o=this.offsetY-t.height*this.pivot.y+this.padding.top;for(var a=0,s=this.children;a<s.length;a++){var c=s[a],l=c.desiredSize.clone(),h=l;"Vertical"===this.orientation?o+=c.margin.top:n+=c.margin.left,0!==c.rotateAngle&&(h=Object(r.k)(l,c.rotateAngle));var d=i(n,o,c,this,t,h);e.prototype.findChildOffsetFromCenter.call(this,c,d),c.arrange(l,!0),"Vertical"===this.orientation?o+=h.height+c.margin.bottom:n+=h.width+c.margin.right}}return t},t.prototype.updateHorizontalStack=function(e,t){t.height=Math.max(e.height,t.height),t.width+=e.width},t.prototype.updateVerticalStack=function(e,t){t.width=Math.max(e.width,t.width),t.height+=e.height},t.prototype.arrangeHorizontalStack=function(e,t,i,n,r,o){var a=0;if("Top"===i.verticalAlignment)a=t+i.margin.top+o.height/2;else if("Bottom"===i.verticalAlignment){a=n.offsetY+r.height*(1-n.pivot.y)-n.padding.bottom-i.margin.bottom-o.height/2}else a=n.offsetY-r.height*n.pivot.y+r.height/2,i.margin.top&&(a=t+i.margin.top+o.height/2);return{x:e+o.width/2,y:a}},t.prototype.arrangeVerticalStack=function(e,t,i,n,r,o){var a=0;if("Left"===i.horizontalAlignment)a=e+i.margin.left+o.width/2;else if("Right"===i.horizontalAlignment){a=n.offsetX+r.width*(1-n.pivot.x)-n.padding.right-i.margin.right-o.width/2}else a=n.offsetX-r.width*n.pivot.x+r.width/2,i.margin.left&&(a=e+i.margin.left+o.width/2);return{x:a,y:t+o.height/2}},t.prototype.stretchChildren=function(e){if(void 0!==this.children&&this.children.length>0)for(var t=0,i=this.children;t<i.length;t++){var n=i[t];"Vertical"===this.orientation?"Stretch"===n.horizontalAlignment&&(n.desiredSize.width=e.width-(n.margin.left+n.margin.right)):"Stretch"===n.verticalAlignment&&(n.desiredSize.height=e.height-(n.margin.top+n.margin.bottom))}},t.prototype.applyChildMargin=function(e,t){t.height+=e.margin.top+e.margin.bottom,t.width+=e.margin.left+e.margin.right},t}(n.a)},function(e,t,i){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.d(t,"a",function(){return n})},function(e,t,i){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return(r="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}i.d(t,"a",function(){return o})},function(e,t,i){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}i.d(t,"a",function(){return r})},,,function(e,t,i){"use strict";var n=i(44),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,h=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.concurrent_mode"):60111,u=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,i="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,i,n,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,r,o,a,s],l=0;(e=Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function O(e,t,i){this.props=e,this.context=t,this.refs=w,this.updater=i||b}function x(){}function j(e,t,i){this.props=e,this.context=t,this.refs=w,this.updater=i||b}O.prototype.isReactComponent={},O.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},O.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=O.prototype;var S=j.prototype=new x;S.constructor=j,n(S,O.prototype),S.isPureReactComponent=!0;var P={current:null},C={current:null},E=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,i){var n=void 0,r={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,n)&&!T.hasOwnProperty(n)&&(r[n]=t[n]);var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){for(var l=Array(c),h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps)void 0===r[n]&&(r[n]=c[n]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:C.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,M=[];function z(e,t,i,n){if(M.length){var r=M.pop();return r.result=e,r.keyPrefix=t,r.func=i,r.context=n,r.count=0,r}return{result:e,keyPrefix:t,func:i,context:n,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function L(e,t,i){return null==e?0:function e(t,i,n,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return n(r,t,""===i?"."+R(t,0):i),1;if(c=0,i=""===i?".":i+":",Array.isArray(t))for(var l=0;l<t.length;l++){var h=i+R(s=t[l],l);c+=e(s,h,n,r)}else if(h=null===t||"object"!==typeof t?null:"function"===typeof(h=y&&t[y]||t["@@iterator"])?h:null,"function"===typeof h)for(t=h.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,h=i+R(s,l++),n,r);else"object"===s&&v("31","[object Object]"===(n=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":n,"");return c}(e,"",t,i)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function H(e,t,i){var n=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?_(e,n,i,function(e){return e}):null!=e&&(I(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+i)),n.push(e))}function _(e,t,i,n,r){var o="";null!=i&&(o=(""+i).replace(A,"$&/")+"/"),L(e,H,t=z(t,o,n,r)),D(t)}function B(){var e=P.current;return null===e&&v("321"),e}var W={Children:{map:function(e,t,i){if(null==e)return e;var n=[];return _(e,n,null,t,i),n},forEach:function(e,t,i){if(null==e)return e;L(e,N,t=z(null,null,t,i)),D(t)},count:function(e){return L(e,function(){return null},null)},toArray:function(e){var t=[];return _(e,t,null,function(e){return e}),t},only:function(e){return I(e)||v("143"),e}},createRef:function(){return{current:null}},Component:O,PureComponent:j,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:h,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:u,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,i){return B().useImperativeHandle(e,t,i)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,i){return B().useReducer(e,t,i)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,StrictMode:c,Suspense:f,createElement:k,cloneElement:function(e,t,i){(null===e||void 0===e)&&v("267",e);var r=void 0,a=n({},e.props),s=e.key,c=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,l=C.current),void 0!==t.key&&(s=""+t.key);var h=void 0;for(r in e.type&&e.type.defaultProps&&(h=e.type.defaultProps),t)E.call(t,r)&&!T.hasOwnProperty(r)&&(a[r]=void 0===t[r]&&void 0!==h?h[r]:t[r])}if(1===(r=arguments.length-2))a.children=i;else if(1<r){h=Array(r);for(var d=0;d<r;d++)h[d]=arguments[d+2];a.children=h}return{$$typeof:o,type:e.type,key:s,ref:c,props:a,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:I,version:"16.8.6",unstable_ConcurrentMode:p,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:P,ReactCurrentOwner:C,assign:n}},q={default:W},F=q&&W||q;e.exports=F.default||F},function(e,t,i){"use strict";var n=i(21),r=i(44),o=i(56);function a(e){for(var t=arguments.length-1,i="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);!function(e,t,i,n,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,r,o,a,s],l=0;(e=Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",i)}n||a("227");var s=!1,c=null,l=!1,h=null,d={onError:function(e){s=!0,c=e}};function p(e,t,i,n,r,o,a,l,h){s=!1,c=null,function(e,t,i,n,r,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(i,l)}catch(h){this.onError(h)}}.apply(d,arguments)}var u=null,f={};function g(){if(u)for(var e in f){var t=f[e],i=u.indexOf(e);if(-1<i||a("96",e),!y[i])for(var n in t.extractEvents||a("97",e),y[i]=t,i=t.eventTypes){var r=void 0,o=i[n],s=t,c=n;v.hasOwnProperty(c)&&a("99",c),v[c]=o;var l=o.phasedRegistrationNames;if(l){for(r in l)l.hasOwnProperty(r)&&m(l[r],s,c);r=!0}else o.registrationName?(m(o.registrationName,s,c),r=!0):r=!1;r||a("98",n,e)}}}function m(e,t,i){b[e]&&a("100",e),b[e]=t,w[e]=t.eventTypes[i].dependencies}var y=[],v={},b={},w={},O=null,x=null,j=null;function S(e,t,i){var n=e.type||"unknown-event";e.currentTarget=j(i),function(e,t,i,n,r,o,d,u,f){if(p.apply(this,arguments),s){if(s){var g=c;s=!1,c=null}else a("198"),g=void 0;l||(l=!0,h=g)}}(n,t,void 0,e),e.currentTarget=null}function P(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function C(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}var E=null;function T(e){if(e){var t=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)S(e,t[n],i[n]);else t&&S(e,t,i);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var k={injectEventPluginOrder:function(e){u&&a("101"),u=Array.prototype.slice.call(e),g()},injectEventPluginsByName:function(e){var t,i=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];f.hasOwnProperty(t)&&f[t]===n||(f[t]&&a("102",t),f[t]=n,i=!0)}i&&g()}};function I(e,t){var i=e.stateNode;if(!i)return null;var n=O(i);if(!n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}return e?null:(i&&"function"!==typeof i&&a("231",t,typeof i),i)}function A(e){if(null!==e&&(E=P(E,e)),e=E,E=null,e&&(C(e,T),E&&a("95"),l))throw e=h,l=!1,h=null,e}var M=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+M,D="__reactEventHandlers$"+M;function L(e){if(e[z])return e[z];for(;!e[z];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[z]).tag||6===e.tag?e:null}function R(e){return!(e=e[z])||5!==e.tag&&6!==e.tag?null:e}function N(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function H(e){return e[D]||null}function _(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,i){(t=I(e,i.dispatchConfig.phasedRegistrationNames[t]))&&(i._dispatchListeners=P(i._dispatchListeners,t),i._dispatchInstances=P(i._dispatchInstances,e))}function W(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,i=[];t;)i.push(t),t=_(t);for(t=i.length;0<t--;)B(i[t],"captured",e);for(t=0;t<i.length;t++)B(i[t],"bubbled",e)}}function q(e,t,i){e&&i&&i.dispatchConfig.registrationName&&(t=I(e,i.dispatchConfig.registrationName))&&(i._dispatchListeners=P(i._dispatchListeners,t),i._dispatchInstances=P(i._dispatchInstances,e))}function F(e){e&&e.dispatchConfig.registrationName&&q(e._targetInst,null,e)}function U(e){C(e,W)}var X=!("undefined"===typeof window||!window.document||!window.document.createElement);function Y(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var V={animationend:Y("Animation","AnimationEnd"),animationiteration:Y("Animation","AnimationIteration"),animationstart:Y("Animation","AnimationStart"),transitionend:Y("Transition","TransitionEnd")},G={},Z={};function Q(e){if(G[e])return G[e];if(!V[e])return e;var t,i=V[e];for(t in i)if(i.hasOwnProperty(t)&&t in Z)return G[e]=i[t];return e}X&&(Z=document.createElement("div").style,"AnimationEvent"in window||(delete V.animationend.animation,delete V.animationiteration.animation,delete V.animationstart.animation),"TransitionEvent"in window||delete V.transitionend.transition);var K=Q("animationend"),$=Q("animationiteration"),J=Q("animationstart"),ee=Q("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,ne=null,re=null;function oe(){if(re)return re;var e,t,i=ne,n=i.length,r="value"in ie?ie.value:ie.textContent,o=r.length;for(e=0;e<n&&i[e]===r[e];e++);var a=n-e;for(t=1;t<=a&&i[n-t]===r[o-t];t++);return re=r.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function ce(e,t,i,n){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=i,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(i):"target"===r?this.target=n:this[r]=i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ae:se,this.isPropagationStopped=se,this}function le(e,t,i,n){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,i,n),r}return new this(e,t,i,n)}function he(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=le,e.release=he}r(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function i(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return r(o,i.prototype),i.prototype=o,i.prototype.constructor=i,i.Interface=r({},n.Interface,e),i.extend=n.extend,de(i),i},de(ce);var pe=ce.extend({data:null}),ue=ce.extend({data:null}),fe=[9,13,27,32],ge=X&&"CompositionEvent"in window,me=null;X&&"documentMode"in document&&(me=document.documentMode);var ye=X&&"TextEvent"in window&&!me,ve=X&&(!ge||me&&8<me&&11>=me),be=String.fromCharCode(32),we={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Oe=!1;function xe(e,t){switch(e){case"keyup":return-1!==fe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function je(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Se=!1;var Pe={eventTypes:we,extractEvents:function(e,t,i,n){var r=void 0,o=void 0;if(ge)e:{switch(e){case"compositionstart":r=we.compositionStart;break e;case"compositionend":r=we.compositionEnd;break e;case"compositionupdate":r=we.compositionUpdate;break e}r=void 0}else Se?xe(e,i)&&(r=we.compositionEnd):"keydown"===e&&229===i.keyCode&&(r=we.compositionStart);return r?(ve&&"ko"!==i.locale&&(Se||r!==we.compositionStart?r===we.compositionEnd&&Se&&(o=oe()):(ne="value"in(ie=n)?ie.value:ie.textContent,Se=!0)),r=pe.getPooled(r,t,i,n),o?r.data=o:null!==(o=je(i))&&(r.data=o),U(r),o=r):o=null,(e=ye?function(e,t){switch(e){case"compositionend":return je(t);case"keypress":return 32!==t.which?null:(Oe=!0,be);case"textInput":return(e=t.data)===be&&Oe?null:e;default:return null}}(e,i):function(e,t){if(Se)return"compositionend"===e||!ge&&xe(e,t)?(e=oe(),re=ne=ie=null,Se=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ve&&"ko"!==t.locale?null:t.data;default:return null}}(e,i))?((t=ue.getPooled(we.beforeInput,t,i,n)).data=e,U(t)):t=null,null===o?t:null===t?o:[o,t]}},Ce=null,Ee=null,Te=null;function ke(e){if(e=x(e)){"function"!==typeof Ce&&a("280");var t=O(e.stateNode);Ce(e.stateNode,e.type,t)}}function Ie(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Ae(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Me(e,t){return e(t)}function ze(e,t,i){return e(t,i)}function De(){}var Le=!1;function Re(e,t){if(Le)return e(t);Le=!0;try{return Me(e,t)}finally{Le=!1,(null!==Ee||null!==Te)&&(De(),Ae())}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function He(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ne[e.type]:"textarea"===t}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!X)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var r=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Fe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=We(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}var Ue=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ue.hasOwnProperty("ReactCurrentDispatcher")||(Ue.ReactCurrentDispatcher={current:null});var Xe=/^(.*)[\\\/]/,Ye="function"===typeof Symbol&&Symbol.for,Ve=Ye?Symbol.for("react.element"):60103,Ge=Ye?Symbol.for("react.portal"):60106,Ze=Ye?Symbol.for("react.fragment"):60107,Qe=Ye?Symbol.for("react.strict_mode"):60108,Ke=Ye?Symbol.for("react.profiler"):60114,$e=Ye?Symbol.for("react.provider"):60109,Je=Ye?Symbol.for("react.context"):60110,et=Ye?Symbol.for("react.concurrent_mode"):60111,tt=Ye?Symbol.for("react.forward_ref"):60112,it=Ye?Symbol.for("react.suspense"):60113,nt=Ye?Symbol.for("react.memo"):60115,rt=Ye?Symbol.for("react.lazy"):60116,ot="function"===typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ze:return"Fragment";case Ge:return"Portal";case Ke:return"Profiler";case Qe:return"StrictMode";case it:return"Suspense"}if("object"===typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case $e:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case nt:return st(e.type);case rt:if(e=1===e._status?e._result:null)return st(e)}return null}function ct(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var i="";break e;default:var n=e._debugOwner,r=e._debugSource,o=st(e.type);i=null,n&&(i=st(n.type)),n=o,o="",r?o=" (at "+r.fileName.replace(Xe,"")+":"+r.lineNumber+")":i&&(o=" (created by "+i+")"),i="\n    in "+(n||"Unknown")+o}t+=i,e=e.return}while(e);return t}var lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ht=Object.prototype.hasOwnProperty,dt={},pt={};function ut(e,t,i,n,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new ut(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new ut(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new ut(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new ut(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new ut(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new ut(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ft[e]=new ut(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ft[e]=new ut(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ft[e]=new ut(e,5,!1,e.toLowerCase(),null)});var gt=/[\-:]([a-z])/g;function mt(e){return e[1].toUpperCase()}function yt(e,t,i,n){var r=ft.hasOwnProperty(t)?ft[t]:null;(null!==r?0===r.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,i,n){if(null===t||"undefined"===typeof t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,r,n)&&(i=null),n||null===r?function(e){return!!ht.call(pt,e)||!ht.call(dt,e)&&(lt.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=null===i?3!==r.type&&"":i:(t=r.attributeName,n=r.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}function vt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var i=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function wt(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=vt(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ot(e,t){null!=(t=t.checked)&&yt(e,"checked",t,!1)}function xt(e,t){Ot(e,t);var i=vt(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?St(e,t.type,i):t.hasOwnProperty("defaultValue")&&St(e,t.type,vt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function jt(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function St(e,t,i){"number"===t&&e.ownerDocument.activeElement===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,mt);ft[t]=new ut(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,mt);ft[t]=new ut(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,mt);ft[t]=new ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new ut(e,1,!1,e.toLowerCase(),null)});var Pt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ct(e,t,i){return(e=ce.getPooled(Pt.change,e,t,i)).type="change",Ie(i),U(e),e}var Et=null,Tt=null;function kt(e){A(e)}function It(e){if(Fe(N(e)))return e}function At(e,t){if("change"===e)return t}var Mt=!1;function zt(){Et&&(Et.detachEvent("onpropertychange",Dt),Tt=Et=null)}function Dt(e){"value"===e.propertyName&&It(Tt)&&Re(kt,e=Ct(Tt,e,_e(e)))}function Lt(e,t,i){"focus"===e?(zt(),Tt=i,(Et=t).attachEvent("onpropertychange",Dt)):"blur"===e&&zt()}function Rt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return It(Tt)}function Nt(e,t){if("click"===e)return It(t)}function Ht(e,t){if("input"===e||"change"===e)return It(t)}X&&(Mt=Be("input")&&(!document.documentMode||9<document.documentMode));var _t={eventTypes:Pt,_isInputEventSupported:Mt,extractEvents:function(e,t,i,n){var r=t?N(t):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type?o=At:He(r)?Mt?o=Ht:(o=Rt,a=Lt):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Nt),o&&(o=o(e,t)))return Ct(o,i,n);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&St(r,"number",r.value)}},Bt=ce.extend({view:null,detail:null}),Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Wt[e])&&!!t[e]}function Ft(){return qt}var Ut=0,Xt=0,Yt=!1,Vt=!1,Gt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ft,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ut;return Ut=e.screenX,Yt?"mousemove"===e.type?e.screenX-t:0:(Yt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Xt;return Xt=e.screenY,Vt?"mousemove"===e.type?e.screenY-t:0:(Vt=!0,0)}}),Zt=Gt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Kt={eventTypes:Qt,extractEvents:function(e,t,i,n){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(i.relatedTarget||i.fromElement)||!o&&!r)return null;if(r=n.window===n?n:(r=n.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,t=(t=i.relatedTarget||i.toElement)?L(t):null):o=null,o===t)return null;var a=void 0,s=void 0,c=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(a=Gt,s=Qt.mouseLeave,c=Qt.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Zt,s=Qt.pointerLeave,c=Qt.pointerEnter,l="pointer");var h=null==o?r:N(o);if(r=null==t?r:N(t),(e=a.getPooled(s,o,i,n)).type=l+"leave",e.target=h,e.relatedTarget=r,(i=a.getPooled(c,t,i,n)).type=l+"enter",i.target=r,i.relatedTarget=h,n=t,o&&n)e:{for(r=n,l=0,a=t=o;a;a=_(a))l++;for(a=0,c=r;c;c=_(c))a++;for(;0<l-a;)t=_(t),l--;for(;0<a-l;)r=_(r),a--;for(;l--;){if(t===r||t===r.alternate)break e;t=_(t),r=_(r)}t=null}else t=null;for(r=t,t=[];o&&o!==r&&(null===(l=o.alternate)||l!==r);)t.push(o),o=_(o);for(o=[];n&&n!==r&&(null===(l=n.alternate)||l!==r);)o.push(n),n=_(n);for(n=0;n<t.length;n++)q(t[n],"bubbled",e);for(n=o.length;0<n--;)q(o[n],"captured",i);return[e,i]}};function $t(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}var Jt=Object.prototype.hasOwnProperty;function ei(e,t){if($t(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++)if(!Jt.call(t,i[n])||!$t(e[i[n]],t[i[n]]))return!1;return!0}function ti(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!==(2&t.effectTag))return 1;for(;t.return;)if(0!==(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function ii(e){2!==ti(e)&&a("188")}function ni(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=ti(e))&&a("188"),1===t?null:e;for(var i=e,n=t;;){var r=i.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var s=r.child;s;){if(s===i)return ii(r),e;if(s===n)return ii(r),t;s=s.sibling}a("188")}if(i.return!==n.return)i=r,n=o;else{s=!1;for(var c=r.child;c;){if(c===i){s=!0,i=r,n=o;break}if(c===n){s=!0,n=r,i=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===i){s=!0,i=o,n=r;break}if(c===n){s=!0,n=o,i=r;break}c=c.sibling}s||a("189")}}i.alternate!==n&&a("190")}return 3!==i.tag&&a("188"),i.stateNode.current===i?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var ri=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),oi=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ai=Bt.extend({relatedTarget:null});function si(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ci={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},li={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hi=Bt.extend({key:function(e){if(e.key){var t=ci[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=si(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?li[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ft,charCode:function(e){return"keypress"===e.type?si(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?si(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),di=Gt.extend({dataTransfer:null}),pi=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ft}),ui=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),fi=Gt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gi=[["abort","abort"],[K,"animationEnd"],[$,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],mi={},yi={};function vi(e,t){var i=e[0],n="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[i],isInteractive:t},mi[e]=t,yi[i]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){vi(e,!0)}),gi.forEach(function(e){vi(e,!1)});var bi={eventTypes:mi,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yi[e])&&!0===e.isInteractive},extractEvents:function(e,t,i,n){var r=yi[e];if(!r)return null;switch(e){case"keypress":if(0===si(i))return null;case"keydown":case"keyup":e=hi;break;case"blur":case"focus":e=ai;break;case"click":if(2===i.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=di;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=pi;break;case K:case $:case J:e=ri;break;case ee:e=ui;break;case"scroll":e=Bt;break;case"wheel":e=fi;break;case"copy":case"cut":case"paste":e=oi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Zt;break;default:e=ce}return U(t=e.getPooled(r,t,i,n)),t}},wi=bi.isInteractiveTopLevelEventType,Oi=[];function xi(e){var t=e.targetInst,i=t;do{if(!i){e.ancestors.push(i);break}var n;for(n=i;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(i),i=L(n)}while(i);for(i=0;i<e.ancestors.length;i++){t=e.ancestors[i];var r=_e(e.nativeEvent);n=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<y.length;s++){var c=y[s];c&&(c=c.extractEvents(n,t,o,r))&&(a=P(a,c))}A(a)}}var ji=!0;function Si(e,t){if(!t)return null;var i=(wi(e)?Ci:Ei).bind(null,e);t.addEventListener(e,i,!1)}function Pi(e,t){if(!t)return null;var i=(wi(e)?Ci:Ei).bind(null,e);t.addEventListener(e,i,!0)}function Ci(e,t){ze(Ei,e,t)}function Ei(e,t){if(ji){var i=_e(t);if(null===(i=L(i))||"number"!==typeof i.tag||2===ti(i)||(i=null),Oi.length){var n=Oi.pop();n.topLevelType=e,n.nativeEvent=t,n.targetInst=i,e=n}else e={topLevelType:e,nativeEvent:t,targetInst:i,ancestors:[]};try{Re(xi,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Oi.length&&Oi.push(e)}}}var Ti={},ki=0,Ii="_reactListenersID"+(""+Math.random()).slice(2);function Ai(e){return Object.prototype.hasOwnProperty.call(e,Ii)||(e[Ii]=ki++,Ti[e[Ii]]={}),Ti[e[Ii]]}function Mi(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function zi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Di(e,t){var i,n=zi(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zi(n)}}function Li(){for(var e=window,t=Mi();t instanceof e.HTMLIFrameElement;){try{var i="string"===typeof t.contentWindow.location.href}catch(n){i=!1}if(!i)break;t=Mi((e=t.contentWindow).document)}return t}function Ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ni(e){var t=Li(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&function e(t,i){return!(!t||!i)&&(t===i||(!t||3!==t.nodeType)&&(i&&3===i.nodeType?e(t,i.parentNode):"contains"in t?t.contains(i):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(i))))}(i.ownerDocument.documentElement,i)){if(null!==n&&Ri(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=i.textContent.length,o=Math.min(n.start,r);n=void 0===n.end?o:Math.min(n.end,r),!e.extend&&o>n&&(r=n,n=o,o=r),r=Di(i,o);var a=Di(i,n);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hi=X&&"documentMode"in document&&11>=document.documentMode,_i={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bi=null,Wi=null,qi=null,Fi=!1;function Ui(e,t){var i=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Fi||null==Bi||Bi!==Mi(i)?null:("selectionStart"in(i=Bi)&&Ri(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},qi&&ei(qi,i)?null:(qi=i,(e=ce.getPooled(_i.select,Wi,e,t)).type="select",e.target=Bi,U(e),e))}var Xi={eventTypes:_i,extractEvents:function(e,t,i,n){var r,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(r=!o)){e:{o=Ai(o),r=w.onSelect;for(var a=0;a<r.length;a++){var s=r[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}r=!o}if(r)return null;switch(o=t?N(t):window,e){case"focus":(He(o)||"true"===o.contentEditable)&&(Bi=o,Wi=t,qi=null);break;case"blur":qi=Wi=Bi=null;break;case"mousedown":Fi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Fi=!1,Ui(i,n);case"selectionchange":if(Hi)break;case"keydown":case"keyup":return Ui(i,n)}return null}};function Yi(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Vi(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+vt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Gi(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zi(e,t){var i=t.value;null==i&&(i=t.defaultValue,null!=(t=t.children)&&(null!=i&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),i=t),null==i&&(i="")),e._wrapperState={initialValue:vt(i)}}function Qi(e,t){var i=vt(t.value),n=vt(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function Ki(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}k.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),O=H,x=R,j=N,k.injectEventPluginsByName({SimpleEventPlugin:bi,EnterLeaveEventPlugin:Kt,ChangeEventPlugin:_t,SelectEventPlugin:Xi,BeforeInputEventPlugin:Pe});var $i={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ji(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ji(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tn,nn=void 0,rn=(tn=function(e,t){if(e.namespaceURI!==$i.svg||"innerHTML"in e)e.innerHTML=t;else{for((nn=nn||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=nn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction(function(){return tn(e,t)})}:tn);function on(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var an={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];function cn(e,t,i){return null==t||"boolean"===typeof t||""===t?"":i||"number"!==typeof t||0===t||an.hasOwnProperty(e)&&an[e]?(""+t).trim():t+"px"}function ln(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=cn(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,r):e[i]=r}}Object.keys(an).forEach(function(e){sn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),an[t]=an[e]})});var hn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(e,t){t&&(hn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!==typeof t.style&&a("62",""))}function pn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function un(e,t){var i=Ai(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var n=0;n<t.length;n++){var r=t[n];if(!i.hasOwnProperty(r)||!i[r]){switch(r){case"scroll":Pi("scroll",e);break;case"focus":case"blur":Pi("focus",e),Pi("blur",e),i.blur=!0,i.focus=!0;break;case"cancel":case"close":Be(r)&&Pi(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(r)&&Si(r,e)}i[r]=!0}}}function fn(){}var gn=null,mn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,wn="function"===typeof clearTimeout?clearTimeout:void 0,On=o.unstable_scheduleCallback,xn=o.unstable_cancelCallback;function jn(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Sn(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Pn=[],Cn=-1;function En(e){0>Cn||(e.current=Pn[Cn],Pn[Cn]=null,Cn--)}function Tn(e,t){Pn[++Cn]=e.current,e.current=t}var kn={},In={current:kn},An={current:!1},Mn=kn;function zn(e,t){var i=e.type.contextTypes;if(!i)return kn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in i)o[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ln(e){En(An),En(In)}function Rn(e){En(An),En(In)}function Nn(e,t,i){In.current!==kn&&a("168"),Tn(In,t),Tn(An,i)}function Hn(e,t,i){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return i;for(var o in n=n.getChildContext())o in e||a("108",st(t)||"Unknown",o);return r({},i,n)}function _n(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||kn,Mn=In.current,Tn(In,t),Tn(An,An.current),!0}function Bn(e,t,i){var n=e.stateNode;n||a("169"),i?(t=Hn(e,t,Mn),n.__reactInternalMemoizedMergedChildContext=t,En(An),En(In),Tn(In,t)):En(An),Tn(An,i)}var Wn=null,qn=null;function Fn(e){return function(t){try{return e(t)}catch(i){}}}function Un(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Xn(e,t,i,n){return new Un(e,t,i,n)}function Yn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vn(e,t){var i=e.alternate;return null===i?((i=Xn(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.effectTag=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,i.contextDependencies=e.contextDependencies,i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Gn(e,t,i,n,r,o){var s=2;if(n=e,"function"===typeof e)Yn(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case Ze:return Zn(i.children,r,o,t);case et:return Qn(i,3|r,o,t);case Qe:return Qn(i,2|r,o,t);case Ke:return(e=Xn(12,i,t,4|r)).elementType=Ke,e.type=Ke,e.expirationTime=o,e;case it:return(e=Xn(13,i,t,r)).elementType=it,e.type=it,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case $e:s=10;break e;case Je:s=9;break e;case tt:s=11;break e;case nt:s=14;break e;case rt:s=16,n=null;break e}a("130",null==e?e:typeof e,"")}return(t=Xn(s,i,t,r)).elementType=e,t.type=n,t.expirationTime=o,t}function Zn(e,t,i,n){return(e=Xn(7,e,n,t)).expirationTime=i,e}function Qn(e,t,i,n){return e=Xn(8,e,n,t),t=0===(1&t)?Qe:et,e.elementType=t,e.type=t,e.expirationTime=i,e}function Kn(e,t,i){return(e=Xn(6,e,null,t)).expirationTime=i,e}function $n(e,t,i){return(t=Xn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jn(e,t){e.didError=!1;var i=e.earliestPendingTime;0===i?e.earliestPendingTime=e.latestPendingTime=t:i<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ir(t,e)}function er(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var i=e.earliestPendingTime,n=e.latestPendingTime;i===t?e.earliestPendingTime=n===t?e.latestPendingTime=0:n:n===t&&(e.latestPendingTime=i),i=e.earliestSuspendedTime,n=e.latestSuspendedTime,0===i?e.earliestSuspendedTime=e.latestSuspendedTime=t:i<t?e.earliestSuspendedTime=t:n>t&&(e.latestSuspendedTime=t),ir(t,e)}function tr(e,t){var i=e.earliestPendingTime;return i>t&&(t=i),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ir(e,t){var i=t.earliestSuspendedTime,n=t.latestSuspendedTime,r=t.earliestPendingTime,o=t.latestPingedTime;0===(r=0!==r?r:o)&&(0===e||n<e)&&(r=n),0!==(e=r)&&i>e&&(e=i),t.nextExpirationTimeToWorkOn=r,t.expirationTime=e}function nr(e,t){if(e&&e.defaultProps)for(var i in t=r({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}var rr=(new n.Component).refs;function or(e,t,i,n){i=null===(i=i(n,t=e.memoizedState))||void 0===i?t:r({},t,i),e.memoizedState=i,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=i)}var ar={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===ti(e)},enqueueSetState:function(e,t,i){e=e._reactInternalFiber;var n=xs(),r=Qo(n=Za(n,e));r.payload=t,void 0!==i&&null!==i&&(r.callback=i),Fa(),$o(e,r),$a(e,n)},enqueueReplaceState:function(e,t,i){e=e._reactInternalFiber;var n=xs(),r=Qo(n=Za(n,e));r.tag=Uo,r.payload=t,void 0!==i&&null!==i&&(r.callback=i),Fa(),$o(e,r),$a(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var i=xs(),n=Qo(i=Za(i,e));n.tag=Xo,void 0!==t&&null!==t&&(n.callback=t),Fa(),$o(e,n),$a(e,i)}};function sr(e,t,i,n,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ei(i,n)||!ei(r,o))}function cr(e,t,i){var n=!1,r=kn,o=t.contextType;return"object"===typeof o&&null!==o?o=qo(o):(r=Dn(t)?Mn:In.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?zn(e,r):kn),t=new t(i,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ar,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function lr(e,t,i,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&ar.enqueueReplaceState(t,t.state,null)}function hr(e,t,i,n){var r=e.stateNode;r.props=i,r.state=e.memoizedState,r.refs=rr;var o=t.contextType;"object"===typeof o&&null!==o?r.context=qo(o):(o=Dn(t)?Mn:In.current,r.context=zn(e,o)),null!==(o=e.updateQueue)&&(ia(e,o,i,r,n),r.state=e.memoizedState),"function"===typeof(o=t.getDerivedStateFromProps)&&(or(e,t,o,i),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ar.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(ia(e,o,i,r,n),r.state=e.memoizedState)),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var dr=Array.isArray;function pr(e,t,i){if(null!==(e=i.ref)&&"function"!==typeof e&&"object"!==typeof e){if(i._owner){i=i._owner;var n=void 0;i&&(1!==i.tag&&a("309"),n=i.stateNode),n||a("147",e);var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=n.refs;t===rr&&(t=n.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}"string"!==typeof e&&a("284"),i._owner||a("290",e)}return e}function ur(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function fr(e){function t(t,i){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i,i.nextEffect=null,i.effectTag=8}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,i){return(e=Vn(e,t)).index=0,e.sibling=null,e}function o(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.effectTag=2,i):n:(t.effectTag=2,i):i}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,i,n){return null===t||6!==t.tag?((t=Kn(i,e.mode,n)).return=e,t):((t=r(t,i)).return=e,t)}function l(e,t,i,n){return null!==t&&t.elementType===i.type?((n=r(t,i.props)).ref=pr(e,t,i),n.return=e,n):((n=Gn(i.type,i.key,i.props,null,e.mode,n)).ref=pr(e,t,i),n.return=e,n)}function h(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=$n(i,e.mode,n)).return=e,t):((t=r(t,i.children||[])).return=e,t)}function d(e,t,i,n,o){return null===t||7!==t.tag?((t=Zn(i,e.mode,n,o)).return=e,t):((t=r(t,i)).return=e,t)}function p(e,t,i){if("string"===typeof t||"number"===typeof t)return(t=Kn(""+t,e.mode,i)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case Ve:return(i=Gn(t.type,t.key,t.props,null,e.mode,i)).ref=pr(e,null,t),i.return=e,i;case Ge:return(t=$n(t,e.mode,i)).return=e,t}if(dr(t)||at(t))return(t=Zn(t,e.mode,i,null)).return=e,t;ur(e,t)}return null}function u(e,t,i,n){var r=null!==t?t.key:null;if("string"===typeof i||"number"===typeof i)return null!==r?null:c(e,t,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Ve:return i.key===r?i.type===Ze?d(e,t,i.props.children,n,r):l(e,t,i,n):null;case Ge:return i.key===r?h(e,t,i,n):null}if(dr(i)||at(i))return null!==r?null:d(e,t,i,n,null);ur(e,i)}return null}function f(e,t,i,n,r){if("string"===typeof n||"number"===typeof n)return c(t,e=e.get(i)||null,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Ve:return e=e.get(null===n.key?i:n.key)||null,n.type===Ze?d(t,e,n.props.children,r,n.key):l(t,e,n,r);case Ge:return h(t,e=e.get(null===n.key?i:n.key)||null,n,r)}if(dr(n)||at(n))return d(t,e=e.get(i)||null,n,r,null);ur(t,n)}return null}function g(r,a,s,c){for(var l=null,h=null,d=a,g=a=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=u(r,d,s[g],c);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(r,d),a=o(y,a,g),null===h?l=y:h.sibling=y,h=y,d=m}if(g===s.length)return i(r,d),l;if(null===d){for(;g<s.length;g++)(d=p(r,s[g],c))&&(a=o(d,a,g),null===h?l=d:h.sibling=d,h=d);return l}for(d=n(r,d);g<s.length;g++)(m=f(d,r,g,s[g],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),a=o(m,a,g),null===h?l=m:h.sibling=m,h=m);return e&&d.forEach(function(e){return t(r,e)}),l}function m(r,s,c,l){var h=at(c);"function"!==typeof h&&a("150"),null==(c=h.call(c))&&a("151");for(var d=h=null,g=s,m=s=0,y=null,v=c.next();null!==g&&!v.done;m++,v=c.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=u(r,g,v.value,l);if(null===b){g||(g=y);break}e&&g&&null===b.alternate&&t(r,g),s=o(b,s,m),null===d?h=b:d.sibling=b,d=b,g=y}if(v.done)return i(r,g),h;if(null===g){for(;!v.done;m++,v=c.next())null!==(v=p(r,v.value,l))&&(s=o(v,s,m),null===d?h=v:d.sibling=v,d=v);return h}for(g=n(r,g);!v.done;m++,v=c.next())null!==(v=f(g,r,m,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===d?h=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(r,e)}),h}return function(e,n,o,c){var l="object"===typeof o&&null!==o&&o.type===Ze&&null===o.key;l&&(o=o.props.children);var h="object"===typeof o&&null!==o;if(h)switch(o.$$typeof){case Ve:e:{for(h=o.key,l=n;null!==l;){if(l.key===h){if(7===l.tag?o.type===Ze:l.elementType===o.type){i(e,l.sibling),(n=r(l,o.type===Ze?o.props.children:o.props)).ref=pr(e,l,o),n.return=e,e=n;break e}i(e,l);break}t(e,l),l=l.sibling}o.type===Ze?((n=Zn(o.props.children,e.mode,c,o.key)).return=e,e=n):((c=Gn(o.type,o.key,o.props,null,e.mode,c)).ref=pr(e,n,o),c.return=e,e=c)}return s(e);case Ge:e:{for(l=o.key;null!==n;){if(n.key===l){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){i(e,n.sibling),(n=r(n,o.children||[])).return=e,e=n;break e}i(e,n);break}t(e,n),n=n.sibling}(n=$n(o,e.mode,c)).return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(i(e,n.sibling),(n=r(n,o)).return=e,e=n):(i(e,n),(n=Kn(o,e.mode,c)).return=e,e=n),s(e);if(dr(o))return g(e,n,o,c);if(at(o))return m(e,n,o,c);if(h&&ur(e,o),"undefined"===typeof o&&!l)switch(e.tag){case 1:case 0:a("152",(c=e.type).displayName||c.name||"Component")}return i(e,n)}}var gr=fr(!0),mr=fr(!1),yr={},vr={current:yr},br={current:yr},wr={current:yr};function Or(e){return e===yr&&a("174"),e}function xr(e,t){Tn(wr,t),Tn(br,e),Tn(vr,yr);var i=t.nodeType;switch(i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:en(null,"");break;default:t=en(t=(i=8===i?t.parentNode:t).namespaceURI||null,i=i.tagName)}En(vr),Tn(vr,t)}function jr(e){En(vr),En(br),En(wr)}function Sr(e){Or(wr.current);var t=Or(vr.current),i=en(t,e.type);t!==i&&(Tn(br,e),Tn(vr,i))}function Pr(e){br.current===e&&(En(vr),En(br))}var Cr=0,Er=2,Tr=4,kr=8,Ir=16,Ar=32,Mr=64,zr=128,Dr=Ue.ReactCurrentDispatcher,Lr=0,Rr=null,Nr=null,Hr=null,_r=null,Br=null,Wr=null,qr=0,Fr=null,Ur=0,Xr=!1,Yr=null,Vr=0;function Gr(){a("321")}function Zr(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!$t(e[i],t[i]))return!1;return!0}function Qr(e,t,i,n,r,o){if(Lr=o,Rr=t,Hr=null!==e?e.memoizedState:null,Dr.current=null===Hr?lo:ho,t=i(n,r),Xr){do{Xr=!1,Vr+=1,Hr=null!==e?e.memoizedState:null,Wr=_r,Fr=Br=Nr=null,Dr.current=ho,t=i(n,r)}while(Xr);Yr=null,Vr=0}return Dr.current=co,(e=Rr).memoizedState=_r,e.expirationTime=qr,e.updateQueue=Fr,e.effectTag|=Ur,e=null!==Nr&&null!==Nr.next,Lr=0,Wr=Br=_r=Hr=Nr=Rr=null,qr=0,Fr=null,Ur=0,e&&a("300"),t}function Kr(){Dr.current=co,Lr=0,Wr=Br=_r=Hr=Nr=Rr=null,qr=0,Fr=null,Ur=0,Xr=!1,Yr=null,Vr=0}function $r(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Br?_r=Br=e:Br=Br.next=e,Br}function Jr(){if(null!==Wr)Wr=(Br=Wr).next,Hr=null!==(Nr=Hr)?Nr.next:null;else{null===Hr&&a("310");var e={memoizedState:(Nr=Hr).memoizedState,baseState:Nr.baseState,queue:Nr.queue,baseUpdate:Nr.baseUpdate,next:null};Br=null===Br?_r=e:Br.next=e,Hr=Nr.next}return Br}function eo(e,t){return"function"===typeof t?t(e):t}function to(e){var t=Jr(),i=t.queue;if(null===i&&a("311"),i.lastRenderedReducer=e,0<Vr){var n=i.dispatch;if(null!==Yr){var r=Yr.get(i);if(void 0!==r){Yr.delete(i);var o=t.memoizedState;do{o=e(o,r.action),r=r.next}while(null!==r);return $t(o,t.memoizedState)||(xo=!0),t.memoizedState=o,t.baseUpdate===i.last&&(t.baseState=o),i.lastRenderedState=o,[o,n]}}return[t.memoizedState,n]}n=i.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var c=r=null,l=n,h=!1;do{var d=l.expirationTime;d<Lr?(h||(h=!0,c=s,r=o),d>qr&&(qr=d)):o=l.eagerReducer===e?l.eagerState:e(o,l.action),s=l,l=l.next}while(null!==l&&l!==n);h||(c=s,r=o),$t(o,t.memoizedState)||(xo=!0),t.memoizedState=o,t.baseUpdate=c,t.baseState=r,i.lastRenderedState=o}return[t.memoizedState,i.dispatch]}function io(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===Fr?(Fr={lastEffect:null}).lastEffect=e.next=e:null===(t=Fr.lastEffect)?Fr.lastEffect=e.next=e:(i=t.next,t.next=e,e.next=i,Fr.lastEffect=e),e}function no(e,t,i,n){var r=$r();Ur|=e,r.memoizedState=io(t,i,void 0,void 0===n?null:n)}function ro(e,t,i,n){var r=Jr();n=void 0===n?null:n;var o=void 0;if(null!==Nr){var a=Nr.memoizedState;if(o=a.destroy,null!==n&&Zr(n,a.deps))return void io(Cr,i,o,n)}Ur|=e,r.memoizedState=io(t,i,o,n)}function oo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ao(){}function so(e,t,i){25>Vr||a("301");var n=e.alternate;if(e===Rr||null!==n&&n===Rr)if(Xr=!0,e={expirationTime:Lr,action:i,eagerReducer:null,eagerState:null,next:null},null===Yr&&(Yr=new Map),void 0===(i=Yr.get(t)))Yr.set(t,e);else{for(t=i;null!==t.next;)t=t.next;t.next=e}else{Fa();var r=xs(),o={expirationTime:r=Za(r,e),action:i,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)o.next=o;else{var c=s.next;null!==c&&(o.next=c),s.next=o}if(t.last=o,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var l=t.lastRenderedState,h=n(l,i);if(o.eagerReducer=n,o.eagerState=h,$t(h,l))return}catch(d){}$a(e,r)}}var co={readContext:qo,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr},lo={readContext:qo,useCallback:function(e,t){return $r().memoizedState=[e,void 0===t?null:t],e},useContext:qo,useEffect:function(e,t){return no(516,zr|Mr,e,t)},useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,no(4,Tr|Ar,oo.bind(null,t,e),i)},useLayoutEffect:function(e,t){return no(4,Tr|Ar,e,t)},useMemo:function(e,t){var i=$r();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=$r();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=so.bind(null,Rr,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},$r().memoizedState=e},useState:function(e){var t=$r();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=so.bind(null,Rr,e),[t.memoizedState,e]},useDebugValue:ao},ho={readContext:qo,useCallback:function(e,t){var i=Jr();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Zr(t,n[1])?n[0]:(i.memoizedState=[e,t],e)},useContext:qo,useEffect:function(e,t){return ro(516,zr|Mr,e,t)},useImperativeHandle:function(e,t,i){return i=null!==i&&void 0!==i?i.concat([e]):null,ro(4,Tr|Ar,oo.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ro(4,Tr|Ar,e,t)},useMemo:function(e,t){var i=Jr();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Zr(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)},useReducer:to,useRef:function(){return Jr().memoizedState},useState:function(e){return to(eo)},useDebugValue:ao},po=null,uo=null,fo=!1;function go(e,t){var i=Xn(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=t,i.return=e,i.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=i,e.lastEffect=i):e.firstEffect=e.lastEffect=i}function mo(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function yo(e){if(fo){var t=uo;if(t){var i=t;if(!mo(e,t)){if(!(t=jn(i))||!mo(e,t))return e.effectTag|=2,fo=!1,void(po=e);go(po,i)}po=e,uo=Sn(t)}else e.effectTag|=2,fo=!1,po=e}}function vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;po=e}function bo(e){if(e!==po)return!1;if(!fo)return vo(e),fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=uo;t;)go(e,t),t=jn(t);return vo(e),uo=po?jn(e.stateNode):null,!0}function wo(){uo=po=null,fo=!1}var Oo=Ue.ReactCurrentOwner,xo=!1;function jo(e,t,i,n){t.child=null===e?mr(t,null,i,n):gr(t,e.child,i,n)}function So(e,t,i,n,r){i=i.render;var o=t.ref;return Wo(t,r),n=Qr(e,t,i,n,o,r),null===e||xo?(t.effectTag|=1,jo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),zo(e,t,r))}function Po(e,t,i,n,r,o){if(null===e){var a=i.type;return"function"!==typeof a||Yn(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=Gn(i.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Co(e,t,a,n,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(i=null!==(i=i.compare)?i:ei)(r,n)&&e.ref===t.ref)?zo(e,t,o):(t.effectTag|=1,(e=Vn(a,n)).ref=t.ref,e.return=t,t.child=e)}function Co(e,t,i,n,r,o){return null!==e&&ei(e.memoizedProps,n)&&e.ref===t.ref&&(xo=!1,r<o)?zo(e,t,o):To(e,t,i,n,o)}function Eo(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.effectTag|=128)}function To(e,t,i,n,r){var o=Dn(i)?Mn:In.current;return o=zn(t,o),Wo(t,r),i=Qr(e,t,i,n,o,r),null===e||xo?(t.effectTag|=1,jo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),zo(e,t,r))}function ko(e,t,i,n,r){if(Dn(i)){var o=!0;_n(t)}else o=!1;if(Wo(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),cr(t,i,n),hr(t,i,n,r),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,l=i.contextType;"object"===typeof l&&null!==l?l=qo(l):l=zn(t,l=Dn(i)?Mn:In.current);var h=i.getDerivedStateFromProps,d="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||c!==l)&&lr(t,a,n,l),Vo=!1;var p=t.memoizedState;c=a.state=p;var u=t.updateQueue;null!==u&&(ia(t,u,n,a,r),c=t.memoizedState),s!==n||p!==c||An.current||Vo?("function"===typeof h&&(or(t,i,h,n),c=t.memoizedState),(s=Vo||sr(t,i,s,n,p,c,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=l,n=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:nr(t.type,s),c=a.context,"object"===typeof(l=i.contextType)&&null!==l?l=qo(l):l=zn(t,l=Dn(i)?Mn:In.current),(d="function"===typeof(h=i.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||c!==l)&&lr(t,a,n,l),Vo=!1,c=t.memoizedState,p=a.state=c,null!==(u=t.updateQueue)&&(ia(t,u,n,a,r),p=t.memoizedState),s!==n||c!==p||An.current||Vo?("function"===typeof h&&(or(t,i,h,n),p=t.memoizedState),(h=Vo||sr(t,i,s,n,c,p,l))?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=l,n=h):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),n=!1);return Io(e,t,i,n,o,r)}function Io(e,t,i,n,r,o){Eo(e,t);var a=0!==(64&t.effectTag);if(!n&&!a)return r&&Bn(t,i,!1),zo(e,t,o);n=t.stateNode,Oo.current=t;var s=a&&"function"!==typeof i.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=gr(t,e.child,null,o),t.child=gr(t,null,s,o)):jo(e,t,s,o),t.memoizedState=n.state,r&&Bn(t,i,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Nn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nn(0,t.context,!1),xr(e,t.containerInfo)}function Mo(e,t,i){var n=t.mode,r=t.pendingProps,o=t.memoizedState;if(0===(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var s=r.fallback;e=Zn(null,n,0,null),0===(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),n=Zn(s,n,i,null),e.sibling=n,(i=e).return=n.return=t}else i=n=mr(t,null,r.children,i);else null!==e.memoizedState?(s=(n=e.child).sibling,a?(i=r.fallback,r=Vn(n,n.pendingProps),0===(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==n.child&&(r.child=a)),n=r.sibling=Vn(s,i,s.expirationTime),i=r,r.childExpirationTime=0,i.return=n.return=t):i=n=gr(t,n.child,r.children,i)):(s=e.child,a?(a=r.fallback,(r=Zn(null,n,0,null)).child=s,0===(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),(n=r.sibling=Zn(a,n,i,null)).effectTag|=2,i=r,r.childExpirationTime=0,i.return=n.return=t):n=i=gr(t,s,r.children,i)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=i,n}function zo(e,t,i){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<i)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(i=Vn(e=t.child,e.pendingProps,e.expirationTime),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Vn(e,e.pendingProps,e.expirationTime)).return=t;i.sibling=null}return t.child}function Do(e,t,i){var n=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||An.current)xo=!0;else if(n<i){switch(xo=!1,t.tag){case 3:Ao(t),wo();break;case 5:Sr(t);break;case 1:Dn(t.type)&&_n(t);break;case 4:xr(t,t.stateNode.containerInfo);break;case 10:_o(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=i?Mo(e,t,i):null!==(t=zo(e,t,i))?t.sibling:null}return zo(e,t,i)}}else xo=!1;switch(t.expirationTime=0,t.tag){case 2:n=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var r=zn(t,In.current);if(Wo(t,i),r=Qr(null,t,n,e,r,i),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Kr(),Dn(n)){var o=!0;_n(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var s=n.getDerivedStateFromProps;"function"===typeof s&&or(t,n,s,e),r.updater=ar,t.stateNode=r,r._reactInternalFiber=t,hr(t,n,e,i),t=Io(null,t,n,!0,o,i)}else t.tag=0,jo(null,t,r,i),t=t.child;return t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(r),t.type=e,r=t.tag=function(e){if("function"===typeof e)return Yn(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===nt)return 14}return 2}(e),o=nr(e,o),s=void 0,r){case 0:s=To(null,t,e,o,i);break;case 1:s=ko(null,t,e,o,i);break;case 11:s=So(null,t,e,o,i);break;case 14:s=Po(null,t,e,nr(e.type,o),n,i);break;default:a("306",e,"")}return s;case 0:return n=t.type,r=t.pendingProps,To(e,t,n,r=t.elementType===n?r:nr(n,r),i);case 1:return n=t.type,r=t.pendingProps,ko(e,t,n,r=t.elementType===n?r:nr(n,r),i);case 3:return Ao(t),null===(n=t.updateQueue)&&a("282"),r=null!==(r=t.memoizedState)?r.element:null,ia(t,n,t.pendingProps,null,i),(n=t.memoizedState.element)===r?(wo(),t=zo(e,t,i)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(uo=Sn(t.stateNode.containerInfo),po=t,r=fo=!0),r?(t.effectTag|=2,t.child=mr(t,null,n,i)):(jo(e,t,n,i),wo()),t=t.child),t;case 5:return Sr(t),null===e&&yo(t),n=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,vn(n,r)?s=null:null!==o&&vn(n,o)&&(t.effectTag|=16),Eo(e,t),1!==i&&1&t.mode&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(jo(e,t,s,i),t=t.child),t;case 6:return null===e&&yo(t),null;case 13:return Mo(e,t,i);case 4:return xr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=gr(t,null,n,i):jo(e,t,n,i),t.child;case 11:return n=t.type,r=t.pendingProps,So(e,t,n,r=t.elementType===n?r:nr(n,r),i);case 7:return jo(e,t,t.pendingProps,i),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,s=t.memoizedProps,_o(t,o=r.value),null!==s){var c=s.value;if(0===(o=$t(c,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(c,o):1073741823))){if(s.children===r.children&&!An.current){t=zo(e,t,i);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.contextDependencies;if(null!==l){s=c.child;for(var h=l.first;null!==h;){if(h.context===n&&0!==(h.observedBits&o)){1===c.tag&&((h=Qo(i)).tag=Xo,$o(c,h)),c.expirationTime<i&&(c.expirationTime=i),null!==(h=c.alternate)&&h.expirationTime<i&&(h.expirationTime=i),h=i;for(var d=c.return;null!==d;){var p=d.alternate;if(d.childExpirationTime<h)d.childExpirationTime=h,null!==p&&p.childExpirationTime<h&&(p.childExpirationTime=h);else{if(!(null!==p&&p.childExpirationTime<h))break;p.childExpirationTime=h}d=d.return}l.expirationTime<i&&(l.expirationTime=i);break}h=h.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}jo(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,n=(o=t.pendingProps).children,Wo(t,i),n=n(r=qo(r,o.unstable_observedBits)),t.effectTag|=1,jo(e,t,n,i),t.child;case 14:return o=nr(r=t.type,t.pendingProps),Po(e,t,r,o=nr(r.type,o),n,i);case 15:return Co(e,t,t.type,t.pendingProps,n,i);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:nr(n,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Dn(n)?(e=!0,_n(t)):e=!1,Wo(t,i),cr(t,n,r),hr(t,n,r,i),Io(null,t,n,!0,e,i)}a("156")}var Lo={current:null},Ro=null,No=null,Ho=null;function _o(e,t){var i=e.type._context;Tn(Lo,i._currentValue),i._currentValue=t}function Bo(e){var t=Lo.current;En(Lo),e.type._context._currentValue=t}function Wo(e,t){Ro=e,Ho=No=null;var i=e.contextDependencies;null!==i&&i.expirationTime>=t&&(xo=!0),e.contextDependencies=null}function qo(e,t){return Ho!==e&&!1!==t&&0!==t&&("number"===typeof t&&1073741823!==t||(Ho=e,t=1073741823),t={context:e,observedBits:t,next:null},null===No?(null===Ro&&a("308"),No=t,Ro.contextDependencies={first:t,expirationTime:0}):No=No.next=t),e._currentValue}var Fo=0,Uo=1,Xo=2,Yo=3,Vo=!1;function Go(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Zo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qo(e){return{expirationTime:e,tag:Fo,payload:null,callback:null,next:null,nextEffect:null}}function Ko(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function $o(e,t){var i=e.alternate;if(null===i){var n=e.updateQueue,r=null;null===n&&(n=e.updateQueue=Go(e.memoizedState))}else n=e.updateQueue,r=i.updateQueue,null===n?null===r?(n=e.updateQueue=Go(e.memoizedState),r=i.updateQueue=Go(i.memoizedState)):n=e.updateQueue=Zo(r):null===r&&(r=i.updateQueue=Zo(n));null===r||n===r?Ko(n,t):null===n.lastUpdate||null===r.lastUpdate?(Ko(n,t),Ko(r,t)):(Ko(n,t),r.lastUpdate=t)}function Jo(e,t){var i=e.updateQueue;null===(i=null===i?e.updateQueue=Go(e.memoizedState):ea(e,i)).lastCapturedUpdate?i.firstCapturedUpdate=i.lastCapturedUpdate=t:(i.lastCapturedUpdate.next=t,i.lastCapturedUpdate=t)}function ea(e,t){var i=e.alternate;return null!==i&&t===i.updateQueue&&(t=e.updateQueue=Zo(t)),t}function ta(e,t,i,n,o,a){switch(i.tag){case Uo:return"function"===typeof(e=i.payload)?e.call(a,n,o):e;case Yo:e.effectTag=-2049&e.effectTag|64;case Fo:if(null===(o="function"===typeof(e=i.payload)?e.call(a,n,o):e)||void 0===o)break;return r({},n,o);case Xo:Vo=!0}return n}function ia(e,t,i,n,r){Vo=!1;for(var o=(t=ea(e,t)).baseState,a=null,s=0,c=t.firstUpdate,l=o;null!==c;){var h=c.expirationTime;h<r?(null===a&&(a=c,o=l),s<h&&(s=h)):(l=ta(e,0,c,l,i,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(h=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<r?(null===h&&(h=c,null===a&&(o=l)),s<d&&(s=d)):(l=ta(e,0,c,l,i,n),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===a&&(t.lastUpdate=null),null===h?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===h&&(o=l),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=h,e.expirationTime=s,e.memoizedState=l}function na(e,t,i){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ra(t.firstEffect,i),t.firstEffect=t.lastEffect=null,ra(t.firstCapturedEffect,i),t.firstCapturedEffect=t.lastCapturedEffect=null}function ra(e,t){for(;null!==e;){var i=e.callback;if(null!==i){e.callback=null;var n=t;"function"!==typeof i&&a("191",i),i.call(n)}e=e.nextEffect}}function oa(e,t){return{value:e,source:t,stack:ct(t)}}function aa(e){e.effectTag|=4}var sa=void 0,ca=void 0,la=void 0,ha=void 0;sa=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ca=function(){},la=function(e,t,i,n,o){var a=e.memoizedProps;if(a!==n){var s=t.stateNode;switch(Or(vr.current),e=null,i){case"input":a=bt(s,a),n=bt(s,n),e=[];break;case"option":a=Yi(s,a),n=Yi(s,n),e=[];break;case"select":a=r({},a,{value:void 0}),n=r({},n,{value:void 0}),e=[];break;case"textarea":a=Gi(s,a),n=Gi(s,n),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(s.onclick=fn)}dn(i,n),s=i=void 0;var c=null;for(i in a)if(!n.hasOwnProperty(i)&&a.hasOwnProperty(i)&&null!=a[i])if("style"===i){var l=a[i];for(s in l)l.hasOwnProperty(s)&&(c||(c={}),c[s]="")}else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(b.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in n){var h=n[i];if(l=null!=a?a[i]:void 0,n.hasOwnProperty(i)&&h!==l&&(null!=h||null!=l))if("style"===i)if(l){for(s in l)!l.hasOwnProperty(s)||h&&h.hasOwnProperty(s)||(c||(c={}),c[s]="");for(s in h)h.hasOwnProperty(s)&&l[s]!==h[s]&&(c||(c={}),c[s]=h[s])}else c||(e||(e=[]),e.push(i,c)),c=h;else"dangerouslySetInnerHTML"===i?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(e=e||[]).push(i,""+h)):"children"===i?l===h||"string"!==typeof h&&"number"!==typeof h||(e=e||[]).push(i,""+h):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(b.hasOwnProperty(i)?(null!=h&&un(o,i),e||l===h||(e=[])):(e=e||[]).push(i,h))}c&&(e=e||[]).push("style",c),o=e,(t.updateQueue=o)&&aa(t)}},ha=function(e,t,i,n){i!==n&&aa(t)};var da="function"===typeof WeakSet?WeakSet:Set;function pa(e,t){var i=t.source,n=t.stack;null===n&&null!==i&&(n=ct(i)),null!==i&&st(i.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(r){setTimeout(function(){throw r})}}function ua(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(i){Ga(e,i)}else t.current=null}function fa(e,t,i){if(null!==(i=null!==(i=i.updateQueue)?i.lastEffect:null)){var n=i=i.next;do{if((n.tag&e)!==Cr){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}(n.tag&t)!==Cr&&(r=n.create,n.destroy=r()),n=n.next}while(n!==i)}}function ga(e){switch("function"===typeof qn&&qn(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var i=t=t.next;do{var n=i.destroy;if(void 0!==n){var r=e;try{n()}catch(o){Ga(r,o)}}i=i.next}while(i!==t)}break;case 1:if(ua(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Ga(e,o)}break;case 5:ua(e);break;case 4:va(e)}}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ya(e){e:{for(var t=e.return;null!==t;){if(ma(t)){var i=t;break e}t=t.return}a("160"),i=void 0}var n=t=void 0;switch(i.tag){case 5:t=i.stateNode,n=!1;break;case 3:case 4:t=i.stateNode.containerInfo,n=!0;break;default:a("161")}16&i.effectTag&&(on(t,""),i.effectTag&=-17);e:t:for(i=e;;){for(;null===i.sibling;){if(null===i.return||ma(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;5!==i.tag&&6!==i.tag&&18!==i.tag;){if(2&i.effectTag)continue t;if(null===i.child||4===i.tag)continue t;i.child.return=i,i=i.child}if(!(2&i.effectTag)){i=i.stateNode;break e}}for(var r=e;;){if(5===r.tag||6===r.tag)if(i)if(n){var o=t,s=r.stateNode,c=i;8===o.nodeType?o.parentNode.insertBefore(s,c):o.insertBefore(s,c)}else t.insertBefore(r.stateNode,i);else n?(s=t,c=r.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(c,s):(o=s).appendChild(c),null!==(s=s._reactRootContainer)&&void 0!==s||null!==o.onclick||(o.onclick=fn)):t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function va(e){for(var t=e,i=!1,n=void 0,r=void 0;;){if(!i){i=t.return;e:for(;;){switch(null===i&&a("160"),i.tag){case 5:n=i.stateNode,r=!1;break e;case 3:case 4:n=i.stateNode.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(ga(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(o=n,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):n.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){n=t.stateNode.containerInfo,r=!0,t.child.return=t,t=t.child;continue}}else if(ga(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(i=!1)}t.sibling.return=t.return,t=t.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fa(Tr,kr,t);break;case 1:break;case 5:var i=t.stateNode;if(null!=i){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var r=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,i,n,r){e[D]=r,"input"===i&&"radio"===r.type&&null!=r.name&&Ot(e,r),pn(i,n),n=pn(i,r);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?ln(e,s):"dangerouslySetInnerHTML"===a?rn(e,s):"children"===a?on(e,s):yt(e,a,s,n)}switch(i){case"input":xt(e,r);break;case"textarea":Qi(e,r);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?Vi(e,!!r.multiple,i,!1):t!==!!r.multiple&&(null!=r.defaultValue?Vi(e,!!r.multiple,r.defaultValue,!0):Vi(e,!!r.multiple,r.multiple?[]:"",!1))}}(i,o,r,e,n)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(i=t.memoizedState,n=void 0,e=t,null===i?n=!1:(n=!0,e=t.child,0===i.timedOutAt&&(i.timedOutAt=xs())),null!==e&&function(e,t){for(var i=e;;){if(5===i.tag){var n=i.stateNode;if(t)n.style.display="none";else{n=i.stateNode;var r=i.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,n.style.display=cn("display",r)}}else if(6===i.tag)i.stateNode.nodeValue=t?"":i.memoizedProps;else{if(13===i.tag&&null!==i.memoizedState){(n=i.child.sibling).return=i,i=n;continue}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}(e,n),null!==(i=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new da),i.forEach(function(e){var i=function(e,t){var i=e.stateNode;null!==i&&i.delete(t),t=Za(t=xs(),e),null!==(e=Ka(e,t))&&(Jn(e,t),0!==(t=e.expirationTime)&&js(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(i,i))})}break;case 17:break;default:a("163")}}var wa="function"===typeof WeakMap?WeakMap:Map;function Oa(e,t,i){(i=Qo(i)).tag=Yo,i.payload={element:null};var n=t.value;return i.callback=function(){Ms(n),pa(e,t)},i}function xa(e,t,i){(i=Qo(i)).tag=Yo;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var r=t.value;i.payload=function(){return n(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(i.callback=function(){"function"!==typeof n&&(null===Ha?Ha=new Set([this]):Ha.add(this));var i=t.value,r=t.stack;pa(e,t),this.componentDidCatch(i,{componentStack:null!==r?r:""})}),i}function ja(e){switch(e.tag){case 1:Dn(e.type)&&Ln();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return jr(),Rn(),0!==(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Pr(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return jr(),null;case 10:return Bo(e),null;default:return null}}var Sa=Ue.ReactCurrentDispatcher,Pa=Ue.ReactCurrentOwner,Ca=1073741822,Ea=!1,Ta=null,ka=null,Ia=0,Aa=-1,Ma=!1,za=null,Da=!1,La=null,Ra=null,Na=null,Ha=null;function _a(){if(null!==Ta)for(var e=Ta.return;null!==e;){var t=e;switch(t.tag){case 1:var i=t.type.childContextTypes;null!==i&&void 0!==i&&Ln();break;case 3:jr(),Rn();break;case 5:Pr(t);break;case 4:jr();break;case 10:Bo(t)}e=e.return}ka=null,Ia=0,Aa=-1,Ma=!1,Ta=null}function Ba(){for(;null!==za;){var e=za.effectTag;if(16&e&&on(za.stateNode,""),128&e){var t=za.alternate;null!==t&&(null!==(t=t.ref)&&("function"===typeof t?t(null):t.current=null))}switch(14&e){case 2:ya(za),za.effectTag&=-3;break;case 6:ya(za),za.effectTag&=-3,ba(za.alternate,za);break;case 4:ba(za.alternate,za);break;case 8:va(e=za),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}za=za.nextEffect}}function Wa(){for(;null!==za;){if(256&za.effectTag)e:{var e=za.alternate,t=za;switch(t.tag){case 0:case 11:case 15:fa(Er,Cr,t);break e;case 1:if(256&t.effectTag&&null!==e){var i=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?i:nr(t.type,i),n),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}za=za.nextEffect}}function qa(e,t){for(;null!==za;){var i=za.effectTag;if(36&i){var n=za.alternate,r=za,o=t;switch(r.tag){case 0:case 11:case 15:fa(Ir,Ar,r);break;case 1:var s=r.stateNode;if(4&r.effectTag)if(null===n)s.componentDidMount();else{var c=r.elementType===r.type?n.memoizedProps:nr(r.type,n.memoizedProps);s.componentDidUpdate(c,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(n=r.updateQueue)&&na(0,n,s);break;case 3:if(null!==(n=r.updateQueue)){if(s=null,null!==r.child)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}na(0,n,s)}break;case 5:o=r.stateNode,null===n&&4&r.effectTag&&yn(r.type,r.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&i&&(null!==(r=za.ref)&&(o=za.stateNode,"function"===typeof r?r(o):r.current=o)),512&i&&(La=e),za=za.nextEffect}}function Fa(){null!==Ra&&xn(Ra),null!==Na&&Na()}function Ua(e,t){Da=Ea=!0,e.current===t&&a("177");var i=e.pendingCommitExpirationTime;0===i&&a("261"),e.pendingCommitExpirationTime=0;var n=t.expirationTime,r=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var i=e.latestPendingTime;0!==i&&(i>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(i=e.earliestSuspendedTime)?Jn(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Jn(e,t)):t>i&&Jn(e,t)}ir(0,e)}(e,r>n?r:n),Pa.current=null,n=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,n=t.firstEffect):n=t:n=t.firstEffect,gn=ji,mn=function(){var e=Li();if(Ri(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(i&&0!==i.rangeCount){t=i.anchorNode;var n=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch(u){t=null;break e}var o=0,a=-1,s=-1,c=0,l=0,h=e,d=null;t:for(;;){for(var p;h!==t||0!==n&&3!==h.nodeType||(a=o+n),h!==r||0!==i&&3!==h.nodeType||(s=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===t&&++c===n&&(a=o),d===r&&++l===i&&(s=o),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),ji=!1,za=n;null!==za;){r=!1;var s=void 0;try{Wa()}catch(l){r=!0,s=l}r&&(null===za&&a("178"),Ga(za,s),null!==za&&(za=za.nextEffect))}for(za=n;null!==za;){r=!1,s=void 0;try{Ba()}catch(l){r=!0,s=l}r&&(null===za&&a("178"),Ga(za,s),null!==za&&(za=za.nextEffect))}for(Ni(mn),mn=null,ji=!!gn,gn=null,e.current=t,za=n;null!==za;){r=!1,s=void 0;try{qa(e,i)}catch(l){r=!0,s=l}r&&(null===za&&a("178"),Ga(za,s),null!==za&&(za=za.nextEffect))}if(null!==n&&null!==La){var c=function(e,t){Na=Ra=La=null;var i=rs;rs=!0;do{if(512&t.effectTag){var n=!1,r=void 0;try{var o=t;fa(zr,Cr,o),fa(Cr,Mr,o)}catch(c){n=!0,r=c}n&&Ga(t,r)}t=t.nextEffect}while(null!==t);rs=i,0!==(i=e.expirationTime)&&js(e,i),hs||rs||Ts(1073741823,!1)}.bind(null,e,n);Ra=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return On(c)}),Na=c}Ea=Da=!1,"function"===typeof Wn&&Wn(t.stateNode),i=t.expirationTime,0===(t=(t=t.childExpirationTime)>i?t:i)&&(Ha=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Xa(e){for(;;){var t=e.alternate,i=e.return,n=e.sibling;if(0===(1024&e.effectTag)){Ta=e;e:{var o=t,s=Ia,c=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Dn(t.type)&&Ln();break;case 3:jr(),Rn(),(c=t.stateNode).pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==o&&null!==o.child||(bo(t),t.effectTag&=-3),ca(t);break;case 5:Pr(t);var l=Or(wr.current);if(s=t.type,null!==o&&null!=t.stateNode)la(o,t,s,c,l),o.ref!==t.ref&&(t.effectTag|=128);else if(c){var h=Or(vr.current);if(bo(t)){o=(c=t).stateNode;var d=c.type,p=c.memoizedProps,u=l;switch(o[z]=c,o[D]=p,s=void 0,l=d){case"iframe":case"object":Si("load",o);break;case"video":case"audio":for(d=0;d<te.length;d++)Si(te[d],o);break;case"source":Si("error",o);break;case"img":case"image":case"link":Si("error",o),Si("load",o);break;case"form":Si("reset",o),Si("submit",o);break;case"details":Si("toggle",o);break;case"input":wt(o,p),Si("invalid",o),un(u,"onChange");break;case"select":o._wrapperState={wasMultiple:!!p.multiple},Si("invalid",o),un(u,"onChange");break;case"textarea":Zi(o,p),Si("invalid",o),un(u,"onChange")}for(s in dn(l,p),d=null,p)p.hasOwnProperty(s)&&(h=p[s],"children"===s?"string"===typeof h?o.textContent!==h&&(d=["children",h]):"number"===typeof h&&o.textContent!==""+h&&(d=["children",""+h]):b.hasOwnProperty(s)&&null!=h&&un(u,s));switch(l){case"input":qe(o),jt(o,p,!0);break;case"textarea":qe(o),Ki(o);break;case"select":case"option":break;default:"function"===typeof p.onClick&&(o.onclick=fn)}s=d,c.updateQueue=s,(c=null!==s)&&aa(t)}else{p=t,u=s,o=c,d=9===l.nodeType?l:l.ownerDocument,h===$i.html&&(h=Ji(u)),h===$i.html?"script"===u?((o=d.createElement("div")).innerHTML="<script><\/script>",d=o.removeChild(o.firstChild)):"string"===typeof o.is?d=d.createElement(u,{is:o.is}):(d=d.createElement(u),"select"===u&&(u=d,o.multiple?u.multiple=!0:o.size&&(u.size=o.size))):d=d.createElementNS(h,u),(o=d)[z]=p,o[D]=c,sa(o,t,!1,!1),u=o;var f=l,g=pn(d=s,p=c);switch(d){case"iframe":case"object":Si("load",u),l=p;break;case"video":case"audio":for(l=0;l<te.length;l++)Si(te[l],u);l=p;break;case"source":Si("error",u),l=p;break;case"img":case"image":case"link":Si("error",u),Si("load",u),l=p;break;case"form":Si("reset",u),Si("submit",u),l=p;break;case"details":Si("toggle",u),l=p;break;case"input":wt(u,p),l=bt(u,p),Si("invalid",u),un(f,"onChange");break;case"option":l=Yi(u,p);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},l=r({},p,{value:void 0}),Si("invalid",u),un(f,"onChange");break;case"textarea":Zi(u,p),l=Gi(u,p),Si("invalid",u),un(f,"onChange");break;default:l=p}dn(d,l),h=void 0;var m=d,y=u,v=l;for(h in v)if(v.hasOwnProperty(h)){var w=v[h];"style"===h?ln(y,w):"dangerouslySetInnerHTML"===h?null!=(w=w?w.__html:void 0)&&rn(y,w):"children"===h?"string"===typeof w?("textarea"!==m||""!==w)&&on(y,w):"number"===typeof w&&on(y,""+w):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(b.hasOwnProperty(h)?null!=w&&un(f,h):null!=w&&yt(y,h,w,g))}switch(d){case"input":qe(u),jt(u,p,!1);break;case"textarea":qe(u),Ki(u);break;case"option":null!=p.value&&u.setAttribute("value",""+vt(p.value));break;case"select":(l=u).multiple=!!p.multiple,null!=(u=p.value)?Vi(l,!!p.multiple,u,!1):null!=p.defaultValue&&Vi(l,!!p.multiple,p.defaultValue,!0);break;default:"function"===typeof l.onClick&&(u.onclick=fn)}(c=yn(s,c))&&aa(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?ha(o,t,o.memoizedProps,c):("string"!==typeof c&&(null===t.stateNode&&a("166")),o=Or(wr.current),Or(vr.current),bo(t)?(s=(c=t).stateNode,o=c.memoizedProps,s[z]=c,(c=s.nodeValue!==o)&&aa(t)):(s=t,(c=(9===o.nodeType?o:o.ownerDocument).createTextNode(c))[z]=t,s.stateNode=c));break;case 11:break;case 13:if(c=t.memoizedState,0!==(64&t.effectTag)){t.expirationTime=s,Ta=t;break e}c=null!==c,s=null!==o&&null!==o.memoizedState,null!==o&&!c&&s&&(null!==(o=o.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=o,o.nextEffect=l):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(c||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:jr(),ca(t);break;case 10:Bo(t);break;case 9:case 14:break;case 17:Dn(t.type)&&Ln();break;case 18:break;default:a("156")}Ta=null}if(t=e,1===Ia||1!==t.childExpirationTime){for(c=0,s=t.child;null!==s;)(o=s.expirationTime)>c&&(c=o),(l=s.childExpirationTime)>c&&(c=l),s=s.sibling;t.childExpirationTime=c}if(null!==Ta)return Ta;null!==i&&0===(1024&i.effectTag)&&(null===i.firstEffect&&(i.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==i.lastEffect&&(i.lastEffect.nextEffect=e.firstEffect),i.lastEffect=e.lastEffect),1<e.effectTag&&(null!==i.lastEffect?i.lastEffect.nextEffect=e:i.firstEffect=e,i.lastEffect=e))}else{if(null!==(e=ja(e)))return e.effectTag&=1023,e;null!==i&&(i.firstEffect=i.lastEffect=null,i.effectTag|=1024)}if(null!==n)return n;if(null===i)break;e=i}return null}function Ya(e){var t=Do(e.alternate,e,Ia);return e.memoizedProps=e.pendingProps,null===t&&(t=Xa(e)),Pa.current=null,t}function Va(e,t){Ea&&a("243"),Fa(),Ea=!0;var i=Sa.current;Sa.current=co;var n=e.nextExpirationTimeToWorkOn;n===Ia&&e===ka&&null!==Ta||(_a(),Ia=n,Ta=Vn((ka=e).current,null),e.pendingCommitExpirationTime=0);for(var r=!1;;){try{if(t)for(;null!==Ta&&!Cs();)Ta=Ya(Ta);else for(;null!==Ta;)Ta=Ya(Ta)}catch(y){if(Ho=No=Ro=null,Kr(),null===Ta)r=!0,Ms(y);else{null===Ta&&a("271");var o=Ta,s=o.return;if(null!==s){e:{var c=e,l=s,h=o,d=y;if(s=Ia,h.effectTag|=1024,h.firstEffect=h.lastEffect=null,null!==d&&"object"===typeof d&&"function"===typeof d.then){var p=d;d=l;var u=-1,f=-1;do{if(13===d.tag){var g=d.alternate;if(null!==g&&null!==(g=g.memoizedState)){f=10*(1073741822-g.timedOutAt);break}"number"===typeof(g=d.pendingProps.maxDuration)&&(0>=g?u=0:(-1===u||g<u)&&(u=g))}d=d.return}while(null!==d);d=l;do{if((g=13===d.tag)&&(g=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),g){if(null===(l=d.updateQueue)?((l=new Set).add(p),d.updateQueue=l):l.add(p),0===(1&d.mode)){d.effectTag|=64,h.effectTag&=-1957,1===h.tag&&(null===h.alternate?h.tag=17:((s=Qo(1073741823)).tag=Xo,$o(h,s))),h.expirationTime=1073741823;break e}l=s;var m=(h=c).pingCache;null===m?(m=h.pingCache=new wa,g=new Set,m.set(p,g)):void 0===(g=m.get(p))&&(g=new Set,m.set(p,g)),g.has(l)||(g.add(l),h=Qa.bind(null,h,p,l),p.then(h,h)),-1===u?c=1073741823:(-1===f&&(f=10*(1073741822-tr(c,s))-5e3),c=f+u),0<=c&&Aa<c&&(Aa=c),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((st(h.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ct(h))}Ma=!0,d=oa(d,h),c=l;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=s,Jo(c,s=Oa(c,d,s));break e;case 1:if(u=d,f=c.type,h=c.stateNode,0===(64&c.effectTag)&&("function"===typeof f.getDerivedStateFromError||null!==h&&"function"===typeof h.componentDidCatch&&(null===Ha||!Ha.has(h)))){c.effectTag|=2048,c.expirationTime=s,Jo(c,s=xa(c,u,s));break e}}c=c.return}while(null!==c)}Ta=Xa(o);continue}r=!0,Ms(y)}}break}if(Ea=!1,Sa.current=i,Ho=No=Ro=null,Kr(),r)ka=null,e.finishedWork=null;else if(null!==Ta)e.finishedWork=null;else{if(null===(i=e.current.alternate)&&a("281"),ka=null,Ma){if(r=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==r&&r<n||0!==o&&o<n||0!==s&&s<n)return er(e,n),void Os(e,i,n,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,n=e.nextExpirationTimeToWorkOn=n,t=e.expirationTime=1073741823,void Os(e,i,n,t,-1)}t&&-1!==Aa?(er(e,n),(t=10*(1073741822-tr(e,n)))<Aa&&(Aa=t),t=10*(1073741822-xs()),t=Aa-t,Os(e,i,n,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=n,e.finishedWork=i)}}function Ga(e,t){for(var i=e.return;null!==i;){switch(i.tag){case 1:var n=i.stateNode;if("function"===typeof i.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ha||!Ha.has(n)))return $o(i,e=xa(i,e=oa(t,e),1073741823)),void $a(i,1073741823);break;case 3:return $o(i,e=Oa(i,e=oa(t,e),1073741823)),void $a(i,1073741823)}i=i.return}3===e.tag&&($o(e,i=Oa(e,i=oa(t,e),1073741823)),$a(e,1073741823))}function Za(e,t){var i=o.unstable_getCurrentPriorityLevel(),n=void 0;if(0===(1&t.mode))n=1073741823;else if(Ea&&!Da)n=Ia;else{switch(i){case o.unstable_ImmediatePriority:n=1073741823;break;case o.unstable_UserBlockingPriority:n=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:n=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:n=1;break;default:a("313")}null!==ka&&n===Ia&&--n}return i===o.unstable_UserBlockingPriority&&(0===ss||n<ss)&&(ss=n),n}function Qa(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),null!==ka&&Ia===i?ka=null:(t=e.earliestSuspendedTime,n=e.latestSuspendedTime,0!==t&&i<=t&&i>=n&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>i)&&(e.latestPingedTime=i),ir(i,e),0!==(i=e.expirationTime)&&js(e,i)))}function Ka(e,t){e.expirationTime<t&&(e.expirationTime=t);var i=e.alternate;null!==i&&i.expirationTime<t&&(i.expirationTime=t);var n=e.return,r=null;if(null===n&&3===e.tag)r=e.stateNode;else for(;null!==n;){if(i=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==i&&i.childExpirationTime<t&&(i.childExpirationTime=t),null===n.return&&3===n.tag){r=n.stateNode;break}n=n.return}return r}function $a(e,t){null!==(e=Ka(e,t))&&(!Ea&&0!==Ia&&t>Ia&&_a(),Jn(e,t),Ea&&!Da&&ka===e||js(e,e.expirationTime),ys>ms&&(ys=0,a("185")))}function Ja(e,t,i,n,r){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return e(t,i,n,r)})}var es=null,ts=null,is=0,ns=void 0,rs=!1,os=null,as=0,ss=0,cs=!1,ls=null,hs=!1,ds=!1,ps=null,us=o.unstable_now(),fs=1073741822-(us/10|0),gs=fs,ms=50,ys=0,vs=null;function bs(){fs=1073741822-((o.unstable_now()-us)/10|0)}function ws(e,t){if(0!==is){if(t<is)return;null!==ns&&o.unstable_cancelCallback(ns)}is=t,e=o.unstable_now()-us,ns=o.unstable_scheduleCallback(Es,{timeout:10*(1073741822-t)-e})}function Os(e,t,i,n,r){e.expirationTime=n,0!==r||Cs()?0<r&&(e.timeoutHandle=bn(function(e,t,i){e.pendingCommitExpirationTime=i,e.finishedWork=t,bs(),gs=fs,ks(e,i)}.bind(null,e,t,i),r)):(e.pendingCommitExpirationTime=i,e.finishedWork=t)}function xs(){return rs?gs:(Ss(),0!==as&&1!==as||(bs(),gs=fs),gs)}function js(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),rs||(hs?ds&&(os=e,as=1073741823,Is(e,1073741823,!1)):1073741823===t?Ts(1073741823,!1):ws(e,t))}function Ss(){var e=0,t=null;if(null!==ts)for(var i=ts,n=es;null!==n;){var r=n.expirationTime;if(0===r){if((null===i||null===ts)&&a("244"),n===n.nextScheduledRoot){es=ts=n.nextScheduledRoot=null;break}if(n===es)es=r=n.nextScheduledRoot,ts.nextScheduledRoot=r,n.nextScheduledRoot=null;else{if(n===ts){(ts=i).nextScheduledRoot=es,n.nextScheduledRoot=null;break}i.nextScheduledRoot=n.nextScheduledRoot,n.nextScheduledRoot=null}n=i.nextScheduledRoot}else{if(r>e&&(e=r,t=n),n===ts)break;if(1073741823===e)break;i=n,n=n.nextScheduledRoot}}os=t,as=e}var Ps=!1;function Cs(){return!!Ps||!!o.unstable_shouldYield()&&(Ps=!0)}function Es(){try{if(!Cs()&&null!==es){bs();var e=es;do{var t=e.expirationTime;0!==t&&fs<=t&&(e.nextExpirationTimeToWorkOn=fs),e=e.nextScheduledRoot}while(e!==es)}Ts(0,!0)}finally{Ps=!1}}function Ts(e,t){if(Ss(),t)for(bs(),gs=fs;null!==os&&0!==as&&e<=as&&!(Ps&&fs>as);)Is(os,as,fs>as),Ss(),bs(),gs=fs;else for(;null!==os&&0!==as&&e<=as;)Is(os,as,!1),Ss();if(t&&(is=0,ns=null),0!==as&&ws(os,as),ys=0,vs=null,null!==ps)for(e=ps,ps=null,t=0;t<e.length;t++){var i=e[t];try{i._onComplete()}catch(n){cs||(cs=!0,ls=n)}}if(cs)throw e=ls,ls=null,cs=!1,e}function ks(e,t){rs&&a("253"),os=e,as=t,Is(e,t,!1),Ts(1073741823,!1)}function Is(e,t,i){if(rs&&a("245"),rs=!0,i){var n=e.finishedWork;null!==n?As(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,wn(n)),Va(e,i),null!==(n=e.finishedWork)&&(Cs()?e.finishedWork=n:As(e,n,t)))}else null!==(n=e.finishedWork)?As(e,n,t):(e.finishedWork=null,-1!==(n=e.timeoutHandle)&&(e.timeoutHandle=-1,wn(n)),Va(e,i),null!==(n=e.finishedWork)&&As(e,n,t));rs=!1}function As(e,t,i){var n=e.firstBatch;if(null!==n&&n._expirationTime>=i&&(null===ps?ps=[n]:ps.push(n),n._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===vs?ys++:(vs=e,ys=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){Ua(e,t)})}function Ms(e){null===os&&a("246"),os.expirationTime=0,cs||(cs=!0,ls=e)}function zs(e,t){var i=hs;hs=!0;try{return e(t)}finally{(hs=i)||rs||Ts(1073741823,!1)}}function Ds(e,t){if(hs&&!ds){ds=!0;try{return e(t)}finally{ds=!1}}return e(t)}function Ls(e,t,i){hs||rs||0===ss||(Ts(ss,!1),ss=0);var n=hs;hs=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return e(t,i)})}finally{(hs=n)||rs||Ts(1073741823,!1)}}function Rs(e,t,i,n,r){var o=t.current;e:if(i){t:{2===ti(i=i._reactInternalFiber)&&1===i.tag||a("170");var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Dn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===i.tag){var c=i.type;if(Dn(c)){i=Hn(i,c,s);break e}}i=s}else i=kn;return null===t.context?t.context=i:t.pendingContext=i,t=r,(r=Qo(n)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),Fa(),$o(o,r),$a(o,n),n}function Ns(e,t,i,n){var r=t.current;return Rs(e,t,i,r=Za(xs(),r),n)}function Hs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function _s(e){var t=1073741822-25*(1+((1073741822-xs()+500)/25|0));t>=Ca&&(t=Ca-1),this._expirationTime=Ca=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Bs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ws(e,t,i){e={current:t=Xn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:i,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function qs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Fs(e,t,i,n,r){var o=i._reactRootContainer;if(o){if("function"===typeof r){var a=r;r=function(){var e=Hs(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)}else{if(o=i._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var i;i=e.lastChild;)e.removeChild(i);return new Ws(e,!1,t)}(i,n),"function"===typeof r){var s=r;r=function(){var e=Hs(o._internalRoot);s.call(e)}}Ds(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)})}return Hs(o._internalRoot)}function Us(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return qs(t)||a("200"),function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ge,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)}Ce=function(e,t,i){switch(t){case"input":if(xt(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var r=H(n);r||a("90"),Fe(n),xt(n,r)}}}break;case"textarea":Qi(e,i);break;case"select":null!=(t=i.value)&&Vi(e,!!i.multiple,t,!1)}},_s.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,i=this._expirationTime,n=new Bs;return Rs(e,t,null,i,n._onCommit),n},_s.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},_s.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var i=this._expirationTime;if(t!==this){this._hasChildren&&(i=this._expirationTime=t._expirationTime,this.render(this._children));for(var n=null,r=t;r!==this;)n=r,r=r._next;null===n&&a("251"),n._next=r._next,this._next=t,e.firstBatch=this}this._defer=!1,ks(e,i),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},_s.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Bs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var i=e[t];"function"!==typeof i&&a("191",i),i()}}},Ws.prototype.render=function(e,t){var i=this._internalRoot,n=new Bs;return null!==(t=void 0===t?null:t)&&n.then(t),Ns(e,i,null,n._onCommit),n},Ws.prototype.unmount=function(e){var t=this._internalRoot,i=new Bs;return null!==(e=void 0===e?null:e)&&i.then(e),Ns(null,t,null,i._onCommit),i},Ws.prototype.legacy_renderSubtreeIntoContainer=function(e,t,i){var n=this._internalRoot,r=new Bs;return null!==(i=void 0===i?null:i)&&r.then(i),Ns(t,n,e,r._onCommit),r},Ws.prototype.createBatch=function(){var e=new _s(this),t=e._expirationTime,i=this._internalRoot,n=i.firstBatch;if(null===n)i.firstBatch=e,e._next=null;else{for(i=null;null!==n&&n._expirationTime>=t;)i=n,n=n._next;e._next=n,null!==i&&(i._next=e)}return e},Me=zs,ze=Ls,De=function(){rs||0===ss||(Ts(ss,!1),ss=0)};var Xs={createPortal:Us,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"===typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=ni(t))?null:e.stateNode},hydrate:function(e,t,i){return qs(t)||a("200"),Fs(null,e,t,!0,i)},render:function(e,t,i){return qs(t)||a("200"),Fs(null,e,t,!1,i)},unstable_renderSubtreeIntoContainer:function(e,t,i,n){return qs(i)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Fs(e,t,i,!1,n)},unmountComponentAtNode:function(e){return qs(e)||a("40"),!!e._reactRootContainer&&(Ds(function(){Fs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Us.apply(void 0,arguments)},unstable_batchedUpdates:zs,unstable_interactiveUpdates:Ls,flushSync:function(e,t){rs&&a("187");var i=hs;hs=!0;try{return Ja(e,t)}finally{hs=i,Ts(1073741823,!1)}},unstable_createRoot:function(e,t){return qs(e)||a("299","unstable_createRoot"),new Ws(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=hs;hs=!0;try{Ja(e)}finally{(hs=t)||rs||Ts(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[R,N,H,k.injectEventPluginsByName,v,U,function(e){C(e,F)},Ie,Ae,Ei,A]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var i=t.inject(e);Wn=Fn(function(e){return t.onCommitFiberRoot(i,e)}),qn=Fn(function(e){return t.onCommitFiberUnmount(i,e)})}catch(n){}})(r({},e,{overrideProps:null,currentDispatcherRef:Ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ni(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:L,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var Ys={default:Xs},Vs=Ys&&Xs||Ys;e.exports=Vs.default||Vs},function(e,t,i){"use strict";e.exports=i(57)},function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=null,n=!1,r=3,o=-1,a=-1,s=!1,c=!1;function l(){if(!s){var e=i.expirationTime;c?j():c=!0,x(p,e)}}function h(){var e=i,t=i.next;if(i===t)i=null;else{var n=i.previous;i=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=r,s=a;r=e,a=t;try{var c=n()}finally{r=o,a=s}if("function"===typeof c)if(c={callback:c,priorityLevel:e,expirationTime:t,next:null,previous:null},null===i)i=c.next=c.previous=c;else{n=null,e=i;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==i);null===n?n=i:n===i&&(i=c,l()),(t=n.previous).next=n.previous=c,c.next=n,c.previous=t}}function d(){if(-1===o&&null!==i&&1===i.priorityLevel){s=!0;try{do{h()}while(null!==i&&1===i.priorityLevel)}finally{s=!1,null!==i?l():c=!1}}}function p(e){s=!0;var r=n;n=e;try{if(e)for(;null!==i;){var o=t.unstable_now();if(!(i.expirationTime<=o))break;do{h()}while(null!==i&&i.expirationTime<=o)}else if(null!==i)do{h()}while(null!==i&&!S())}finally{s=!1,n=r,null!==i?l():c=!1,d()}}var u,f,g=Date,m="function"===typeof setTimeout?setTimeout:void 0,y="function"===typeof clearTimeout?clearTimeout:void 0,v="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function w(e){u=v(function(t){y(f),e(t)}),f=m(function(){b(u),e(t.unstable_now())},100)}if("object"===typeof performance&&"function"===typeof performance.now){var O=performance;t.unstable_now=function(){return O.now()}}else t.unstable_now=function(){return g.now()};var x,j,S,P=null;if("undefined"!==typeof window?P=window:"undefined"!==typeof e&&(P=e),P&&P._schedMock){var C=P._schedMock;x=C[0],j=C[1],S=C[2],t.unstable_now=C[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var E=null,T=function(e){if(null!==E)try{E(e)}finally{E=null}};x=function(e){null!==E?setTimeout(x,0,e):(E=e,setTimeout(T,0,!1))},j=function(){E=null},S=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var k=null,I=!1,A=-1,M=!1,z=!1,D=0,L=33,R=33;S=function(){return D<=t.unstable_now()};var N=new MessageChannel,H=N.port2;N.port1.onmessage=function(){I=!1;var e=k,i=A;k=null,A=-1;var n=t.unstable_now(),r=!1;if(0>=D-n){if(!(-1!==i&&i<=n))return M||(M=!0,w(_)),k=e,void(A=i);r=!0}if(null!==e){z=!0;try{e(r)}finally{z=!1}}};var _=function e(t){if(null!==k){w(e);var i=t-D+R;i<R&&L<R?(8>i&&(i=8),R=i<L?L:i):L=i,D=t+R,I||(I=!0,H.postMessage(void 0))}else M=!1};x=function(e,t){k=e,A=t,z||0>t?H.postMessage(void 0):M||(M=!0,w(_))},j=function(){k=null,I=!1,A=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,i){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=r,a=o;r=e,o=t.unstable_now();try{return i()}finally{r=n,o=a,d()}},t.unstable_next=function(e){switch(r){case 1:case 2:case 3:var i=3;break;default:i=r}var n=r,a=o;r=i,o=t.unstable_now();try{return e()}finally{r=n,o=a,d()}},t.unstable_scheduleCallback=function(e,n){var a=-1!==o?o:t.unstable_now();if("object"===typeof n&&null!==n&&"number"===typeof n.timeout)n=a+n.timeout;else switch(r){case 1:n=a+-1;break;case 2:n=a+250;break;case 5:n=a+1073741823;break;case 4:n=a+1e4;break;default:n=a+5e3}if(e={callback:e,priorityLevel:r,expirationTime:n,next:null,previous:null},null===i)i=e.next=e.previous=e,l();else{a=null;var s=i;do{if(s.expirationTime>n){a=s;break}s=s.next}while(s!==i);null===a?a=i:a===i&&(i=e,l()),(n=a.previous).next=a.previous=e,e.next=a,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)i=null;else{e===i&&(i=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var i=r;return function(){var n=r,a=o;r=i,o=t.unstable_now();try{return e.apply(this,arguments)}finally{r=n,o=a,d()}}},t.unstable_getCurrentPriorityLevel=function(){return r},t.unstable_shouldYield=function(){return!n&&(null!==i&&i.expirationTime<a||S())},t.unstable_continueExecution=function(){null!==i&&l()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return i}}).call(this,i(58))},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}e.exports=i},,,,,,,function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i(7),r=i(1),o=i(6),a=i(2),s=i(15),c=i(9),l=i(12),h=function(){function e(){this.groupUndo=!1,this.childTable=[],this.historyCount=0,this.hasGroup=!1,this.groupCount=0}return e.prototype.initHistory=function(e){e.historyManager={canRedo:!1,canUndo:!1,currentEntry:null,push:e.addHistoryEntry.bind(e),undo:Function,redo:Function,startGroupAction:e.startGroupAction.bind(e),endGroupAction:e.endGroupAction.bind(e),canLog:null,undoStack:[],redoStack:[],stackLimit:e.historyManager?e.historyManager.stackLimit:void 0}},e.prototype.addHistoryEntry=function(e,t){var i=null;if(t.historyManager.canLog&&!0===t.historyManager.canLog(e).cancel)return;if(t.historyManager&&t.historyManager.canUndo&&t.historyManager.currentEntry&&((i=t.historyManager.currentEntry).next?i.previous&&(i.next.previous=null,i.next=e,e.previous=i):(i.next=e,e.previous=i)),t.historyManager.currentEntry=e,t.historyManager.stackLimit){if("StartGroup"===e.type||"EndGroup"===e.type){var n="EndGroup"===e.type;this.setEntryLimit(n)}this.hasGroup||0!==this.groupCount||(this.historyCount<t.historyManager.stackLimit?this.historyCount++:this.applyLimit(t.historyManager.currentEntry,t.historyManager.stackLimit,t))}this.getHistoryList(t),t.historyManager.canUndo=!0,t.historyManager.canRedo=!1},e.prototype.applyLimit=function(e,t,i,n){if(e&&e.previous){if("StartGroup"===e.type||"EndGroup"===e.type){var r="StartGroup"===e.type;this.setEntryLimit(r)}this.hasGroup||0!==this.groupCount||t--,0===t?(n&&this.limitHistoryStack(e.previous,i),i.historyManager.stackLimit<this.historyCount&&(this.historyCount=i.historyManager.stackLimit),delete e.previous):e.previous&&this.applyLimit(e.previous,t,i,n)}this.groupCount=0},e.prototype.clearHistory=function(e){var t=e.historyManager;t.currentEntry=void 0,t.canUndo=!1,t.canRedo=!1,this.historyCount=0,this.groupCount=0,e.historyManager.undoStack=[],e.historyManager.redoStack=[]},e.prototype.setEntryLimit=function(e){e?this.groupCount--:this.groupCount++,this.hasGroup=e?!e:e},e.prototype.limitHistoryStack=function(e,t){"StartGroup"!==e.type&&"EndGroup"!==e.type&&(this.removeFromStack(t.historyManager.undoStack,e),this.removeFromStack(t.historyManager.redoStack,e)),e.previous&&this.limitHistoryStack(e.previous,t)},e.prototype.removeFromStack=function(e,t){if(e.length)for(var i=0;i<=e.length;i++)if(e[i].undoObject===t.undoObject&&e[i].redoObject===t.redoObject){e.splice(i,1);break}},e.prototype.undo=function(e){var t=this.getUndoEntry(e),i=0;t&&("Internal"===t.category?("EndGroup"===t.type?(i++,this.groupUndo=!0):this.undoEntry(t,e),this.groupUndo&&(this.undoGroupAction(t,e,i),this.groupUndo=!1)):e.historyManager.undo(t))},e.prototype.getHistoryList=function(e){var t,i,n=[],r=[],o=e.historyManager.currentEntry;for(o=e.historyManager.currentEntry,e.historyManager.canUndo||0===e.historyManager.undoStack.length?this.getHistroyObject(n,o):this.getHistroyObject(r,o);o&&o.previous;)t=o.previous,this.getHistroyObject(n,t),o=o.previous;for(o=e.historyManager.currentEntry;o&&o.next;)i=o.next,this.getHistroyObject(r,i),o=o.next;e.historyManager.undoStack=n,e.historyManager.redoStack=r},e.prototype.getHistroyObject=function(e,t){t&&"StartGroup"!==t.type&&"EndGroup"!==t.type&&e.push({redoObject:t.redoObject?t.redoObject:null,undoObject:t.undoObject?t.undoObject:null,type:t.type?t.type:null,category:t.category?t.category:null})},e.prototype.undoGroupAction=function(e,t,i){for(;0!==i;)this.undoEntry(e,t),"StartGroup"===(e=this.getUndoEntry(t)).type?i--:"EndGroup"===e.type&&i++;i=0},e.prototype.undoEntry=function(e,t){var i,n;if("PropertyChanged"!==e.type&&"CollectionChanged"!==e.type&&"LabelCollectionChanged"!==e.type&&(i=e.undoObject,n=e.undoObject),"StartGroup"!==e.type&&"EndGroup"!==e.type&&t.historyManager.undoStack.length>0){var o=t.historyManager.undoStack.splice(0,1);t.historyManager.redoStack.splice(0,0,o[0]),n=e.undoObject}switch(t.protectPropertyChange(!0),t.diagramActions|=r.c.UndoRedo,e.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(i,t);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(i,t,e);break;case"RotationChanged":this.recordRotationChanged(i,t,e);break;case"ConnectionChanged":this.recordConnectionChanged(i,t);break;case"PropertyChanged":this.recordPropertyChanged(e,t,!1);break;case"CollectionChanged":e.isUndo=!0,this.recordCollectionChanged(e,t),e.isUndo=!1;break;case"LabelCollectionChanged":e.isUndo=!0,this.recordLabelCollectionChanged(e,t),e.isUndo=!1;break;case"PortCollectionChanged":e.isUndo=!0,this.recordPortCollectionChanged(e,t),e.isUndo=!1;break;case"Group":this.unGroup(e,t);break;case"UnGroup":this.group(e,t);break;case"SegmentChanged":this.recordSegmentChanged(i,t);break;case"PortPositionChanged":this.recordPortChanged(e,t,!1);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(e,t,!1);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(e,t,!1);break;case"StackChildPositionChanged":this.recordStackPositionChanged(e,t,!1);break;case"RowHeightChanged":this.recordGridSizeChanged(e,t,!1,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(e,t,!1,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(e,t,!1);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":e.isUndo=!0,this.recordLaneOrPhaseCollectionChanged(e,t,!1),e.isUndo=!1}if(t.diagramActions&=~r.c.UndoRedo,t.protectPropertyChange(!1),t.historyChangeTrigger(e),n){var s=this.checkNodeObject(n,t);if(s){var c=Object(a.f)(t.updateSelection);c&&c(s,t)}}},e.prototype.checkNodeObject=function(e,t){var i;if(e.id)i=t.nameTable[e.id];else if(e.nodes&&e.nodes.length>0||e.connectors&&e.connectors.length>0)for(var n=0,r=e.nodes.length>0?e.nodes:e.connectors;n<r.length;n++)i=r[n],i=t.nameTable[i.id];else{var o=e.nodes?e.nodes:e.connectors;if(o)for(var a=0,s=Object.keys(o);a<s.length;a++){var c=s[a],l=Number(c);i=e.nodes?t.nodes[l]:t.connectors[l]}}return i},e.prototype.group=function(e,t){t.add(e.undoObject)},e.prototype.unGroup=function(e,t){e.redoObject=Object(a.b)(e.undoObject);var i=e.undoObject;t.commandHandler.unGroup(i)},e.prototype.ignoreProperty=function(e){return"zIndex"===e||"wrapper"===e},e.prototype.getProperty=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];this.ignoreProperty(r)||(t[r]instanceof Object?this.getProperty(e[r],t[r]):e[r]=t[r])}},e.prototype.recordLaneOrPhaseCollectionChanged=function(e,t,i){var n=e.redoObject,r=e.undoObject;if("Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType))t.remove(n);else if(n.isPhase){var o=t.nameTable[n.parentId];t.addPhases(o,[r])}else{o=t.nameTable[n.parentId];var a=Object(l.g)(o,n);t.addLanes(o,[r],a)}t.clearSelection()},e.prototype.recordAnnotationChanged=function(e,t,i){var r=i?e.redoObject:e.undoObject,a=Object(o.i)(r,e.objectId),s=t.commandHandler.getAnnotationChanges(t.nameTable[r.id],a),c=t.nameTable[r.id],l=Object(o.i)(c,e.objectId);l.offset=a.offset,l.margin=a.margin,l.width=a.width,l.height=a.height,l.rotateAngle=a.rotateAngle,l.margin=a.margin,c instanceof n.q?t.nodePropertyChange(c,{},s):t.connectorPropertyChange(c,{},s)},e.prototype.recordChildCollectionChanged=function(e,t,i){var n=i?e.redoObject:e.undoObject,r=t.nameTable[n.parentId],o=t.nameTable[n.id];r?Object(s.a)(t,r,o,!i):(o.parentId&&((r=t.nameTable[o.parentId]).children.splice(r.children.indexOf(o.id),1),r.wrapper.children.splice(r.wrapper.children.indexOf(o.wrapper),1)),""!==n.parentId&&((r=t.nameTable[n.parentId]).children.push(n.id),r.wrapper.children.push(o.wrapper)),o.parentId=n.parentId,t.removeElements(o),t.updateDiagramObject(o))},e.prototype.recordStackPositionChanged=function(e,t,i){var n=i?e.redoObject:e.undoObject;if(n.source){var r=t.nameTable[n.source.parentId];r&&(n.target?(r.wrapper.children.splice(n.targetIndex,1),r.wrapper.children.splice(n.sourceIndex,0,n.source.wrapper)):void 0!==n.sourceIndex?(t.nameTable[n.source.id]||t.add(n.source),r.wrapper.children.splice(n.sourceIndex,0,t.nameTable[n.source.id].wrapper),t.nameTable[n.source.id].parentId=r.id):(r.wrapper.children.splice(r.wrapper.children.indexOf(t.nameTable[n.source.id].wrapper),1),t.nameTable[n.source.id].parentId=""),i&&"UmlClassifier"===r.shape.type&&t.remove(n.source),r.wrapper.measure(new c.a),r.wrapper.arrange(r.wrapper.desiredSize),t.updateDiagramObject(r),t.updateSelector())}},e.prototype.recordGridSizeChanged=function(e,t,i,n){var r=i?e.redoObject:e.undoObject,o=i?e.undoObject:e.redoObject;if(r.parentId){var a=t.nameTable[r.parentId],s=t.nameTable[r.id],c=a.wrapper.bounds.x,h=a.wrapper.bounds.y;if("SwimLane"===a.shape.type){var d=a.wrapper.children[0],p=a.shape.padding;Object(l.w)(t,o,a,r),n?(d.updateRowHeight(r.rowIndex,r.wrapper.actualSize.height,!0,p),a.height=a.wrapper.height=d.height):(d.updateColumnWidth(r.columnIndex,r.wrapper.actualSize.width,!0,p),a.width=a.wrapper.width=d.width,r.isPhase&&(s.maxWidth=s.wrapper.maxWidth=r.wrapper.actualSize.width)),Object(l.r)(a);var u=c-a.wrapper.bounds.x,f=h-a.wrapper.bounds.y;t.drag(a,u,f),t.clearSelection(),t.updateDiagramObject(a)}}},e.prototype.recordLanePositionChanged=function(e,t,i){var n=i?e.redoObject:e.undoObject;if(n.source){var r=t.nameTable[n.source.parentId];r&&"SwimLane"===r.shape.type&&(Object(l.k)(t,n.target,n.source),t.clearSelection())}},e.prototype.recordPortChanged=function(e,t,i){var n=i?e.redoObject.nodes[0]:e.undoObject.nodes[0],r=Object(o.o)(n,e.objectId),a=t.commandHandler.getPortChanges(t.nameTable[n.id],r),s=t.nameTable[n.id];Object(o.o)(s,e.objectId).offset=r.offset,t.nodePropertyChange(s,{},a),s.parentId&&t.updateConnectorEdges(t.nameTable[s.parentId])},e.prototype.recordPropertyChanged=function(e,t,i){var n=e.redoObject,o=e.undoObject;this.getProperty(t,i?n:o),i?t.onPropertyChanged(n,o):t.onPropertyChanged(o,n),t.diagramActions=t.diagramActions|r.c.UndoRedo},e.prototype.recordSegmentChanged=function(e,t){var i,n=0;if(e.connectors&&e.connectors.length>0)for(n=0;n<e.connectors.length;n++)i=e.connectors[n],this.segmentChanged(i,t)},e.prototype.segmentChanged=function(e,t){var i=t.nameTable[e.id];i.segments=e.segments,t.commandHandler.updateEndPoint(i)},e.prototype.recordPositionChanged=function(e,t){var i,n,r=0;if(e.nodes&&e.nodes.length>0)for(r=0;r<e.nodes.length;r++)i=e.nodes[r],this.positionChanged(i,t);if(e.connectors&&e.connectors.length>0)for(r=0;r<e.connectors.length;r++)n=e.connectors[r],this.connectionChanged(n,t)},e.prototype.positionChanged=function(e,t){var i=t.nameTable[e.id];if(e.processId&&!i.processId&&t.addProcess(e,e.processId),!e.processId&&i.processId&&t.removeProcess(e.id),i.processId){var n=e.margin.left-i.margin.left,r=e.margin.top-i.margin.top;t.drag(i,n,r)}else{if(i.parentId){var o=t.nameTable[i.parentId];o.isLane&&(e.wrapper.offsetX=e.width/2+(o.wrapper.bounds.x+e.margin.left),e.wrapper.offsetY=e.height/2+(o.wrapper.bounds.y+e.margin.top))}n=e.wrapper.offsetX-i.offsetX,r=e.wrapper.offsetY-i.offsetY;t.drag(i,n,r)}t.bpmnModule&&t.bpmnModule.updateDocks(i,t)},e.prototype.recordSizeChanged=function(e,t,i){var r,a,s=0;if(e&&e.nodes&&e.nodes.length>0)for(s=0;s<e.nodes.length;s++)if((a=e.nodes[s]).children&&!a.container)for(var c=t.commandHandler.getAllDescendants(a,[]),l=0;l<c.length;l++){var h=i.childTable[c[l].id];Object(o.u)(h)===n.q?(this.sizeChanged(h,t,i),this.positionChanged(h,t)):this.connectionChanged(h,t,i)}else this.sizeChanged(a,t),this.positionChanged(a,t);if(e&&e.connectors&&e.connectors.length>0){var d=e.connectors;for(s=0;s<d.length;s++)r=d[s],this.connectionChanged(r,t)}},e.prototype.sizeChanged=function(e,t,i){var n=t.nameTable[e.id],r=e.wrapper.actualSize.width/n.wrapper.actualSize.width,o=e.wrapper.actualSize.height/n.wrapper.actualSize.height;i&&i.childTable&&(i.childTable[e.id]=Object(a.b)(n)),t.scale(n,r,o,{x:e.wrapper.offsetX/n.wrapper.offsetX,y:e.wrapper.offsetY/n.wrapper.offsetY})},e.prototype.recordRotationChanged=function(e,t,i){var n,r,o=0,a=t.selectedItems;if(a.rotateAngle=e.rotateAngle,a&&a.wrapper&&(a.wrapper.rotateAngle=e.rotateAngle),e&&e.nodes&&e.nodes.length>0)for(o=0;o<e.nodes.length;o++)n=e.nodes[o],this.rotationChanged(n,t),this.positionChanged(n,t);if(e&&e.connectors&&e.connectors.length>0)for(o=0;o<e.connectors.length;o++)r=e.connectors[o],this.connectionChanged(r,t)},e.prototype.rotationChanged=function(e,t){var i=t.nameTable[e.id];t.rotate(i,e.rotateAngle-i.rotateAngle)},e.prototype.recordConnectionChanged=function(e,t){var i=e.connectors[0];this.connectionChanged(i,t)},e.prototype.connectionChanged=function(e,t,i){var n,r=t.nameTable[e.id];e.sourcePortID!==r.sourcePortID&&(r.sourcePortID=e.sourcePortID,t.connectorPropertyChange(r,{},{sourcePortID:e.sourcePortID})),e.targetPortID!==r.targetPortID&&(r.targetPortID=e.targetPortID,t.connectorPropertyChange(r,{},{targetPortID:e.targetPortID})),e.sourceID!==r.sourceID&&(""===e.sourceID?(n=t.nameTable[r.sourceID],Object(o.J)(n.outEdges,e.id)):(n=t.nameTable[e.sourceID]).outEdges.push(e.id),r.sourceID=e.sourceID,t.connectorPropertyChange(r,{},{sourceID:e.sourceID})),e.targetID!==r.targetID&&(""===e.targetID?(n=t.nameTable[r.targetID],Object(o.J)(n.inEdges,e.id)):(n=t.nameTable[e.targetID]).inEdges.push(e.id),r.targetID=e.targetID,t.connectorPropertyChange(r,{},{targetID:e.targetID})),i&&i.childTable&&(i.childTable[e.id]=Object(a.b)(r));var s=e.sourcePoint.x-r.sourcePoint.x,c=e.sourcePoint.y-r.sourcePoint.y;0===s&&0===c||t.dragSourceEnd(r,s,c);var l=e.targetPoint.x-r.targetPoint.x,h=e.targetPoint.y-r.targetPoint.y;0===l&&0===h||t.dragTargetEnd(r,l,h),t.updateSelector(),"SVG"!==t.mode&&t.refreshDiagramLayer()},e.prototype.recordCollectionChanged=function(e,t){var i=e.undoObject;if(e&&e.changeType){if("Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType))i.nodeId?t.remove(t.nameTable[i.nodeId+"_textannotation_"+i.id]):(t.remove(i),t.clearSelectorLayer());else{if(t.clearSelectorLayer(),i.parentId){var n=t.nameTable[i.parentId];n?t.addChild(n,i):t.add(i)}else i.nodeId?t.addTextAnnotation(i,t.nameTable[i.nodeId]):t.nameTable[i.id]||(i&&i.shape&&"SwimLane"===i.shape.type&&e.isUndo&&Object(l.l)(i,void 0,void 0,void 0,void 0,!0),t.add(i));i.processId&&t.nameTable[i.processId]&&t.addProcess(i,i.processId)}"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.recordLabelCollectionChanged=function(e,t){var i=e.undoObject,n=e.redoObject,r=t.nameTable[n.id];if(e&&e.changeType){"Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType)?(t.removeLabels(r,[i]),t.clearSelectorLayer()):(t.clearSelectorLayer(),t.addLabels(r,[i])),"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.recordPortCollectionChanged=function(e,t){var i=e.undoObject,n=e.redoObject,r=t.nameTable[n.id];if(e&&e.changeType){"Remove"===(e.isUndo?"Insert"===e.changeType?"Remove":"Insert":e.changeType)?(t.removePorts(r,[i]),t.clearSelectorLayer()):(t.clearSelectorLayer(),t.addPorts(r,[i])),"SVG"!==t.mode&&t.refreshDiagramLayer()}},e.prototype.redo=function(e){var t=this.getRedoEntry(e),i=0;t&&("Internal"===t.category?("StartGroup"===t.type?(i++,this.groupUndo=!0):this.redoEntry(t,e),this.groupUndo&&(this.redoGroupAction(t,e,i),this.groupUndo=!1)):e.historyManager.redo(t))},e.prototype.redoGroupAction=function(e,t,i){for(;0!==i;)this.redoEntry(e,t),"EndGroup"===(e=this.getRedoEntry(t)).type?i--:"StartGroup"===e.type&&i++;i=0},e.prototype.redoEntry=function(e,t){var i,n;if("PropertyChanged"!==e.type&&"CollectionChanged"!==e.type&&(i=e.redoObject,n=e.redoObject),t.diagramActions|=r.c.UndoRedo,"StartGroup"!==e.type&&"EndGroup"!==e.type&&t.historyManager.redoStack.length>0){var o=t.historyManager.redoStack.splice(0,1);t.historyManager.undoStack.splice(0,0,o[0]),n=e.redoObject}switch(t.protectPropertyChange(!0),e.type){case"PositionChanged":case"Align":case"Distribute":this.recordPositionChanged(i,t);break;case"SizeChanged":case"Sizing":this.recordSizeChanged(i,t,e);break;case"RotationChanged":this.recordRotationChanged(i,t,e);break;case"ConnectionChanged":this.recordConnectionChanged(i,t);break;case"PropertyChanged":this.recordPropertyChanged(e,t,!0);break;case"CollectionChanged":this.recordCollectionChanged(e,t);break;case"LabelCollectionChanged":this.recordLabelCollectionChanged(e,t);break;case"PortCollectionChanged":this.recordPortCollectionChanged(e,t);break;case"Group":this.group(e,t);break;case"UnGroup":this.unGroup(e,t);break;case"SegmentChanged":this.recordSegmentChanged(i,t);break;case"PortPositionChanged":this.recordPortChanged(e,t,!0);break;case"AnnotationPropertyChanged":this.recordAnnotationChanged(e,t,!0);break;case"ChildCollectionChanged":this.recordChildCollectionChanged(e,t,!0);break;case"StackChildPositionChanged":this.recordStackPositionChanged(e,t,!0);break;case"RowHeightChanged":this.recordGridSizeChanged(e,t,!0,!0);break;case"ColumnWidthChanged":this.recordGridSizeChanged(e,t,!0,!1);break;case"LanePositionChanged":this.recordLanePositionChanged(e,t,!0);break;case"LaneCollectionChanged":case"PhaseCollectionChanged":this.recordLaneOrPhaseCollectionChanged(e,t,!0)}if(t.protectPropertyChange(!1),t.diagramActions&=~r.c.UndoRedo,t.historyChangeTrigger(e),n){var s=this.checkNodeObject(n,t);if(s){var c=Object(a.f)(t.updateSelection);c&&c(s,t)}}},e.prototype.getUndoEntry=function(e){var t,i=null,n=e.historyManager;return n.canUndo&&(i=n.currentEntry,(t=n.currentEntry.previous)?(n.currentEntry=t,n.canRedo||(n.canRedo=!0)):(n.canRedo=!0,n.canUndo=!1)),i},e.prototype.getRedoEntry=function(e){var t,i=null,n=e.historyManager;return n.canRedo&&((t=n.currentEntry.previous||n.canUndo?n.currentEntry.next:n.currentEntry)&&(n.currentEntry=t,n.canUndo||(n.canUndo=!0),t.next||(n.canRedo=!1,n.canUndo=!0)),i=n.currentEntry),i},e.prototype.destroy=function(){},e.prototype.getModuleName=function(){return"UndoRedo"},e}()},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(21),r=i(40),o=i(36),a=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={layers:"layer",connectors:{connector:{connectorAnnotations:"connectorAnnotation"}},nodes:{node:{nodeAnnotations:"nodeAnnotation",ports:"port"}}},i.immediateRender=!0,i}return a(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing))return n.createElement("div",this.getDefaultAttributes(),this.props.children);e.prototype.render.call(this),this.initRenderCalled=!0},t}(r.a);Object(o.c)(s,[o.a,n.PureComponent])},function(e,t,i){"use strict";var n=i(21),r=i(0),o=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},s="e-accordion",c="e-acrdn-item",l="e-acrdn-header",h="e-acrdn-panel",d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([Object(r.q)("SlideDown")],t.prototype,"effect",void 0),a([Object(r.q)(400)],t.prototype,"duration",void 0),a([Object(r.q)("linear")],t.prototype,"easing",void 0),t}(r.d),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([Object(r.g)({effect:"SlideUp",duration:400,easing:"linear"},d)],t.prototype,"collapse",void 0),a([Object(r.g)({effect:"SlideDown",duration:400,easing:"linear"},d)],t.prototype,"expand",void 0),t}(r.d),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([Object(r.q)(null)],t.prototype,"content",void 0),a([Object(r.q)(null)],t.prototype,"header",void 0),a([Object(r.q)(null)],t.prototype,"cssClass",void 0),a([Object(r.q)(null)],t.prototype,"iconCss",void 0),a([Object(r.q)(!1)],t.prototype,"expanded",void 0),t}(r.d),f=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},n}return o(t,e),t.prototype.destroy=function(){var t=this,i=this.element;for(e.prototype.destroy.call(this),this.unwireEvents(),this.isDestroy=!0,this.restoreContent(null);i.firstChild;)i.removeChild(i.firstChild);if(this.trgtEle)for(;this.ctrlTem.firstChild;)i.appendChild(this.ctrlTem.firstChild);i.classList.remove("e-acrdn-root"),i.removeAttribute("style"),["aria-disabled","aria-multiselectable","role","data-ripple"].forEach(function(e){t.element.removeAttribute(e)})},t.prototype.preRender=function(){var e=Object(r.w)(this.element,"."+h);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),Object(r.F)(e)?this.element.classList.add("e-acrdn-root"):(e.classList.add("e-nested"),this.isNested=!0),this.enableRtl&&this.add(this.element,"e-rtl"),this.enablePersistence&&!Object(r.F)(this.expandedItems)||(this.expandedItems=[])},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.render=function(){this.initialize(),this.renderControl(),this.wireEvents()},t.prototype.initialize=function(){var e=Object(r.B)(this.width),t=Object(r.B)(this.height);Object(r.M)(this.element,{width:e,height:t});this.expandedItems.length>0&&(this.initExpand=this.expandedItems),Object(r.u)(this.element,{"aria-disabled":"false",role:"presentation","aria-multiselectable":"true"}),"Single"===this.expandMode&&this.element.setAttribute("aria-multiselectable","false")},t.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?Object(r.K)("div",this.element):null,this.renderItems(),this.initItemExpand()},t.prototype.unwireEvents=function(){r.m.remove(this.element,"click",this.clickHandler),Object(r.F)(this.keyModule)||this.keyModule.destroy()},t.prototype.wireEvents=function(){r.m.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||Object(r.J)(this.element,{selector:"."+l}),this.isNested||(this.keyModule=new r.n(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},t.prototype.focusIn=function(e){e.target.parentElement.classList.add("e-item-focus")},t.prototype.focusOut=function(e){e.target.parentElement.classList.remove("e-item-focus")},t.prototype.ctrlTemplate=function(){var e,t=this;this.ctrlTem=this.element.cloneNode(!0);var i,n=Object(r.K)(".e-accordion-container",this.element);e=n?n.children:this.element.children,Object(r.s)([].slice.call(e),[c]),[].slice.call(e).forEach(function(n){if(n.id=Object(r.D)("acrdn_item"),n.children.length>0){t.add(n.children[0],l);var o=n.children[0];Object(r.u)(o,{tabindex:"0",role:"heading","aria-level":e.length.toString()}),o.id=Object(r.D)("acrdn_header"),r.m.add(o,"focus",t.focusIn,t),r.m.add(o,"blur",t.focusOut,t);var a=o.firstElementChild;a&&a.classList.add("e-acrdn-header-content"),(i=n.children[1])&&(i.id=Object(r.D)("acrdn_panel"),o.setAttribute("aria-controls",i.id),i.style.display="",n.classList.add("e-select"),n.children[0].appendChild(t.toggleIconGenerate()),Object(r.v)(i,[h,"e-content-hide"],[]),Object(r.u)(i,{"aria-labelledby":o.id,"aria-hidden":"true"}),(i=i.firstElementChild)&&(i.classList.add("e-acrdn-content"),i.style.display=""))}})},t.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:"e-toggle-icon"}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e},t.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e)if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[t])},t.prototype.renderItems=function(){var e,t=this,i=this.element;Object(r.F)(this.initExpand)&&(this.initExpand=[]);var n=this.items;Object(r.F)(this.trgtEle)?i&&n.length>0&&n.forEach(function(n,o){e=t.renderInnerItem(n,o),i.appendChild(e),e.childElementCount>0&&(r.m.add(e.querySelector("."+l),"focus",t.focusIn,t),r.m.add(e.querySelector("."+l),"blur",t.focusOut,t))}):this.ctrlTemplate()},t.prototype.clickHandler=function(e){var t,i,n=this,o=e.target,a={};if(Object(r.w)(o,"."+s)===this.element){o.classList.add("e-target");var d,p=Object(r.w)(o,"."+c),u=Object(r.w)(o,"."+l),f=Object(r.w)(o,"."+h);p&&(Object(r.F)(u)||Object(r.F)(f))&&(u=p.children[0],f=p.children[1]),u&&(i=Object(r.K)(".e-toggle-icon",u)),u?d=Object(r.w)(u,"."+c):f&&(d=Object(r.w)(f,"."+c));var g=[];t=this.getIndexByItem(p),d&&(a.item=this.items[this.getIndexByItem(d)]),a.originalEvent=e,!(!Object(r.F)(i)&&Object(r.F)(this.trgtEle)&&p.childElementCount<=1)||!Object(r.F)(f)&&Object(r.F)(Object(r.K)(".e-acrdn-header .e-toggle-icon",d))||(p.appendChild(this.contentRendering(t)),this.ariaAttrUpdate(p)),this.trigger("clicked",a);var m=f&&!Object(r.F)(Object(r.K)(".e-target",f)),y=f&&!Object(r.F)(Object(r.K)("."+s,f))&&Object(r.F)(Object(r.w)(o,".e-acrdn-panel .e-accordion")),v=f&&Object(r.F)(Object(r.K)("."+s,f))||!(Object(r.w)(o,"."+s)===this.element);if(m=m&&(y||v),o.classList.remove("e-target"),!(o.classList.contains(h)||o.classList.contains("e-acrdn-content")||m)){var b=this.element.querySelector(".e-accordion-container"),w=b?b.children:this.element.children;[].slice.call(w).forEach(function(e){e.classList.contains("e-active")&&g.push(e)});var O=[].slice.call(this.element.querySelectorAll(".e-acrdn-item [e-animate]"));if(O.length>0)for(var x=0,j=O;x<j.length;x++){var S=j[x];g.push(S.parentElement)}var P=-1!==g.indexOf(d)&&"true"===f.getAttribute("e-animate"),C=!1;if(!Object(r.F)(p)&&!Object(r.F)(u)){var E=Object(r.K)("."+h,p),T=Object(r.w)(p,".e-acrdn-root").querySelector(".e-expand-state");if(Object(r.F)(E))return;C=T===p,!Object(r.G)(E)||P&&!d.classList.contains("e-selected")?(g.length>0&&"Single"===this.expandMode&&!P&&g.forEach(function(e){n.collapse(Object(r.K)("."+h,e)),e.classList.remove("e-expand-state")}),this.expand(E)):this.collapse(E),Object(r.F)(T)||C||T.classList.remove("e-expand-state")}}}},t.prototype.eleMoveFocus=function(e,t,i){var n,o=Object(r.w)(i,"."+c);i===t?n=("moveUp"===e?i.lastElementChild:i).querySelector("."+l):i.classList.contains(l)&&(o="moveUp"===e?o.previousElementSibling:o.nextElementSibling)&&(n=Object(r.K)("."+l,o)),n&&n.focus()},t.prototype.keyActionHandler=function(e){var t=e.target,i=Object(r.w)(e.target,l);if(!Object(r.F)(i)||t.classList.contains(s)||t.classList.contains(l)){var n,o=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,o,t);break;case"space":case"enter":n=t.nextElementSibling,!Object(r.F)(n)&&n.classList.contains(h)?"true"!==n.getAttribute("e-animate")&&t.click():t.click();break;case"home":case"end":("home"===e.action?o.firstElementChild.children[0]:o.lastElementChild.children[0]).focus()}}},t.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:l,id:Object(r.D)("acrdn_header")}),t={tabindex:"0",role:"heading","aria-expanded":"false","aria-selected":"false","aria-disabled":"false","aria-level":this.items.length.toString()};return Object(r.u)(e,t),e},t.prototype.renderInnerItem=function(e,t){var i;if((i=this.createElement("div",{className:c})).id=Object(r.D)("acrdn_item"),e.header&&this.angularnativeCondiCheck(e,"header")){var n=this.headerEleGenerate(),o=this.createElement("div",{className:"e-acrdn-header-content"});n.appendChild(o),n.appendChild(this.fetchElement(o,e.header,t,!0)),i.appendChild(n)}var a=Object(r.K)("."+l,i);if(!e.expanded||Object(r.F)(t)||this.enablePersistence||-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&i.classList.add(e.cssClass),e.iconCss){var s=this.createElement("div",{className:"e-acrdn-header-icon"}),h=this.createElement("span",{className:e.iconCss+" e-icons"});s.appendChild(h),Object(r.F)(a)?((a=this.headerEleGenerate()).appendChild(s),i.appendChild(a)):a.insertBefore(s,a.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var d=this.toggleIconGenerate();Object(r.F)(a)&&(a=this.headerEleGenerate(),i.appendChild(a)),a.appendChild(d),this.add(i,"e-select")}return i},t.prototype.angularnativeCondiCheck=function(e,t){var i="content"===t?e.content:e.header;if(this.isAngular&&!Object(r.F)(i.elementRef)){var n=i.elementRef.nativeElement.data;if(Object(r.F)(n)||""===n||-1===n.indexOf("bindings="))return!0;var o=JSON.parse(i.elementRef.nativeElement.data.replace("bindings=",""));return!(!Object(r.F)(o)&&"false"===o["ng-reflect-ng-if"])}return!0},t.prototype.fetchElement=function(e,t,i,n){var o,a,s;try{if(document.querySelectorAll(t).length){var c=document.querySelector(t);a=c.outerHTML.trim(),e.appendChild(c),c.style.display=""}}catch(l){o=Object(r.x)(t)}return Object(r.F)(o)||(s=o()),Object(r.F)(s)||!(s.length>0)||Object(r.F)(s[0].tagName)&&1===s.length?0===e.childElementCount&&(e.innerHTML=t):[].slice.call(s).forEach(function(t){Object(r.F)(t.tagName)||(t.style.display=""),e.appendChild(t)}),Object(r.F)(a)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e},t.prototype.ariaAttrUpdate=function(e){var t=Object(r.K)("."+l,e),i=Object(r.K)("."+h,e);t.setAttribute("aria-controls",i.id),i.setAttribute("aria-labelledby",t.id)},t.prototype.contentRendering=function(e){var t=this.items[e].content,i=this.createElement("div",{className:h+" e-content-hide",id:Object(r.D)("acrdn_panel")});Object(r.u)(i,{"aria-hidden":"true"});var n=this.createElement("div",{className:"e-acrdn-content"});return i.appendChild(this.fetchElement(n,t,e,!1)),i},t.prototype.expand=function(e){var t,i=Object(r.w)(e,"."+c);if(!(Object(r.F)(e)||Object(r.G)(e)&&"true"!==e.getAttribute("e-animate")||i.classList.contains("e-overlay"))){var n=Object(r.w)(i,".e-acrdn-root").querySelector(".e-expand-state"),o={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},a=Object(r.K)(".e-toggle-icon",i).firstElementChild;t={element:i,item:this.items[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+h),isExpanded:!0};var s=o.name;if(this.trigger("expanding",t),!t.cancel){if(a.classList.add("e-toggle-animation"),this.expandedItemsPush(i),Object(r.F)(n)||n.classList.remove("e-expand-state"),i.classList.add("e-expand-state"),"None"===o.name)return this.expandProgress("begin",a,e,i,t),void this.expandProgress("end",a,e,i,t);this.expandAnimation(s,a,e,i,o,t)}}},t.prototype.expandAnimation=function(e,t,i,n,o,a){var s,c=this;this.lastActiveItemId=n.id,"SlideDown"===e?(o.begin=function(){c.expandProgress("begin",t,i,n,a),i.style.position="absolute",s=n.offsetHeight,i.offsetHeight,i.style.maxHeight=i.offsetHeight+"px",n.style.maxHeight=""},o.progress=function(){n.style.minHeight=s+i.offsetHeight+"px"},o.end=function(){Object(r.M)(i,{position:"",maxHeight:""}),n.style.minHeight="",c.expandProgress("end",t,i,n,a)}):(o.begin=function(){c.expandProgress("begin",t,i,n,a)},o.end=function(){c.expandProgress("end",t,i,n,a)}),new r.b(o).animate(i)},t.prototype.expandProgress=function(e,t,i,n,o){this.remove(i,"e-content-hide"),this.add(n,"e-selected"),this.add(t,"e-expand-icon"),"end"===e&&(this.add(n,"e-active"),i.setAttribute("aria-hidden","false"),Object(r.u)(i.previousElementSibling,{"aria-selected":"true","aria-expanded":"true"}),t.classList.remove("e-toggle-animation"),this.trigger("expanded",o))},t.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);-1===this.expandedItems.indexOf(t)&&this.expandedItems.push(t)},t.prototype.getIndexByItem=function(e){return[].slice.call(this.element.children).indexOf(e)},t.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e);this.expandedItems.splice(this.expandedItems.indexOf(t),1)},t.prototype.collapse=function(e){var t,i=Object(r.w)(e,"."+c);if(!Object(r.F)(e)&&Object(r.G)(e)&&!i.classList.contains("e-overlay")){var n={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},o=Object(r.K)(".e-toggle-icon",i).firstElementChild;t={element:i,item:this.items[this.getIndexByItem(i)],index:this.getIndexByItem(i),content:i.querySelector("."+h),isExpanded:!1};var a=n.name;if(this.trigger("expanding",t),!t.cancel){if(this.expandedItemsPop(i),i.classList.add("e-expand-state"),o.classList.add("e-toggle-animation"),"None"===n.name)return this.collapseProgress("begin",o,e,i,t),void this.collapseProgress("end",o,e,i,t);this.collapseAnimation(a,e,i,o,n,t)}}},t.prototype.collapseAnimation=function(e,t,i,n,o,a){var s,c,l,h,d=this;this.lastActiveItemId=i.id,"SlideUp"===e?(o.begin=function(){l=i.offsetHeight,i.style.minHeight=l+"px",t.style.position="absolute",s=i.offsetHeight,c=t.offsetHeight,t.style.maxHeight=c+"px",d.collapseProgress("begin",n,t,i,a)},o.progress=function(){(h=s-(c-t.offsetHeight))<l&&(i.style.minHeight=h+"px")},o.end=function(){t.style.display="none",d.collapseProgress("end",n,t,i,a),i.style.minHeight="",Object(r.M)(t,{position:"",maxHeight:"",display:""})}):(o.begin=function(){d.collapseProgress("begin",n,t,i,a)},o.end=function(){d.collapseProgress("end",n,t,i,a)}),new r.b(o).animate(t)},t.prototype.collapseProgress=function(e,t,i,n,o){this.remove(t,"e-expand-icon"),this.remove(n,"e-selected"),"end"===e&&(this.add(i,"e-content-hide"),t.classList.remove("e-toggle-animation"),this.remove(n,"e-active"),i.setAttribute("aria-hidden","true"),Object(r.u)(i.previousElementSibling,{"aria-selected":"false","aria-expanded":"false"}),this.trigger("expanded",o))},t.prototype.getModuleName=function(){return"accordion"},t.prototype.itemAttribUpdate=function(){var e=[].slice.call(this.element.children),t=this.items.length;e.forEach(function(e){Object(r.K)("."+l,e).setAttribute("aria-level",""+t)})},t.prototype.addItem=function(e,t){var i=this.element;if(Object(r.F)(t)&&(t=this.items.length),i.childElementCount>=t){this.items.splice(t,0,e);var n=this.renderInnerItem(e,t);i.childElementCount===t?i.appendChild(n):i.insertBefore(n,i.children[t]),r.m.add(n.querySelector("."+l),"focus",this.focusIn,this),r.m.add(n.querySelector("."+l),"blur",this.focusOut,this),this.itemAttribUpdate()}this.expandedItems=[],this.expandedItemRefresh(i),e.expanded&&this.expandItem(!0,t)},t.prototype.expandedItemRefresh=function(e){var t=this;[].slice.call(e.children).forEach(function(e){e.classList.contains("e-selected")&&t.expandedItemsPush(e)})},t.prototype.removeItem=function(e){var t=this.element.children[e];Object(r.F)(t)||(this.restoreContent(e),Object(r.z)(t),this.items.splice(e,1),this.itemAttribUpdate(),this.expandedItems=[],this.expandedItemRefresh(this.element))},t.prototype.select=function(e){var t=this.element.children[e];Object(r.F)(t)||Object(r.F)(Object(r.K)("."+l,t))||t.children[0].focus()},t.prototype.hideItem=function(e,t){var i=this.element.children[e];Object(r.F)(i)||(Object(r.F)(t)&&(t=!0),t?this.add(i,"e-hide"):this.remove(i,"e-hide"))},t.prototype.enableItem=function(e,t){var i=this.element.children[e];if(!Object(r.F)(i)){var n=i.firstElementChild;t?(this.remove(i,"e-overlay"),Object(r.u)(n,{tabindex:"0","aria-disabled":"false"}),n.focus()):(i.classList.contains("e-active")&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,n)),this.add(i,"e-overlay"),n.setAttribute("aria-disabled","true"),n.removeAttribute("tabindex"))}},t.prototype.expandItem=function(e,t){var i=this,n=this.element;if(Object(r.F)(t))if("Single"===this.expandMode&&e){var o=n.children[n.childElementCount-1];this.itemExpand(e,o,this.getIndexByItem(o))}else{var a=Object(r.K)("#"+this.lastActiveItemId,this.element);[].slice.call(this.element.children).forEach(function(t){i.itemExpand(e,t,i.getIndexByItem(t)),t.classList.remove("e-expand-state")});var s=Object(r.K)(".e-expand-state",this.element);s&&s.classList.remove("e-expand-state"),a&&a.classList.add("e-expand-state")}else{o=this.element.children[t];if(Object(r.F)(o)||!o.classList.contains("e-select")||o.classList.contains("e-active")&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,o,t)}},t.prototype.itemExpand=function(e,t,i){var n=t.children[1];if(!t.classList.contains("e-overlay")){if(Object(r.F)(n)&&e)n=this.contentRendering(i),t.appendChild(n),this.ariaAttrUpdate(t);else if(Object(r.F)(n))return;e?this.expand(n):this.collapse(n)}},t.prototype.destroyItems=function(){this.restoreContent(null),[].slice.call(this.element.querySelectorAll("."+c)).forEach(function(e){Object(r.z)(e)})},t.prototype.restoreContent=function(e){var t;t=Object(r.F)(e)?this.element:this.element.querySelectorAll("."+c)[e],this.templateEle.forEach(function(e){Object(r.F)(t.querySelector(e))||(document.body.appendChild(t.querySelector(e)).style.display="none")})},t.prototype.updateItem=function(e,t){if(!Object(r.F)(e)){var i=this.items[t];this.items.splice(t,1),this.restoreContent(t),Object(r.z)(e),this.addItem(i,t)}},t.prototype.getPersistData=function(){return this.addOnPersist(["expandedItems"])},t.prototype.onPropertyChanged=function(e,t){for(var i=this.element,n=0,o=Object.keys(e);n<o.length;n++){switch(o[n]){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.destroyItems(),this.renderItems(),this.initItemExpand();else for(var a=Object.keys(e.items),s=0;s<a.length;s++){var l=parseInt(Object.keys(e.items)[s],10),d=Object.keys(e.items[l])[0],p=Object(r.L)("."+c,this.element)[l],u=Object(t.items[l])[d],f=Object(e.items[l])[d];("header"===d||"iconCss"===d||"expanded"===d||"content"===d&&""===u)&&this.updateItem(p,l),"cssClass"!==d||Object(r.F)(p)||(p.classList.remove(u),p.classList.add(f)),"content"!==d||Object(r.F)(p)||2!==p.children.length||(p.classList.contains("e-selected")&&this.expandItem(!1,l),Object(r.z)(p.querySelector("."+h)))}break;case"enableRtl":e.enableRtl?this.add(i,"e-rtl"):this.remove(i,"e-rtl");break;case"height":Object(r.M)(this.element,{height:Object(r.B)(e.height)});break;case"width":Object(r.M)(this.element,{width:Object(r.B)(e.width)});break;case"expandMode":"Single"===e.expandMode?(this.element.setAttribute("aria-multiselectable","false"),this.expandedItems.length>1&&this.expandItem(!1)):this.element.setAttribute("aria-multiselectable","true")}}},a([Object(r.e)([],u)],t.prototype,"items",void 0),a([Object(r.q)("100%")],t.prototype,"width",void 0),a([Object(r.q)("auto")],t.prototype,"height",void 0),a([Object(r.q)("Multiple")],t.prototype,"expandMode",void 0),a([Object(r.g)({},p)],t.prototype,"animation",void 0),a([Object(r.l)()],t.prototype,"clicked",void 0),a([Object(r.l)()],t.prototype,"expanding",void 0),a([Object(r.l)()],t.prototype,"expanded",void 0),a([Object(r.l)()],t.prototype,"created",void 0),a([Object(r.l)()],t.prototype,"destroyed",void 0),t=a([r.p],t)}(r.i),g=i(10),m=i(7),y=i(9),v=i(1),b=i(43),w=i(48),O=i(14),x=i(20),j=i(13),S=i(32),P=i(3),C=i(6),E=i(2),T=i(23),k=i(4),I=i(30),A=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),M=function(e,t,i,n){var r,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,i,a):r(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},z=function(e){var t=e;return t.sourcePoint||t.targetPoint||t.sourceID||t.targetID||t.sourcePortID||t.targetPortID||t.sourceDecorator||t.targetDecorator?g.b:(e.shape&&(e.shape instanceof m.t||e.shape.type),m.q)},D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),M([Object(r.q)("")],t.prototype,"id",void 0),M([Object(r.q)()],t.prototype,"height",void 0),M([Object(r.q)(!0)],t.prototype,"expanded",void 0),M([Object(r.q)("")],t.prototype,"iconCss",void 0),M([Object(r.q)("")],t.prototype,"title",void 0),M([Object(r.f)(z)],t.prototype,"symbols",void 0),t}(r.d),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),M([Object(r.q)()],t.prototype,"width",void 0),M([Object(r.q)()],t.prototype,"height",void 0),M([Object(r.g)({},k.a)],t.prototype,"offset",void 0),t}(r.d),R=function(e){function t(t,i){var n,r,o=e.call(this,t,i)||this;o.symbolTable={},o.childTable={},o.info="info",o.laneTable={},o.helper=function(e){var t,i=e.sender.target.id.split("_container")[0],n=o.symbolTable[i];if(n&&o.selectedSymbol){o.selectedSymbols=o.selectedSymbol.id===n.id?n:o.selectedSymbol;o.getMousePosition(e.sender);(t=o.getSymbolPreview(o.selectedSymbols,e.sender,o.element)).setAttribute("paletteId",o.element.id)}return t};for(var a=0;o&&o.palettes&&a<o.palettes.length;a++)for(var s=0;s<o.palettes[a].symbols.length;s++)n=o.palettes[a].symbols[s],r=t.palettes[a].symbols[s],n&&"UmlActivity"===n.shape.type&&Object(C.N)(r,n);return o}return A(t,e),t.prototype.onPropertyChanged=function(e,t){for(var i=!1,n=0,r=Object.keys(e);n<r.length;n++){switch(r[n]){case"width":this.element.style.width=this.width.toString();break;case"height":this.element.style.height=this.height.toString();break;case"symbolPreview":break;case"symbolWidth":case"symbolHeight":case"getSymbolInfo":i=!0;break;case"enableSearch":if(e.enableSearch)this.createTextbox();else{var o=document.getElementById(this.element.id+"_search");o&&o.parentNode.removeChild(o)}break;case"palettes":for(var a=0,s=Object.keys(e.palettes);a<s.length;a++){var c=s[a],l=Number(c);this.accordionElement.items[l]||(this.accordionElement.items[l]={header:e.palettes[l].title||"",expanded:e.palettes[l].expanded,iconCss:e.palettes[l].iconCss||""}),void 0!==e.palettes[l].iconCss&&(this.accordionElement.items[l].iconCss=e.palettes[l].iconCss||"",i=!0),void 0!==e.palettes[l].expanded&&(this.palettes[l].isInteraction?this.palettes[l].isInteraction=!1:(this.accordionElement.items[l].expanded=e.palettes[l].expanded,i=!0))}break;case"enableAnimation":this.enableAnimation?this.accordionElement.animation={expand:{duration:400},collapse:{duration:400}}:this.accordionElement.animation={expand:{duration:0},collapse:{duration:0}};break;case"expandMode":this.accordionElement.expandMode=this.expandMode,i=!0;break;case"allowDrag":this.allowDrag=e.allowDrag,this.allowDrag?this.draggable.helper=this.helper:this.draggable.helper=function(){return null}}}i&&this.refreshPalettes()},t.prototype.getPersistData=function(){return this.addOnPersist(["loaded"])},t.prototype.preRender=function(){var e=this;this.element.style.overflow="auto",this.element.style.height=this.height.toString(),this.element.style.width=this.width.toString(),this.enableSearch&&this.createTextbox();var t=Object(P.b)("div",{id:this.element.id+"_container"});this.accordionElement=new f({expandMode:this.expandMode}),this.enableAnimation||(this.accordionElement.animation={expand:{duration:0},collapse:{duration:0}}),this.accordionElement.expanded=function(t){var i=e.accordionElement.items.indexOf(t.item);e.palettes[i].expanded=t.isExpanded,e.palettes[i].isInteraction=!0},this.element.appendChild(t);window.measureElement&&(window.measureElement=null),Object(P.c)(),this.unWireEvents(),this.wireEvents()},t.prototype.render=function(){this.diagramRenderer=new b.a(this.element.id,new S.a,!1),this.svgRenderer=new b.a(this.element.id,new S.a,!0),this.updatePalettes(),this.accordionElement.appendTo("#"+this.element.id+"_container")},t.prototype.getModuleName=function(){return"SymbolPalette"},t.prototype.requiredModules=function(){var e=[];return e.push({member:"Bpmn",args:[]}),e},t.prototype.destroy=function(){if(this.allowDrag){this.draggable.destroy(),this.unWireEvents(),this.notify("destroy",{}),e.prototype.destroy.call(this);var t=document.getElementById(this.element.id+"_container");if(t){this.element.removeChild(t);window.measureElement&&(window.measureElement.usageCount-=1,0===window.measureElement.usageCount&&(window.measureElement.parentNode.removeChild(window.measureElement),window.measureElement=null))}(t=document.getElementById(this.element.id+"_search"))&&t.parentNode.removeChild(t),this.element.classList.remove("e-symbolpalette")}},t.prototype.initSymbols=function(e){for(var t=[],i=0,n=0,r=0,o=e.symbols;r<o.length;r++){if("SwimLane"===(P=o[r]).shape.type){var a=P,s=P.shape,c="Horizontal"===s.orientation;if(s.isLane){i=c?this.symbolHeight-this.symbolHeight/2:this.symbolHeight-this.symbolHeight/4,n=c?this.symbolWidth-this.symbolWidth/4:this.symbolWidth-this.symbolWidth/2,this.laneTable[P.id]={height:i,width:n};var l=s.lanes[0].header,h=s.lanes[0].style,d=l.style,p={id:"header"+Object(E.i)(),shape:{type:"Basic",shape:"Rectangle"},width:c?l.width:a.width,height:c?a.height:l.height,style:d,annotations:[{content:l.annotation.content}]};p.offsetX=p.width/2,p.offsetY=p.height/2,this.addPaletteItem(e.id,p);var u={id:"lane"+Object(E.i)(),shape:{type:"Basic",shape:"Rectangle"},width:c?a.width-l.width:a.width,height:c?a.height:a.height-l.height,style:h};u.offsetX=c?p.width+u.width/2:u.width/2,u.offsetY=c?u.height/2:p.height+u.height/2,this.addPaletteItem(e.id,u),a.children=[p.id,u.id]}else s.isPhase&&(i=a.height?a.height:this.symbolHeight,n=a.width?a.width:this.symbolWidth,P.shape.type="Path",P.shape.data=c?"M0,0 L"+n+",0":"M0,0 L0,"+n)}if(P instanceof m.q){var f=Object(E.f)(this.getNodeDefaults);f&&f(P,this)}else if(P instanceof g.b){var y=Object(E.f)(this.getConnectorDefaults);y&&y(P,this)}this.symbolTable[P.id]=P,P instanceof m.q&&P.children&&t.push(P)}for(var v=0;v<t.length;v++)for(var b=void 0,w=0;w<t[v].children.length;w++)(b=this.symbolTable[t[v].children[w]])&&(this.childTable[b.id]=b,b.parentId=t[v].id);for(var O=0,x=e.symbols;O<x.length;O++){(P=x[O])instanceof m.q&&P.children||this.prepareSymbol(P)}for(var j=0,S=t;j<S.length;j++){var P=S[j];this.prepareSymbol(P)}},t.prototype.renderPalette=function(e){var t="display:none;overflow:auto;";e.height&&(t+="height:"+e.height+"px");var i=Object(P.b)("div",{id:e.id,style:t});this.element.appendChild(i);var n={header:e.title,expanded:e.expanded,content:"#"+e.id,iconCss:e.iconCss};this.accordionElement.items.push(n),this.renderSymbols(e,i)},t.prototype.addPaletteItem=function(e,t){for(var i=0;i<this.palettes.length;i++){var n=this.palettes[i];if(-1!==n.id.indexOf(e)){for(var r=[void 0,n,"symbols",{},!0],o=new(Function.prototype.bind.apply(z(t),r)),a=0;a<Object.keys(t).length;a++)o[Object.keys(t)[a]]=t[Object.keys(t)[a]];n.symbols.push(o),o.children||this.prepareSymbol(o),this.symbolTable[o.id]=o;var s=document.getElementById(n.id);s&&s.appendChild(this.getSymbolContainer(o,s));break}}},t.prototype.removePaletteItem=function(e,t){for(var i,n=0;n<this.palettes.length;n++){var r=this.palettes[n];if(-1!==r.id.indexOf(e))for(var o=0,a=r.symbols;o<a.length;o++){var s=a[o];if(-1!==s.id.indexOf(t)){var c=r.symbols.indexOf(s);if(r.symbols.splice(c,1),s.children)for(var l=s.children,h=0;h<l.length;h++)delete this.symbolTable[l[h]];delete this.symbolTable[s.id];var d=document.getElementById(s.id+"_container");d.parentNode.removeChild(d),i=!0;break}}if(i)break}},t.prototype.prepareSymbol=function(e){var t,i,n,r,o,a=new w.a,s=e,c=new x.a,l=e instanceof m.q?e.initContainer():null;l&&!l.children&&(l.children=[]);var h=Object(E.f)(this.getSymbolTemplate);if(h&&(o=h(e)),o||(s.children?o=this.getContainer(s,l):(o=e.init(this),e instanceof m.q&&e.parentId&&l.children.push(o))),!e.parentId){var d={width:this.symbolWidth,height:this.symbolHeight},p=Object(E.f)(this.getSymbolInfo);if(p&&(d=p(e)),d=d||{},e.shape&&e.shape.isPhase&&(d.width=d.width||this.symbolWidth,d.height=d.height||this.symbolHeight),o.relativeMode="Object",o.horizontalAlignment=o.verticalAlignment="Center",c.style.strokeColor=c.style.fill="none",c.children=[o],o.measure(new y.a),o.arrange(o.desiredSize),t=d.width=d.width||(void 0!==s.width?o.actualSize.width:void 0)||this.symbolWidth,n=d.height=d.height||(void 0!==s.height?o.actualSize.height:void 0)||this.symbolHeight,void 0!==t&&void 0!==n){var u=t,f=n,v=(e.shape.isLane,!!e.shape.isPhase);void 0!==this.symbolWidth?u=this.symbolWidth-this.symbolMargin.left-this.symbolMargin.right:t+=s.style.strokeWidth,void 0!==this.symbolHeight?f=this.symbolHeight-this.symbolMargin.top-this.symbolMargin.bottom:n+=s.style.strokeWidth,d.description&&""!==d.description.text&&(f-=20),i=u/(!v&&o.width||t),r=f/(!v&&o.height||n),d.fit&&(i=u/d.width,r=f/d.height),t=u,n=f,i=r=Math.min(i,r),c.width=t,c.height=n,o.width=d.width,o.height=d.height,this.scaleSymbol(e,c,i,r,t,n)}else{var b=void 0;e instanceof g.b&&(b=Object(T.f)(e)),o.width=e.width||b?b.width:o.actualSize.width,o.height=e.height||b?b.height:o.actualSize.height}e.wrapper=a,a.children=[c],o.pivot=a.pivot={x:0,y:0},a.id=o.id+"_symbol",a.style.fill=a.style.strokeColor="transparent",a.offsetX=e.style.strokeWidth/2,a.offsetY=e.style.strokeWidth/2,this.getSymbolDescription(d,t,a),a.measure(new y.a),a.arrange(a.desiredSize),d.width=d.width||o.actualSize.width,d.height=d.height||o.actualSize.height,e[this.info]=d}e.parentId&&(l.measure(new y.a(s.width,s.height)),l.arrange(l.desiredSize))},t.prototype.getContainer=function(e,t){var i;t.measureChildren=!1;var n=e.children;t.children=[];for(var r=0;r<n.length;r++)this.symbolTable[n[r]]&&t.children.push(this.symbolTable[n[r]].wrapper);return t.measure(new y.a(e.width,e.height)),t.arrange(t.desiredSize),0===t.bounds.x&&0===t.bounds.y||(i=t.bounds,Object(C.c)(e,i.x,i.y,this.symbolTable,!1,this),t=this.getContainer(e,t)),t},t.prototype.getSymbolDescription=function(e,t,i){if(e&&e.description&&e.description.text){var n=new j.a;e.description.overflow=e.description.overflow||"Ellipsis",e.description.wrap=e.description.wrap||"WrapWithOverflow",n.content=e.description.text,n.width=t,n.height=20,n.style.strokeColor="transparent",n.style.fill="transparent",n.style.strokeWidth=0,n.style.textWrapping=e.description.wrap,n.style.textOverflow=e.description.overflow,n.margin={left:0,right:0,top:0,bottom:5},i.children.push(n)}},t.prototype.renderSymbols=function(e,t){for(var i=0,n=e.symbols;i<n.length;i++){var r=n[i];r.parentId||this.getSymbolContainer(r,t)}},t.prototype.getSymbolPreview=function(e,t,i){var n,r,o,a=e.wrapper.children[0].desiredSize.width+e.style.strokeWidth,s=e.wrapper.children[0].desiredSize.height+e.style.strokeWidth,c=e.wrapper.children[0].children[0];if(void 0!==this.symbolPreview.width||void 0!==this.symbolPreview.height){a=(this.symbolPreview.width||a)-e.style.strokeWidth,s=(this.symbolPreview.height||s)-e.style.strokeWidth,r=a/c.actualSize.width,o=s/c.actualSize.height,r=o=Math.min(r,o);var l=c.actualSize.width*r,h=c.actualSize.height*o;e.wrapper.children[0].width=a,e.wrapper.children[0].height=s,this.measureAndArrangeSymbol(c,e instanceof m.q),this.scaleSymbol(e,e.wrapper.children[0],r,o,l,h,!0),a=l,s=h}var d={x:c.offsetX,y:c.offsetY};c.offsetX=c.offsetY=e.style.strokeWidth/2,c.pivot={x:0,y:0},this.measureAndArrangeSymbol(c,e instanceof m.q);var p,u=Object(P.b)("div",{draggable:"true",class:"e-dragclone",style:"pointer-events:none"});document.body.appendChild(u);var f="margin:5px;";if("Native"===e.shape.type){n=Object(P.d)("svg",{id:e.id+"_preview",width:Math.ceil(a)+1,height:Math.ceil(s)+1});var y=Object(P.d)("g",{id:e.id+"_g"});n.appendChild(y),u.appendChild(n),this.svgRenderer.renderElement(c,y,void 0,void 0,n)}else if("HTML"===e.shape.type)p=this.getHtmlSymbol(e,n,u,s,a,!0);else if(e.children&&e.children.length>0&&Object(C.B)(e,"HTML",this.childTable))p=this.getGroupParent(e,n,u,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!0);else{n=I.a.createCanvas(e.id+"_preview",2*(Math.ceil(a)+e.style.strokeWidth+1),2*(Math.ceil(s)+e.style.strokeWidth+1)),u.appendChild(n),f+="transform:scale(0.5);",n.setAttribute("transform-origin","0 0");var v=2;e instanceof g.b&&(v=1.9),n.getContext("2d").setTransform(v,0,0,v,0,0),this.diagramRenderer.renderElement(c,n,void 0)}return(p&&("HTML"===e.shape.type||e.children&&e.children.length>0)?p:n).setAttribute("style",f),c.offsetX=d.x,c.offsetY=d.y,u},t.prototype.measureAndArrangeSymbol=function(e,t){e.children&&!t&&(e.children[0].transform=v.s.Self),e.measure(new y.a),e.arrange(e.desiredSize),e.children&&(e.children[0].transform=v.s.Parent)},t.prototype.updateSymbolSize=function(e,t,i){var n=e.wrapper.children[0].children[0],r=e.style.strokeWidth;n.width=(t||n.width)-(r+1),n.height=(i||n.height)-(r+1),e.wrapper.measure(new y.a),e.wrapper.arrange(e.wrapper.desiredSize)},t.prototype.getSymbolContainer=function(e,t,i){var n,r,o,a=this.symbolTable[e.id][this.info],s=this.getSymbolSize(e,a),c=s.width+1,l=s.height+1,h=Object(P.b)("div",{id:e.id+"_container",style:"width:"+c+"px;height:"+l+"px;float:left;overflow:hidden",title:a.tooltip?a.tooltip:e.id});if(t.appendChild(h),"Native"===e.shape.type)n=Object(P.d)("svg",{id:e.id,width:Math.ceil(e.wrapper.actualSize.width)+1,height:Math.ceil(e.wrapper.actualSize.height)+1}),r=Object(P.d)("g",{id:e.id+"_g"}),n.appendChild(r),h.appendChild(n),this.updateSymbolSize(e),this.svgRenderer.renderElement(e.wrapper,r,void 0,void 0,n);else if("HTML"===e.shape.type)o=this.getHtmlSymbol(e,n,h,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else if(e.children&&e.children.length>0&&Object(C.B)(e,"HTML",this.childTable))o=this.getGroupParent(e,n,h,e.wrapper.actualSize.height,e.wrapper.actualSize.width,!1);else{n=I.a.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),h.appendChild(n);var d=2;e instanceof g.b&&(d=1.9),n.getContext("2d").setTransform(d,0,0,d,0,0),this.diagramRenderer.renderElement(e.wrapper,r||n,void 0,void 0,void 0,void 0,!0)}if(!i){var p=e.wrapper.actualSize.width+e.style.strokeWidth,u=e.wrapper.actualSize.height+e.style.strokeWidth,f="pointer-events:none;transform-origin:0 0;overflow:hidden;";return e.shape.isPhase?"Horizontal"===e.shape.orientation?f+="margin-left:"+Math.max(this.symbolMargin.left,(c-p)/2)+"px;margin-top:"+s.height/2+"px;":f+="margin-left:"+s.width/2+"px;margin-top:"+Math.max(this.symbolMargin.top,(l-u)/2)+"px;":f+="margin-left:"+Math.max(this.symbolMargin.left,(c-p)/2)+"px;margin-top:"+Math.max(this.symbolMargin.top,(l-u)/2)+"px;",n instanceof HTMLCanvasElement&&(f+="transform:scale(.5,.5);"),(o&&("HTML"===e.shape.type||e.children&&e.children.length>0)?o:n).setAttribute("style",f),h.classList.add("e-symbol-draggable"),h}return n},t.prototype.getGroupParent=function(e,t,i,n,r,o){var a=Object(P.b)("div",{id:e.id+(o?"_html_div_preview":"_html_div")}),s=Object(P.b)("div",{id:e.id+(o?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(n+1)+"px;position:absolute",class:"e-html-layer"}),c=Object(P.b)("div",{id:e.id+(o?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(n+1)+"px;position:absolute"});return s.appendChild(c),a.appendChild(s),t=I.a.createCanvas(o?e.id+"_preview":e.id,Math.ceil(r)+1,Math.ceil(n)+1),a.appendChild(t),i.appendChild(a),this.diagramRenderer.renderElement(e.wrapper.children[0].children[0],t,s),a},t.prototype.getHtmlSymbol=function(e,t,i,n,r,o){var a=Object(P.b)("div",{id:e.id+(o?"_html_div_preview":"_html_div")}),s=Object(P.b)("div",{id:e.id+(o?"_htmlLayer_preview":"_htmlLayer"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(n+1)+"px;position:absolute",class:"e-html-layer"}),c=Object(P.b)("div",{id:e.id+(o?"_htmlLayer_div_preview":"_htmlLayer_div"),style:"width:"+Math.ceil(r+1)+"px;height:"+Math.ceil(n+1)+"px;position:absolute"});return s.appendChild(c),a.appendChild(s),t=I.a.createCanvas(e.id,Math.ceil(2*(e.wrapper.actualSize.width+e.style.strokeWidth))+1,Math.ceil(2*(e.wrapper.actualSize.height+e.style.strokeWidth))+1),i.appendChild(t),t.getContext("2d").setTransform(2,0,0,2,0,0),a.appendChild(t),i.appendChild(a),this.diagramRenderer.renderElement(e.wrapper.children[0].children[0],t,s),a},t.prototype.getSymbolSize=function(e,t){var i=e.wrapper.actualSize.width,n=e.wrapper.actualSize.height;return this.symbolWidth||this.symbolHeight?(i=this.symbolWidth,n=Math.max(this.symbolHeight,n)):(i+=this.symbolMargin.left+this.symbolMargin.right+e.style.strokeWidth,n+=this.symbolMargin.top+this.symbolMargin.bottom+e.style.strokeWidth),new y.a(i,n)},t.prototype.getMousePosition=function(e){var t,i,n;if(-1!==e.type.indexOf("touch")){var r=(n=e).changedTouches[0].clientY,o=n.changedTouches[0].clientX;t=r-this.element.offsetTop,i=o-this.element.offsetLeft}else t=e.clientY-this.element.offsetTop,i=e.clientX-this.element.offsetLeft;return{x:i,y:t}},t.prototype.mouseMove=function(e,t){!this.highlightedSymbol||this.selectedSymbol&&this.selectedSymbol.id+"_container"===this.highlightedSymbol.id||(this.highlightedSymbol.classList.remove("e-symbol-hover"),this.highlightedSymbol.style.backgroundColor="",this.highlightedSymbol=null);var i=e.target.id.split("_container")[0];if(this.symbolTable[i]){var n=document.getElementById(i+"_container");n.classList.add("e-symbol-hover"),this.highlightedSymbol=n}e.preventDefault()},t.prototype.mouseUp=function(e){if(e&&e.target)if("iconSearch"===e.srcElement.id){var t=document.getElementById("iconSearch");t.classList.contains("e-clear-searchtext")&&(t.className="e-input-group-icon e-search e-icons",document.getElementById("textEnter").value="",this.searchPalette(""))}else{var i=e.target.id.split("_container")[0];if(i&&this.selectedSymbol){var n={oldValue:this.selectedSymbol.id,newValue:i};this.trigger("paletteSelectionChange",n),e.preventDefault()}}},t.prototype.keyUp=function(e){var t=this;if(this.enableSearch){var i=this;document.getElementById("iconSearch").className="e-input-group-icon e-clear-searchtext e-icons",!e||"Enter"!==e.key&&13!==e.keyCode?(this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){e.target instanceof HTMLInputElement&&(i.searchPalette(e.target.value),t.timer=null)},500)):e.target instanceof HTMLInputElement&&this.searchPalette(e.target.value)}},t.prototype.mouseDown=function(e){var t=e.target.id.split("_container")[0];if(this.selectedSymbol){var i,n=document.getElementById(this.selectedSymbol.id+"_container");t!==this.selectedSymbol.id&&n&&n.classList.remove("e-symbol-selected"),(i=document.getElementById(this.selectedSymbol.id+"_container"))&&(i.style.backgroundColor=""),this.selectedSymbol=null}this.symbolTable[t]&&((i=document.getElementById(t+"_container")).classList.add("e-symbol-selected"),this.selectedSymbol=this.symbolTable[t],e.preventDefault())},t.prototype.keyDown=function(e){if(e&&"Escape"===e.key){var t=this.draggable.helperElement;t&&t.parentNode&&(t.parentNode.removeChild(t),this.draggable.intDestroy())}},t.prototype.initDraggable=function(){if(this.allowDrag){this.draggable=new r.j(this.element,{dragTarget:".e-symbol-draggable",helper:this.helper,dragStart:this.dragStart,preventDefault:!1,dragStop:this.dragStop,drag:function(e){var t=Object(P.D)(e.target,"e-droppable");if(t&&t.classList.contains("e-diagram")){t.ej2_instances[0].droppable.over(e)}},cursorAt:{left:this.symbolPreview.offset.x,top:this.symbolPreview.offset.y}})}},t.prototype.dragStart=function(e){var t=this.helper[0];t&&t.setAttribute("paletteId",this.element.id)},t.prototype.dragStop=function(e){Object(P.D)(e.target,"e-diagram")||Object(r.H)(e.helper)},t.prototype.scaleSymbol=function(e,t,i,n,r,o,a){if(e instanceof g.b){var s=e.wrapper;e.wrapper=t.children[0];for(var c=e.scale(i,n,r,o,t.children[0]),l=r/2-t.children[0].children[0].offsetX+c.x/2,h=o/2-t.children[0].children[0].offsetY+c.y/2,d=0,p=t.children[0].children;d<p.length;d++){var u=p[d];u.offsetX+=l,u.offsetY+=h,u.staticSize=!1}e.wrapper=s}else if(e.shape instanceof m.g&&this.bpmnModule){s=e.wrapper;e.wrapper=t,t.children[0].width=r,t.children[0].height=o,this.bpmnModule.updateBPMN({width:r,height:o},e,e,null),e.wrapper=s}else if(e.children){var f,v,b=e.children;if(!a)for(var w=void 0,O=void 0,x=0;x<b.length;x++)(O=t.children[0].children[x])&&(O.children[0].children&&this.measureChild(O),w=this.symbolTable[O.id],O.width=w.width,O.height=w.height,O.measure(new y.a),O.arrange(O.children[0].desiredSize));if(f=r/t.children[0].desiredSize.width,v=o/t.children[0].desiredSize.height,t.children[0].measure(new y.a),t.children[0].arrange(t.children[0].desiredSize),!a){var j=void 0;for(x=0;x<b.length;x++)(j=t.children[0].children[x])&&(j.children[0].children&&this.scaleChildren(j,f,v,e),this.scaleGroup(j,f,v,e))}if(a){w=void 0;var S=void 0,P=void 0;for(j=void 0,x=0;x<b.length;x++)w=this.symbolTable[b[x]],S=r/e.wrapper.children[0].desiredSize.width,P=o/e.wrapper.children[0].desiredSize.height,(j=t.children[0].children[x])&&(j.children[0].children&&this.scaleChildren(j,S,P,e,!0),this.scaleGroup(j,S,P,e,!0));e.wrapper.children[0].measure(new y.a),e.wrapper.children[0].arrange(e.wrapper.children[0].desiredSize)}}else Object(C.K)(t.children[0],i,n,t)},t.prototype.scaleChildren=function(e,t,i,n,r){for(var o,a=0;a<e.children.length;a++)(o=e.children[a]).children[0].children?this.scaleChildren(o,t,i,n,r):this.scaleGroup(o,t,i,n,r)},t.prototype.measureChild=function(e){for(var t,i,n=0;n<e.children.length;n++)(t=e.children[n]).children[0].children?this.measureChild(t):(i=this.symbolTable[t.id],t.width=i.width,t.height=i.height,t.measure(new y.a),t.arrange(t.children[0].desiredSize))},t.prototype.scaleGroup=function(e,t,i,n,r){e.width=e.width*t,e.height=e.height*i,e.offsetX=r?e.offsetX*t-n.style.strokeWidth:e.offsetX*t+n.style.strokeWidth/2,e.offsetY=r?e.offsetY*i-n.style.strokeWidth:e.offsetY*i+n.style.strokeWidth/2,e.measure(new y.a),e.arrange(e.children[0].desiredSize)},t.prototype.refreshPalettes=function(){this.accordionElement.items=[],this.updatePalettes(),this.accordionElement.dataBind()},t.prototype.updatePalettes=function(){for(var e=0;e<this.palettes.length;e++){var t=this.palettes[e];this.initSymbols(t),this.renderPalette(t)}},t.prototype.createTextbox=function(){var e=Object(P.b)("div",{id:this.element.id+"_search"});e.setAttribute("style","backgroundColor:white;height:30px"),e.className="e-input-group",this.element.appendChild(e);var t=Object(P.b)("input",{});t.placeholder="Search Shapes",t.id="textEnter",t.setAttribute("style","width:100%;height:auto"),t.className="e-input",e.appendChild(t);var i=Object(P.b)("span",{id:"iconSearch",className:"e-input-group-icon e-search e-icons"});e.appendChild(i)},t.prototype.searchPalette=function(e){var t,i=[],n=document.getElementById("SearchPalette");if(n)for(var r=n.children.length-1;r>=0;r--)n.removeChild(n.children[r]);for(var o=0;o<this.palettes.length;o++)for(var a=this.palettes[o],s=0;s<a.symbols.length;s++){var c=a.symbols[s];""!==e&&-1!==c.id.toLowerCase().indexOf(e.toLowerCase())&&i.push(c)}var l=Object(E.f)(this.filterSymbols);if(l&&(i=l(i)||[]),n||(n=t=this.createSearchPalette(t)),i.length>0)for(var h=0,d=i;h<d.length;h++){var p=d[h];this.getSymbolContainer(p,n)}else if(""!==e){var u=Object(P.b)("div",{id:"EmptyDiv",style:"text-align:center;font-style:italic"});u.innerHTML="No Items To Display",n.appendChild(u)}else{document.getElementById("iconSearch").className="e-input-group-icon e-search e-icons",this.accordionElement.removeItem(0)}},t.prototype.createSearchPalette=function(e){e=Object(P.b)("div",{id:"SearchPalette",style:"display:none;overflow:auto;"}),this.element.appendChild(e);return this.accordionElement.addItem({header:"Search Results",expanded:!0,content:"#SearchPalette"},0),e},t.prototype.wireEvents=function(){var e=r.c.touchStartEvent,t=r.c.touchEndEvent,i=r.c.touchMoveEvent;r.m.add(this.element,e,this.mouseDown,this),r.m.add(this.element,i,this.mouseMove,this),r.m.add(this.element,t,this.mouseUp,this),r.m.add(this.element,"keyup",this.keyUp,this),r.m.add(document,"keydown",this.keyDown,this),this.initDraggable()},t.prototype.unWireEvents=function(){var e=r.c.touchStartEvent,t=r.c.touchEndEvent,i=r.c.touchMoveEvent;r.c.isPointer;r.m.remove(this.element,e,this.mouseDown),r.m.remove(this.element,i,this.mouseMove),r.m.remove(this.element,t,this.mouseUp),r.m.remove(this.element,"keyup",this.keyUp),r.m.remove(document,"keydown",this.keyDown)},M([Object(r.q)("S")],t.prototype,"accessKey",void 0),M([Object(r.q)("100%")],t.prototype,"width",void 0),M([Object(r.q)("100%")],t.prototype,"height",void 0),M([Object(r.e)([],D)],t.prototype,"palettes",void 0),M([Object(r.q)()],t.prototype,"getSymbolInfo",void 0),M([Object(r.q)()],t.prototype,"filterSymbols",void 0),M([Object(r.q)()],t.prototype,"getSymbolTemplate",void 0),M([Object(r.q)()],t.prototype,"symbolWidth",void 0),M([Object(r.q)()],t.prototype,"symbolHeight",void 0),M([Object(r.g)({left:10,right:10,top:10,bottom:10},O.a)],t.prototype,"symbolMargin",void 0),M([Object(r.q)(!0)],t.prototype,"allowDrag",void 0),M([Object(r.g)({},L)],t.prototype,"symbolPreview",void 0),M([Object(r.q)(!1)],t.prototype,"enableSearch",void 0),M([Object(r.q)(!0)],t.prototype,"enableAnimation",void 0),M([Object(r.q)("Multiple")],t.prototype,"expandMode",void 0),M([Object(r.l)()],t.prototype,"paletteSelectionChange",void 0),M([Object(r.q)()],t.prototype,"getNodeDefaults",void 0),M([Object(r.q)()],t.prototype,"getConnectorDefaults",void 0),t}(r.i),N=i(36);i.d(t,"a",function(){return _});var H=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.directivekeys={palettes:"palette"},i.immediateRender=!0,i}return H(t,e),t.prototype.render=function(){if(!(this.element&&!this.initRenderCalled||this.refreshing))return n.createElement("div",this.getDefaultAttributes(),this.props.children);e.prototype.render.call(this),this.initRenderCalled=!0},t}(R);Object(N.c)(_,[N.a,n.PureComponent])}]]);
//# sourceMappingURL=2.da2882d8.chunk.js.map